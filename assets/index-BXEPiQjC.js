function t9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bb={exports:{}},hf={};var BN;function n9(){if(BN)return hf;BN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return hf.Fragment=e,hf.jsx=n,hf.jsxs=n,hf}var $N;function r9(){return $N||($N=1,Bb.exports=n9()),Bb.exports}var f=r9(),$b={exports:{}},Ke={};var qN;function i9(){if(qN)return Ke;qN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function I($,Y,Q){this.props=$,this.context=Y,this.refs=A,this.updater=Q||T}I.prototype.isReactComponent={},I.prototype.setState=function($,Y){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Y,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function L(){}L.prototype=I.prototype;function k($,Y,Q){this.props=$,this.context=Y,this.refs=A,this.updater=Q||T}var B=k.prototype=new L;B.constructor=k,S(B,I.prototype),B.isPureReactComponent=!0;var M=Array.isArray;function q(){}var j={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function O($,Y,Q){var ne=Q.ref;return{$$typeof:t,type:$,key:Y,ref:ne!==void 0?ne:null,props:Q}}function R($,Y){return O($.type,Y,$.props)}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var Y={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Q){return Y[Q]})}var z=/\/+/g;function X($,Y){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):Y.toString(36)}function ce($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(q,q):($.status="pending",$.then(function(Y){$.status==="pending"&&($.status="fulfilled",$.value=Y)},function(Y){$.status==="pending"&&($.status="rejected",$.reason=Y)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function K($,Y,Q,ne,_e){var oe=typeof $;(oe==="undefined"||oe==="boolean")&&($=null);var we=!1;if($===null)we=!0;else switch(oe){case"bigint":case"string":case"number":we=!0;break;case"object":switch($.$$typeof){case t:case e:we=!0;break;case p:return we=$._init,K(we($._payload),Y,Q,ne,_e)}}if(we)return _e=_e($),we=ne===""?"."+X($,0):ne,M(_e)?(Q="",we!=null&&(Q=we.replace(z,"$&/")+"/"),K(_e,Y,Q,"",function(Te){return Te})):_e!=null&&(D(_e)&&(_e=R(_e,Q+(_e.key==null||$&&$.key===_e.key?"":(""+_e.key).replace(z,"$&/")+"/")+we)),Y.push(_e)),1;we=0;var je=ne===""?".":ne+":";if(M($))for(var le=0;le<$.length;le++)ne=$[le],oe=je+X(ne,le),we+=K(ne,Y,Q,oe,_e);else if(le=w($),typeof le=="function")for($=le.call($),le=0;!(ne=$.next()).done;)ne=ne.value,oe=je+X(ne,le++),we+=K(ne,Y,Q,oe,_e);else if(oe==="object"){if(typeof $.then=="function")return K(ce($),Y,Q,ne,_e);throw Y=String($),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return we}function Z($,Y,Q){if($==null)return $;var ne=[],_e=0;return K($,ne,"","",function(oe){return Y.call(Q,oe,_e++)}),ne}function he($){if($._status===-1){var Y=$._result;Y=Y(),Y.then(function(Q){($._status===0||$._status===-1)&&($._status=1,$._result=Q)},function(Q){($._status===0||$._status===-1)&&($._status=2,$._result=Q)}),$._status===-1&&($._status=0,$._result=Y)}if($._status===1)return $._result.default;throw $._result}var me=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},ee={map:Z,forEach:function($,Y,Q){Z($,function(){Y.apply(this,arguments)},Q)},count:function($){var Y=0;return Z($,function(){Y++}),Y},toArray:function($){return Z($,function(Y){return Y})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ke.Activity=g,Ke.Children=ee,Ke.Component=I,Ke.Fragment=n,Ke.Profiler=i,Ke.PureComponent=k,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ke.__COMPILER_RUNTIME={__proto__:null,c:function($){return j.H.useMemoCache($)}},Ke.cache=function($){return function(){return $.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function($,Y,Q){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=S({},$.props),_e=$.key;if(Y!=null)for(oe in Y.key!==void 0&&(_e=""+Y.key),Y)!E.call(Y,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Y.ref===void 0||(ne[oe]=Y[oe]);var oe=arguments.length-2;if(oe===1)ne.children=Q;else if(1<oe){for(var we=Array(oe),je=0;je<oe;je++)we[je]=arguments[je+2];ne.children=we}return O($.type,_e,ne)},Ke.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},Ke.createElement=function($,Y,Q){var ne,_e={},oe=null;if(Y!=null)for(ne in Y.key!==void 0&&(oe=""+Y.key),Y)E.call(Y,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(_e[ne]=Y[ne]);var we=arguments.length-2;if(we===1)_e.children=Q;else if(1<we){for(var je=Array(we),le=0;le<we;le++)je[le]=arguments[le+2];_e.children=je}if($&&$.defaultProps)for(ne in we=$.defaultProps,we)_e[ne]===void 0&&(_e[ne]=we[ne]);return O($,oe,_e)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:u,render:$}},Ke.isValidElement=D,Ke.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:he}},Ke.memo=function($,Y){return{$$typeof:m,type:$,compare:Y===void 0?null:Y}},Ke.startTransition=function($){var Y=j.T,Q={};j.T=Q;try{var ne=$(),_e=j.S;_e!==null&&_e(Q,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(q,me)}catch(oe){me(oe)}finally{Y!==null&&Q.types!==null&&(Y.types=Q.types),j.T=Y}},Ke.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ke.use=function($){return j.H.use($)},Ke.useActionState=function($,Y,Q){return j.H.useActionState($,Y,Q)},Ke.useCallback=function($,Y){return j.H.useCallback($,Y)},Ke.useContext=function($){return j.H.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($,Y){return j.H.useDeferredValue($,Y)},Ke.useEffect=function($,Y){return j.H.useEffect($,Y)},Ke.useEffectEvent=function($){return j.H.useEffectEvent($)},Ke.useId=function(){return j.H.useId()},Ke.useImperativeHandle=function($,Y,Q){return j.H.useImperativeHandle($,Y,Q)},Ke.useInsertionEffect=function($,Y){return j.H.useInsertionEffect($,Y)},Ke.useLayoutEffect=function($,Y){return j.H.useLayoutEffect($,Y)},Ke.useMemo=function($,Y){return j.H.useMemo($,Y)},Ke.useOptimistic=function($,Y){return j.H.useOptimistic($,Y)},Ke.useReducer=function($,Y,Q){return j.H.useReducer($,Y,Q)},Ke.useRef=function($){return j.H.useRef($)},Ke.useState=function($){return j.H.useState($)},Ke.useSyncExternalStore=function($,Y,Q){return j.H.useSyncExternalStore($,Y,Q)},Ke.useTransition=function(){return j.H.useTransition()},Ke.version="19.2.3",Ke}var FN;function Yu(){return FN||(FN=1,$b.exports=i9()),$b.exports}var _=Yu();const Ak=Vs(_),a9=t9({__proto__:null,default:Ak},[_]);var qb={exports:{}},mf={},Fb={exports:{}},Hb={};var HN;function s9(){return HN||(HN=1,(function(t){function e(K,Z){var he=K.length;K.push(Z);e:for(;0<he;){var me=he-1>>>1,ee=K[me];if(0<i(ee,Z))K[me]=Z,K[he]=ee,he=me;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var Z=K[0],he=K.pop();if(he!==Z){K[0]=he;e:for(var me=0,ee=K.length,$=ee>>>1;me<$;){var Y=2*(me+1)-1,Q=K[Y],ne=Y+1,_e=K[ne];if(0>i(Q,he))ne<ee&&0>i(_e,Q)?(K[me]=_e,K[ne]=he,me=ne):(K[me]=Q,K[Y]=he,me=Y);else if(ne<ee&&0>i(_e,he))K[me]=_e,K[ne]=he,me=ne;else break e}}return Z}function i(K,Z){var he=K.sortIndex-Z.sortIndex;return he!==0?he:K.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],p=1,g=null,b=3,w=!1,T=!1,S=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function B(K){for(var Z=n(m);Z!==null;){if(Z.callback===null)r(m);else if(Z.startTime<=K)r(m),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=n(m)}}function M(K){if(S=!1,B(K),!T)if(n(d)!==null)T=!0,q||(q=!0,V());else{var Z=n(m);Z!==null&&ce(M,Z.startTime-K)}}var q=!1,j=-1,E=5,O=-1;function R(){return A?!0:!(t.unstable_now()-O<E)}function D(){if(A=!1,q){var K=t.unstable_now();O=K;var Z=!0;try{e:{T=!1,S&&(S=!1,L(j),j=-1),w=!0;var he=b;try{t:{for(B(K),g=n(d);g!==null&&!(g.expirationTime>K&&R());){var me=g.callback;if(typeof me=="function"){g.callback=null,b=g.priorityLevel;var ee=me(g.expirationTime<=K);if(K=t.unstable_now(),typeof ee=="function"){g.callback=ee,B(K),Z=!0;break t}g===n(d)&&r(d),B(K)}else r(d);g=n(d)}if(g!==null)Z=!0;else{var $=n(m);$!==null&&ce(M,$.startTime-K),Z=!1}}break e}finally{g=null,b=he,w=!1}Z=void 0}}finally{Z?V():q=!1}}}var V;if(typeof k=="function")V=function(){k(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,X=z.port2;z.port1.onmessage=D,V=function(){X.postMessage(null)}}else V=function(){I(D,0)};function ce(K,Z){j=I(function(){K(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var he=b;b=Z;try{return K()}finally{b=he}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=b;b=K;try{return Z()}finally{b=he}},t.unstable_scheduleCallback=function(K,Z,he){var me=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?me+he:me):he=me,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=he+ee,K={id:p++,callback:Z,priorityLevel:K,startTime:he,expirationTime:ee,sortIndex:-1},he>me?(K.sortIndex=he,e(m,K),n(d)===null&&K===n(m)&&(S?(L(j),j=-1):S=!0,ce(M,he-me))):(K.sortIndex=ee,e(d,K),T||w||(T=!0,q||(q=!0,V()))),K},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(K){var Z=b;return function(){var he=b;b=Z;try{return K.apply(this,arguments)}finally{b=he}}}})(Hb)),Hb}var KN;function o9(){return KN||(KN=1,Fb.exports=s9()),Fb.exports}var Kb={exports:{}},mr={};var GN;function l9(){if(GN)return mr;GN=1;var t=Yu();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:d,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mr.createPortal=function(d,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return s(d,m,null,p)},mr.flushSync=function(d){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=m,r.p=p,r.d.f()}},mr.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},mr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},mr.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mr.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},mr.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mr.preloadModule=function(d,m){if(typeof d=="string")if(m){var p=u(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},mr.requestFormReset=function(d){r.d.r(d)},mr.unstable_batchedUpdates=function(d,m){return d(m)},mr.useFormState=function(d,m,p){return l.H.useFormState(d,m,p)},mr.useFormStatus=function(){return l.H.useHostTransitionStatus()},mr.version="19.2.3",mr}var YN;function Tk(){if(YN)return Kb.exports;YN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kb.exports=l9(),Kb.exports}var WN;function c9(){if(WN)return mf;WN=1;var t=o9(),e=Yu(),n=Tk();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function u(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function m(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var c=a,h=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return d(y),a;if(x===h)return d(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=y,h=x;else{for(var C=!1,U=y.child;U;){if(U===c){C=!0,c=y,h=x;break}if(U===h){C=!0,h=y,c=x;break}U=U.sibling}if(!C){for(U=x.child;U;){if(U===c){C=!0,c=x,h=y;break}if(U===h){C=!0,h=x,c=y;break}U=U.sibling}if(!C)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function V(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var z=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case q:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case k:return a.displayName||"Context";case L:return(a._context.displayName||"Context")+".Consumer";case B:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return o=a.displayName||null,o!==null?o:X(a.type)||"Memo";case E:o=a._payload,a=a._init;try{return X(a(o))}catch{}}return null}var ce=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},me=[],ee=-1;function $(a){return{current:a}}function Y(a){0>ee||(a.current=me[ee],me[ee]=null,ee--)}function Q(a,o){ee++,me[ee]=a.current,a.current=o}var ne=$(null),_e=$(null),oe=$(null),we=$(null);function je(a,o){switch(Q(oe,o),Q(_e,a),Q(ne,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?uN(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=uN(o),a=dN(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(ne),Q(ne,a)}function le(){Y(ne),Y(_e),Y(oe)}function Te(a){a.memoizedState!==null&&Q(we,a);var o=ne.current,c=dN(o,a.type);o!==c&&(Q(_e,a),Q(ne,c))}function Ve(a){_e.current===a&&(Y(ne),Y(_e)),we.current===a&&(Y(we),cf._currentValue=he)}var xe,bt;function qe(a){if(xe===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);xe=o&&o[1]||"",bt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+a+bt}var zt=!1;function $t(a,o){if(!a||zt)return"";zt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(de){var se=de}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(de){se=de}a.call(ye.prototype)}}else{try{throw Error()}catch(de){se=de}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(de){if(de&&se&&typeof de.stack=="string")return[de.stack,se.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),C=x[0],U=x[1];if(C&&U){var G=C.split(`
`),ae=U.split(`
`);for(y=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(h===G.length||y===ae.length)for(h=G.length-1,y=ae.length-1;1<=h&&0<=y&&G[h]!==ae[y];)y--;for(;1<=h&&0<=y;h--,y--)if(G[h]!==ae[y]){if(h!==1||y!==1)do if(h--,y--,0>y||G[h]!==ae[y]){var pe=`
`+G[h].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=h&&0<=y);break}}}finally{zt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?qe(c):""}function Bn(a,o){switch(a.tag){case 26:case 27:case 5:return qe(a.type);case 16:return qe("Lazy");case 13:return a.child!==o&&o!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return $t(a.type,!1);case 11:return $t(a.type.render,!1);case 1:return $t(a.type,!0);case 31:return qe("Activity");default:return""}}function Sr(a){try{var o="",c=null;do o+=Bn(a,c),c=a,a=a.return;while(a);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Qe=Object.prototype.hasOwnProperty,Rt=t.unstable_scheduleCallback,Er=t.unstable_cancelCallback,Ha=t.unstable_shouldYield,Xs=t.unstable_requestPaint,un=t.unstable_now,Xr=t.unstable_getCurrentPriorityLevel,Vi=t.unstable_ImmediatePriority,Ui=t.unstable_UserBlockingPriority,Qr=t.unstable_NormalPriority,Ka=t.unstable_LowPriority,aa=t.unstable_IdlePriority,Ga=t.log,Ya=t.unstable_setDisableYieldValue,er=null,dn=null;function $n(a){if(typeof Ga=="function"&&Ya(a),dn&&typeof dn.setStrictMode=="function")try{dn.setStrictMode(er,a)}catch{}}var qt=Math.clz32?Math.clz32:Zs,Qs=Math.log,sa=Math.LN2;function Zs(a){return a>>>=0,a===0?32:31-(Qs(a)/sa|0)|0}var Dr=256,mi=262144,Yt=4194304;function H(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function fe(a,o,c){var h=a.pendingLanes;if(h===0)return 0;var y=0,x=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var U=h&134217727;return U!==0?(h=U&~x,h!==0?y=H(h):(C&=U,C!==0?y=H(C):c||(c=U&~a,c!==0&&(y=H(c))))):(U=h&~x,U!==0?y=H(U):C!==0?y=H(C):c||(c=h&~a,c!==0&&(y=H(c)))),y===0?0:o!==0&&o!==y&&(o&x)===0&&(x=y&-y,c=o&-o,x>=c||x===32&&(c&4194048)!==0)?o:y}function Se(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function He(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var a=Yt;return Yt<<=1,(Yt&62914560)===0&&(Yt=4194304),a}function Tt(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function tr(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function dl(a,o,c,h,y,x){var C=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var U=a.entanglements,G=a.expirationTimes,ae=a.hiddenUpdates;for(c=C&~c;0<c;){var pe=31-qt(c),ye=1<<pe;U[pe]=0,G[pe]=-1;var se=ae[pe];if(se!==null)for(ae[pe]=null,pe=0;pe<se.length;pe++){var de=se[pe];de!==null&&(de.lane&=-536870913)}c&=~ye}h!==0&&Ar(a,h,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(C&~o))}function Ar(a,o,c){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-qt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function fl(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var h=31-qt(c),y=1<<h;y&o|a[h]&o&&(a[h]|=o),c&=~y}}function hl(a,o){var c=o&-o;return c=(c&42)!==0?1:Wa(c),(c&(a.suspendedLanes|o))!==0?0:c}function Wa(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bi(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ze(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:kN(a.type))}function _t(a,o){var c=Z.p;try{return Z.p=a,o()}finally{Z.p=c}}var yn=Math.random().toString(36).slice(2),bn="__reactFiber$"+yn,qn="__reactProps$"+yn,oa="__reactContainer$"+yn,Sc="__reactEvents$"+yn,G0="__reactListeners$"+yn,Jh="__reactHandles$"+yn,em="__reactResources$"+yn,la="__reactMarker$"+yn;function Ec(a){delete a[bn],delete a[qn],delete a[Sc],delete a[G0],delete a[Jh]}function ca(a){var o=a[bn];if(o)return o;for(var c=a.parentNode;c;){if(o=c[oa]||c[bn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=yN(a);a!==null;){if(c=a[bn])return c;a=yN(a)}return o}a=c,c=a.parentNode}return null}function pi(a){if(a=a[bn]||a[oa]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Zr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function ua(a){var o=a[em];return o||(o=a[em]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(a){a[la]=!0}var pd=new Set,gd={};function da(a,o){fa(a,o),fa(a+"Capture",o)}function fa(a,o){for(gd[a]=o,a=0;a<o.length;a++)pd.add(o[a])}var vd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yd={},bd={};function tm(a){return Qe.call(bd,a)?!0:Qe.call(yd,a)?!1:vd.test(a)?bd[a]=!0:(yd[a]=!0,!1)}function Ac(a,o,c){if(tm(o))if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+c)}}function Jr(a,o,c){if(c===null)a.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+c)}}function _n(a,o,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(o,c,""+h)}}function Fn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Js(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xd(a,o,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,x=h.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(C){c=""+C,x.call(this,C)}}),Object.defineProperty(a,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function wt(a){if(!a._valueTracker){var o=Js(a)?"checked":"value";a._valueTracker=xd(a,o,""+a[o])}}function ml(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return a&&(h=Js(a)?a.checked?"true":"false":a.value),a=h,a!==c?(o.setValue(a),!0):!1}function ha(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var pl=/[\n"\\]/g;function Lr(a){return a.replace(pl,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Tc(a,o,c,h,y,x,C,U){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),o!=null?C==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Fn(o)):a.value!==""+Fn(o)&&(a.value=""+Fn(o)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),o!=null?_d(a,C,Fn(o)):c!=null?_d(a,C,Fn(c)):h!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Fn(U):a.removeAttribute("name")}function nm(a,o,c,h,y,x,C,U){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){wt(a);return}c=c!=null?""+Fn(c):"",o=o!=null?""+Fn(o):c,U||o===a.value||(a.value=o),a.defaultValue=o}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=U?a.checked:!!h,a.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),wt(a)}function _d(a,o,c){o==="number"&&ha(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function eo(a,o,c,h){if(a=a.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=o.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+Fn(c),o=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function rm(a,o,c){if(o!=null&&(o=""+Fn(o),o!==a.value&&(a.value=o),c==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=c!=null?""+Fn(c):""}function to(a,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(ce(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Fn(o),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),wt(a)}function zr(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var im=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wd(a,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,c):typeof c!="number"||c===0||im.has(o)?o==="float"?a.cssFloat=c:a[o]=(""+c).trim():a[o]=c+"px"}function Sd(a,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in o)h=o[y],o.hasOwnProperty(y)&&c[y]!==h&&wd(a,y,h)}else for(var x in o)o.hasOwnProperty(x)&&wd(a,x,o[x])}function Nc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jc(a){return no.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function $i(){}var Ed=null;function gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ro=null,ma=null;function gl(a){var o=pi(a);if(o&&(a=o.stateNode)){var c=a[qn]||null;e:switch(a=o.stateNode,o.type){case"input":if(Tc(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Lr(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==a&&h.form===a.form){var y=h[qn]||null;if(!y)throw Error(r(90));Tc(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===a.form&&ml(h)}break e;case"textarea":rm(a,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&eo(a,!!c.multiple,o,!1)}}}var Cc=!1;function io(a,o,c){if(Cc)return a(o,c);Cc=!0;try{var h=a(o);return h}finally{if(Cc=!1,(ro!==null||ma!==null)&&(Zm(),ro&&(o=ro,a=ma,ma=ro=null,gl(o),a)))for(o=0;o<a.length;o++)gl(a[o])}}function qi(a,o){var c=a.stateNode;if(c===null)return null;var h=c[qn]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vl=!1;if(vi)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){vl=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch{vl=!1}var pa=null,Ad=null,yl=null;function Td(){if(yl)return yl;var a,o=Ad,c=o.length,h,y="value"in pa?pa.value:pa.textContent,x=y.length;for(a=0;a<c&&o[a]===y[a];a++);var C=c-a;for(h=1;h<=C&&o[c-h]===y[x-h];h++);return yl=y.slice(a,1<h?1-h:void 0)}function bl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Xa(){return!0}function Fi(){return!1}function nr(a){function o(c,h,y,x,C){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(x):x[U]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Xa:Fi,this.isPropagationStopped=Fi,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),o}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=nr(Qa),ao=g({},Qa,{view:0,detail:0}),Nd=nr(ao),so,Oc,va,Ic=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==va&&(va&&a.type==="mousemove"?(so=a.screenX-va.screenX,Oc=a.screenY-va.screenY):Oc=so=0,va=a),so)},movementY:function(a){return"movementY"in a?a.movementY:Oc}}),jd=nr(Ic),xl=g({},Ic,{dataTransfer:0}),sm=nr(xl),om=g({},ao,{relatedTarget:0}),_l=nr(om),Cd=g({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),lm=nr(Cd),Pc=g({},Qa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),cm=nr(Pc),um=g({},Qa,{data:0}),ya=nr(um),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mm(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=hm[a])?!!o[a]:!1}function oo(){return mm}var Tr=g({},ao,{key:function(a){if(a.key){var o=dm[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=bl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?fm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(a){return a.type==="keypress"?bl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?bl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),pm=nr(Tr),gm=g({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Za=nr(gm),v=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),N=nr(v),P=g({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=nr(P),te=g({},Ic,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=nr(te),Ee=g({},Qa,{newState:0,oldState:0}),Ye=nr(Ee),fn=[9,13,27,32],mt=vi&&"CompositionEvent"in window,Wt=null;vi&&"documentMode"in document&&(Wt=document.documentMode);var yi=vi&&"TextEvent"in window&&!Wt,ba=vi&&(!mt||Wt&&8<Wt&&11>=Wt),Hi=" ",Ki=!1;function wl(a,o){switch(a){case"keyup":return fn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kc=!1;function Az(a,o){switch(a){case"compositionend":return Rc(o);case"keypress":return o.which!==32?null:(Ki=!0,Hi);case"textInput":return a=o.data,a===Hi&&Ki?null:a;default:return null}}function Tz(a,o){if(kc)return a==="compositionend"||!mt&&wl(a,o)?(a=Td(),yl=Ad=pa=null,kc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ba&&o.locale!=="ko"?null:o.data;default:return null}}var Nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _A(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Nz[a.type]:o==="textarea"}function wA(a,o,c,h){ro?ma?ma.push(h):ma=[h]:ro=h,o=ap(o,"onChange"),0<o.length&&(c=new ga("onChange","change",null,c,h),a.push({event:c,listeners:o}))}var Od=null,Id=null;function jz(a){iN(a,0)}function vm(a){var o=Zr(a);if(ml(o))return a}function SA(a,o){if(a==="change")return o}var EA=!1;if(vi){var Y0;if(vi){var W0="oninput"in document;if(!W0){var AA=document.createElement("div");AA.setAttribute("oninput","return;"),W0=typeof AA.oninput=="function"}Y0=W0}else Y0=!1;EA=Y0&&(!document.documentMode||9<document.documentMode)}function TA(){Od&&(Od.detachEvent("onpropertychange",NA),Id=Od=null)}function NA(a){if(a.propertyName==="value"&&vm(Id)){var o=[];wA(o,Id,a,gi(a)),io(jz,o)}}function Cz(a,o,c){a==="focusin"?(TA(),Od=o,Id=c,Od.attachEvent("onpropertychange",NA)):a==="focusout"&&TA()}function Oz(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return vm(Id)}function Iz(a,o){if(a==="click")return vm(o)}function Pz(a,o){if(a==="input"||a==="change")return vm(o)}function Rz(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ei=typeof Object.is=="function"?Object.is:Rz;function Pd(a,o){if(ei(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!Qe.call(o,y)||!ei(a[y],o[y]))return!1}return!0}function jA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function CA(a,o){var c=jA(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=o&&h>=o)return{node:c,offset:o-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=jA(c)}}function OA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?OA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function IA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=ha(a.document);o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=ha(a.document)}return o}function X0(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var kz=vi&&"documentMode"in document&&11>=document.documentMode,Mc=null,Q0=null,Rd=null,Z0=!1;function PA(a,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Z0||Mc==null||Mc!==ha(h)||(h=Mc,"selectionStart"in h&&X0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Rd&&Pd(Rd,h)||(Rd=h,h=ap(Q0,"onSelect"),0<h.length&&(o=new ga("onSelect","select",null,o,c),a.push({event:o,listeners:h}),o.target=Mc)))}function Sl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Dc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},J0={},RA={};vi&&(RA=document.createElement("div").style,"AnimationEvent"in window||(delete Dc.animationend.animation,delete Dc.animationiteration.animation,delete Dc.animationstart.animation),"TransitionEvent"in window||delete Dc.transitionend.transition);function El(a){if(J0[a])return J0[a];if(!Dc[a])return a;var o=Dc[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in RA)return J0[a]=o[c];return a}var kA=El("animationend"),MA=El("animationiteration"),DA=El("animationstart"),Mz=El("transitionrun"),Dz=El("transitionstart"),Lz=El("transitioncancel"),LA=El("transitionend"),zA=new Map,ey="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ey.push("scrollEnd");function Gi(a,o){zA.set(a,o),da(o,[a])}var ym=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},bi=[],Lc=0,ty=0;function bm(){for(var a=Lc,o=ty=Lc=0;o<a;){var c=bi[o];bi[o++]=null;var h=bi[o];bi[o++]=null;var y=bi[o];bi[o++]=null;var x=bi[o];if(bi[o++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}x!==0&&VA(c,y,x)}}function xm(a,o,c,h){bi[Lc++]=a,bi[Lc++]=o,bi[Lc++]=c,bi[Lc++]=h,ty|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function ny(a,o,c,h){return xm(a,o,c,h),_m(a)}function Al(a,o){return xm(a,null,null,o),_m(a)}function VA(a,o,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var y=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&o!==null&&(y=31-qt(c),a=x.hiddenUpdates,h=a[y],h===null?a[y]=[o]:h.push(o),o.lane=c|536870912),x):null}function _m(a){if(50<tf)throw tf=0,db=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var zc={};function zz(a,o,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,o,c,h){return new zz(a,o,c,h)}function ry(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ja(a,o){var c=a.alternate;return c===null?(c=ti(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function UA(a,o){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,o=c.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function wm(a,o,c,h,y,x){var C=0;if(h=a,typeof a=="function")ry(a)&&(C=1);else if(typeof a=="string")C=qV(a,c,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=ti(31,c,o,y),a.elementType=O,a.lanes=x,a;case S:return Tl(c.children,y,x,o);case A:C=8,y|=24;break;case I:return a=ti(12,c,o,y|2),a.elementType=I,a.lanes=x,a;case M:return a=ti(13,c,o,y),a.elementType=M,a.lanes=x,a;case q:return a=ti(19,c,o,y),a.elementType=q,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:C=10;break e;case L:C=9;break e;case B:C=11;break e;case j:C=14;break e;case E:C=16,h=null;break e}C=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return o=ti(C,c,o,y),o.elementType=a,o.type=h,o.lanes=x,o}function Tl(a,o,c,h){return a=ti(7,a,h,o),a.lanes=c,a}function iy(a,o,c){return a=ti(6,a,null,o),a.lanes=c,a}function BA(a){var o=ti(18,null,null,0);return o.stateNode=a,o}function ay(a,o,c){return o=ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var $A=new WeakMap;function xi(a,o){if(typeof a=="object"&&a!==null){var c=$A.get(a);return c!==void 0?c:(o={value:a,source:o,stack:Sr(o)},$A.set(a,o),o)}return{value:a,source:o,stack:Sr(o)}}var Vc=[],Uc=0,Sm=null,kd=0,_i=[],wi=0,lo=null,xa=1,_a="";function es(a,o){Vc[Uc++]=kd,Vc[Uc++]=Sm,Sm=a,kd=o}function qA(a,o,c){_i[wi++]=xa,_i[wi++]=_a,_i[wi++]=lo,lo=a;var h=xa;a=_a;var y=32-qt(h)-1;h&=~(1<<y),c+=1;var x=32-qt(o)+y;if(30<x){var C=y-y%5;x=(h&(1<<C)-1).toString(32),h>>=C,y-=C,xa=1<<32-qt(o)+y|c<<y|h,_a=x+a}else xa=1<<x|c<<y|h,_a=a}function sy(a){a.return!==null&&(es(a,1),qA(a,1,0))}function oy(a){for(;a===Sm;)Sm=Vc[--Uc],Vc[Uc]=null,kd=Vc[--Uc],Vc[Uc]=null;for(;a===lo;)lo=_i[--wi],_i[wi]=null,_a=_i[--wi],_i[wi]=null,xa=_i[--wi],_i[wi]=null}function FA(a,o){_i[wi++]=xa,_i[wi++]=_a,_i[wi++]=lo,xa=o.id,_a=o.overflow,lo=a}var rr=null,Ft=null,ot=!1,co=null,Si=!1,ly=Error(r(519));function uo(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Md(xi(o,a)),ly}function HA(a){var o=a.stateNode,c=a.type,h=a.memoizedProps;switch(o[bn]=a,o[qn]=h,c){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(c=0;c<rf.length;c++)et(rf[c],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),nm(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),to(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||lN(o.textContent,c)?(h.popover!=null&&(et("beforetoggle",o),et("toggle",o)),h.onScroll!=null&&et("scroll",o),h.onScrollEnd!=null&&et("scrollend",o),h.onClick!=null&&(o.onclick=$i),o=!0):o=!1,o||uo(a,!0)}function KA(a){for(rr=a.return;rr;)switch(rr.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:rr=rr.return}}function Bc(a){if(a!==rr)return!1;if(!ot)return KA(a),ot=!0,!1;var o=a.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Tb(a.type,a.memoizedProps)),c=!c),c&&Ft&&uo(a),KA(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=vN(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ft=vN(a)}else o===27?(o=Ft,Ao(a.type)?(a=Ib,Ib=null,Ft=a):Ft=o):Ft=rr?Ai(a.stateNode.nextSibling):null;return!0}function Nl(){Ft=rr=null,ot=!1}function cy(){var a=co;return a!==null&&($r===null?$r=a:$r.push.apply($r,a),co=null),a}function Md(a){co===null?co=[a]:co.push(a)}var uy=$(null),jl=null,ts=null;function fo(a,o,c){Q(uy,o._currentValue),o._currentValue=c}function ns(a){a._currentValue=uy.current,Y(uy)}function dy(a,o,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===c)break;a=a.return}}function fy(a,o,c,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var C=y.child;x=x.firstContext;e:for(;x!==null;){var U=x;x=y;for(var G=0;G<o.length;G++)if(U.context===o[G]){x.lanes|=c,U=x.alternate,U!==null&&(U.lanes|=c),dy(x.return,c,a),h||(C=null);break e}x=U.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=c,x=C.alternate,x!==null&&(x.lanes|=c),dy(C,c,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function $c(a,o,c,h){a=null;for(var y=o,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var U=y.type;ei(y.pendingProps.value,C.value)||(a!==null?a.push(U):a=[U])}}else if(y===we.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(cf):a=[cf])}y=y.return}a!==null&&fy(o,a,c,h),o.flags|=262144}function Em(a){for(a=a.firstContext;a!==null;){if(!ei(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Cl(a){jl=a,ts=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ir(a){return GA(jl,a)}function Am(a,o){return jl===null&&Cl(a),GA(a,o)}function GA(a,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ts===null){if(a===null)throw Error(r(308));ts=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ts=ts.next=o;return c}var Vz=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(c){return c()})}},Uz=t.unstable_scheduleCallback,Bz=t.unstable_NormalPriority,wn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hy(){return{controller:new Vz,data:new Map,refCount:0}}function Dd(a){a.refCount--,a.refCount===0&&Uz(Bz,function(){a.controller.abort()})}var Ld=null,my=0,qc=0,Fc=null;function $z(a,o){if(Ld===null){var c=Ld=[];my=0,qc=vb(),Fc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return my++,o.then(YA,YA),o}function YA(){if(--my===0&&Ld!==null){Fc!==null&&(Fc.status="fulfilled");var a=Ld;Ld=null,qc=0,Fc=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function qz(a,o){var c=[],h={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(h.status="rejected",h.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),h}var WA=K.S;K.S=function(a,o){P2=un(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&$z(a,o),WA!==null&&WA(a,o)};var Ol=$(null);function py(){var a=Ol.current;return a!==null?a:kt.pooledCache}function Tm(a,o){o===null?Q(Ol,Ol.current):Q(Ol,o.pool)}function XA(){var a=py();return a===null?null:{parent:wn._currentValue,pool:a}}var Hc=Error(r(460)),gy=Error(r(474)),Nm=Error(r(542)),jm={then:function(){}};function QA(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ZA(a,o,c){switch(c=a[c],c===void 0?a.push(o):c!==o&&(o.then($i,$i),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,eT(a),a;default:if(typeof o.status=="string")o.then($i,$i);else{if(a=kt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=h}},function(h){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,eT(a),a}throw Pl=o,Hc}}function Il(a){try{var o=a._init;return o(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Pl=c,Hc):c}}var Pl=null;function JA(){if(Pl===null)throw Error(r(459));var a=Pl;return Pl=null,a}function eT(a){if(a===Hc||a===Nm)throw Error(r(483))}var Kc=null,zd=0;function Cm(a){var o=zd;return zd+=1,Kc===null&&(Kc=[]),ZA(Kc,a,o)}function Vd(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Om(a,o){throw o.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function tT(a){function o(J,W){if(a){var ie=J.deletions;ie===null?(J.deletions=[W],J.flags|=16):ie.push(W)}}function c(J,W){if(!a)return null;for(;W!==null;)o(J,W),W=W.sibling;return null}function h(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function y(J,W){return J=Ja(J,W),J.index=0,J.sibling=null,J}function x(J,W,ie){return J.index=ie,a?(ie=J.alternate,ie!==null?(ie=ie.index,ie<W?(J.flags|=67108866,W):ie):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function C(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function U(J,W,ie,ve){return W===null||W.tag!==6?(W=iy(ie,J.mode,ve),W.return=J,W):(W=y(W,ie),W.return=J,W)}function G(J,W,ie,ve){var Me=ie.type;return Me===S?pe(J,W,ie.props.children,ve,ie.key):W!==null&&(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===E&&Il(Me)===W.type)?(W=y(W,ie.props),Vd(W,ie),W.return=J,W):(W=wm(ie.type,ie.key,ie.props,null,J.mode,ve),Vd(W,ie),W.return=J,W)}function ae(J,W,ie,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=ay(ie,J.mode,ve),W.return=J,W):(W=y(W,ie.children||[]),W.return=J,W)}function pe(J,W,ie,ve,Me){return W===null||W.tag!==7?(W=Tl(ie,J.mode,ve,Me),W.return=J,W):(W=y(W,ie),W.return=J,W)}function ye(J,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=iy(""+W,J.mode,ie),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return ie=wm(W.type,W.key,W.props,null,J.mode,ie),Vd(ie,W),ie.return=J,ie;case T:return W=ay(W,J.mode,ie),W.return=J,W;case E:return W=Il(W),ye(J,W,ie)}if(ce(W)||V(W))return W=Tl(W,J.mode,ie,null),W.return=J,W;if(typeof W.then=="function")return ye(J,Cm(W),ie);if(W.$$typeof===k)return ye(J,Am(J,W),ie);Om(J,W)}return null}function se(J,W,ie,ve){var Me=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Me!==null?null:U(J,W,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:return ie.key===Me?G(J,W,ie,ve):null;case T:return ie.key===Me?ae(J,W,ie,ve):null;case E:return ie=Il(ie),se(J,W,ie,ve)}if(ce(ie)||V(ie))return Me!==null?null:pe(J,W,ie,ve,null);if(typeof ie.then=="function")return se(J,W,Cm(ie),ve);if(ie.$$typeof===k)return se(J,W,Am(J,ie),ve);Om(J,ie)}return null}function de(J,W,ie,ve,Me){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return J=J.get(ie)||null,U(W,J,""+ve,Me);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return J=J.get(ve.key===null?ie:ve.key)||null,G(W,J,ve,Me);case T:return J=J.get(ve.key===null?ie:ve.key)||null,ae(W,J,ve,Me);case E:return ve=Il(ve),de(J,W,ie,ve,Me)}if(ce(ve)||V(ve))return J=J.get(ie)||null,pe(W,J,ve,Me,null);if(typeof ve.then=="function")return de(J,W,ie,Cm(ve),Me);if(ve.$$typeof===k)return de(J,W,ie,Am(W,ve),Me);Om(W,ve)}return null}function Pe(J,W,ie,ve){for(var Me=null,dt=null,ke=W,Xe=W=0,rt=null;ke!==null&&Xe<ie.length;Xe++){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var ft=se(J,ke,ie[Xe],ve);if(ft===null){ke===null&&(ke=rt);break}a&&ke&&ft.alternate===null&&o(J,ke),W=x(ft,W,Xe),dt===null?Me=ft:dt.sibling=ft,dt=ft,ke=rt}if(Xe===ie.length)return c(J,ke),ot&&es(J,Xe),Me;if(ke===null){for(;Xe<ie.length;Xe++)ke=ye(J,ie[Xe],ve),ke!==null&&(W=x(ke,W,Xe),dt===null?Me=ke:dt.sibling=ke,dt=ke);return ot&&es(J,Xe),Me}for(ke=h(ke);Xe<ie.length;Xe++)rt=de(ke,J,Xe,ie[Xe],ve),rt!==null&&(a&&rt.alternate!==null&&ke.delete(rt.key===null?Xe:rt.key),W=x(rt,W,Xe),dt===null?Me=rt:dt.sibling=rt,dt=rt);return a&&ke.forEach(function(Oo){return o(J,Oo)}),ot&&es(J,Xe),Me}function Le(J,W,ie,ve){if(ie==null)throw Error(r(151));for(var Me=null,dt=null,ke=W,Xe=W=0,rt=null,ft=ie.next();ke!==null&&!ft.done;Xe++,ft=ie.next()){ke.index>Xe?(rt=ke,ke=null):rt=ke.sibling;var Oo=se(J,ke,ft.value,ve);if(Oo===null){ke===null&&(ke=rt);break}a&&ke&&Oo.alternate===null&&o(J,ke),W=x(Oo,W,Xe),dt===null?Me=Oo:dt.sibling=Oo,dt=Oo,ke=rt}if(ft.done)return c(J,ke),ot&&es(J,Xe),Me;if(ke===null){for(;!ft.done;Xe++,ft=ie.next())ft=ye(J,ft.value,ve),ft!==null&&(W=x(ft,W,Xe),dt===null?Me=ft:dt.sibling=ft,dt=ft);return ot&&es(J,Xe),Me}for(ke=h(ke);!ft.done;Xe++,ft=ie.next())ft=de(ke,J,Xe,ft.value,ve),ft!==null&&(a&&ft.alternate!==null&&ke.delete(ft.key===null?Xe:ft.key),W=x(ft,W,Xe),dt===null?Me=ft:dt.sibling=ft,dt=ft);return a&&ke.forEach(function(e9){return o(J,e9)}),ot&&es(J,Xe),Me}function Ot(J,W,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===S&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case w:e:{for(var Me=ie.key;W!==null;){if(W.key===Me){if(Me=ie.type,Me===S){if(W.tag===7){c(J,W.sibling),ve=y(W,ie.props.children),ve.return=J,J=ve;break e}}else if(W.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===E&&Il(Me)===W.type){c(J,W.sibling),ve=y(W,ie.props),Vd(ve,ie),ve.return=J,J=ve;break e}c(J,W);break}else o(J,W);W=W.sibling}ie.type===S?(ve=Tl(ie.props.children,J.mode,ve,ie.key),ve.return=J,J=ve):(ve=wm(ie.type,ie.key,ie.props,null,J.mode,ve),Vd(ve,ie),ve.return=J,J=ve)}return C(J);case T:e:{for(Me=ie.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){c(J,W.sibling),ve=y(W,ie.children||[]),ve.return=J,J=ve;break e}else{c(J,W);break}else o(J,W);W=W.sibling}ve=ay(ie,J.mode,ve),ve.return=J,J=ve}return C(J);case E:return ie=Il(ie),Ot(J,W,ie,ve)}if(ce(ie))return Pe(J,W,ie,ve);if(V(ie)){if(Me=V(ie),typeof Me!="function")throw Error(r(150));return ie=Me.call(ie),Le(J,W,ie,ve)}if(typeof ie.then=="function")return Ot(J,W,Cm(ie),ve);if(ie.$$typeof===k)return Ot(J,W,Am(J,ie),ve);Om(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(c(J,W.sibling),ve=y(W,ie),ve.return=J,J=ve):(c(J,W),ve=iy(ie,J.mode,ve),ve.return=J,J=ve),C(J)):c(J,W)}return function(J,W,ie,ve){try{zd=0;var Me=Ot(J,W,ie,ve);return Kc=null,Me}catch(ke){if(ke===Hc||ke===Nm)throw ke;var dt=ti(29,ke,null,J.mode);return dt.lanes=ve,dt.return=J,dt}}}var Rl=tT(!0),nT=tT(!1),ho=!1;function vy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yy(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function mo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function po(a,o,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(pt&2)!==0){var y=h.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),h.pending=o,o=_m(a),VA(a,null,c),o}return xm(a,h,o,c),_m(a)}function Ud(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,fl(a,c)}}function by(a,o){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var C={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=C:x=x.next=C,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}var xy=!1;function Bd(){if(xy){var a=Fc;if(a!==null)throw a}}function $d(a,o,c,h){xy=!1;var y=a.updateQueue;ho=!1;var x=y.firstBaseUpdate,C=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var G=U,ae=G.next;G.next=null,C===null?x=ae:C.next=ae,C=G;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==C&&(U===null?pe.firstBaseUpdate=ae:U.next=ae,pe.lastBaseUpdate=G))}if(x!==null){var ye=y.baseState;C=0,pe=ae=G=null,U=x;do{var se=U.lane&-536870913,de=se!==U.lane;if(de?(nt&se)===se:(h&se)===se){se!==0&&se===qc&&(xy=!0),pe!==null&&(pe=pe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Pe=a,Le=U;se=o;var Ot=c;switch(Le.tag){case 1:if(Pe=Le.payload,typeof Pe=="function"){ye=Pe.call(Ot,ye,se);break e}ye=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Le.payload,se=typeof Pe=="function"?Pe.call(Ot,ye,se):Pe,se==null)break e;ye=g({},ye,se);break e;case 2:ho=!0}}se=U.callback,se!==null&&(a.flags|=64,de&&(a.flags|=8192),de=y.callbacks,de===null?y.callbacks=[se]:de.push(se))}else de={lane:se,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(ae=pe=de,G=ye):pe=pe.next=de,C|=se;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;de=U,U=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);pe===null&&(G=ye),y.baseState=G,y.firstBaseUpdate=ae,y.lastBaseUpdate=pe,x===null&&(y.shared.lanes=0),xo|=C,a.lanes=C,a.memoizedState=ye}}function rT(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function iT(a,o){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)rT(c[a],o)}var Gc=$(null),Im=$(0);function aT(a,o){a=ds,Q(Im,a),Q(Gc,o),ds=a|o.baseLanes}function _y(){Q(Im,ds),Q(Gc,Gc.current)}function wy(){ds=Im.current,Y(Gc),Y(Im)}var ni=$(null),Ei=null;function go(a){var o=a.alternate;Q(hn,hn.current&1),Q(ni,a),Ei===null&&(o===null||Gc.current!==null||o.memoizedState!==null)&&(Ei=a)}function Sy(a){Q(hn,hn.current),Q(ni,a),Ei===null&&(Ei=a)}function sT(a){a.tag===22?(Q(hn,hn.current),Q(ni,a),Ei===null&&(Ei=a)):vo()}function vo(){Q(hn,hn.current),Q(ni,ni.current)}function ri(a){Y(ni),Ei===a&&(Ei=null),Y(hn)}var hn=$(0);function Pm(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Cb(c)||Ob(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var rs=0,We=null,jt=null,Sn=null,Rm=!1,Yc=!1,kl=!1,km=0,qd=0,Wc=null,Fz=0;function nn(){throw Error(r(321))}function Ey(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!ei(a[c],o[c]))return!1;return!0}function Ay(a,o,c,h,y,x){return rs=x,We=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=a===null||a.memoizedState===null?qT:Uy,kl=!1,x=c(h,y),kl=!1,Yc&&(x=lT(o,c,h,y)),oT(a),x}function oT(a){K.H=Kd;var o=jt!==null&&jt.next!==null;if(rs=0,Sn=jt=We=null,Rm=!1,qd=0,Wc=null,o)throw Error(r(300));a===null||En||(a=a.dependencies,a!==null&&Em(a)&&(En=!0))}function lT(a,o,c,h){We=a;var y=0;do{if(Yc&&(Wc=null),qd=0,Yc=!1,25<=y)throw Error(r(301));if(y+=1,Sn=jt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=FT,x=o(c,h)}while(Yc);return x}function Hz(){var a=K.H,o=a.useState()[0];return o=typeof o.then=="function"?Fd(o):o,a=a.useState()[0],(jt!==null?jt.memoizedState:null)!==a&&(We.flags|=1024),o}function Ty(){var a=km!==0;return km=0,a}function Ny(a,o,c){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~c}function jy(a){if(Rm){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Rm=!1}rs=0,Sn=jt=We=null,Yc=!1,qd=km=0,Wc=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?We.memoizedState=Sn=a:Sn=Sn.next=a,Sn}function mn(){if(jt===null){var a=We.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var o=Sn===null?We.memoizedState:Sn.next;if(o!==null)Sn=o,jt=a;else{if(a===null)throw We.alternate===null?Error(r(467)):Error(r(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Sn===null?We.memoizedState=Sn=a:Sn=Sn.next=a}return Sn}function Mm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fd(a){var o=qd;return qd+=1,Wc===null&&(Wc=[]),a=ZA(Wc,a,o),o=We,(Sn===null?o.memoizedState:Sn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?qT:Uy),a}function Dm(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Fd(a);if(a.$$typeof===k)return ir(a)}throw Error(r(438,String(a)))}function Cy(a){var o=null,c=We.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Mm(),We.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(a),h=0;h<a;h++)c[h]=R;return o.index++,c}function is(a,o){return typeof o=="function"?o(a):o}function Lm(a){var o=mn();return Oy(o,jt,a)}function Oy(a,o,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var y=a.baseQueue,x=h.pending;if(x!==null){if(y!==null){var C=y.next;y.next=x.next,x.next=C}o.baseQueue=y=x,h.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{o=y.next;var U=C=null,G=null,ae=o,pe=!1;do{var ye=ae.lane&-536870913;if(ye!==ae.lane?(nt&ye)===ye:(rs&ye)===ye){var se=ae.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ye===qc&&(pe=!0);else if((rs&se)===se){ae=ae.next,se===qc&&(pe=!0);continue}else ye={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(U=G=ye,C=x):G=G.next=ye,We.lanes|=se,xo|=se;ye=ae.action,kl&&c(x,ye),x=ae.hasEagerState?ae.eagerState:c(x,ye)}else se={lane:ye,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?(U=G=se,C=x):G=G.next=se,We.lanes|=ye,xo|=ye;ae=ae.next}while(ae!==null&&ae!==o);if(G===null?C=x:G.next=U,!ei(x,a.memoizedState)&&(En=!0,pe&&(c=Fc,c!==null)))throw c;a.memoizedState=x,a.baseState=C,a.baseQueue=G,h.lastRenderedState=x}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Iy(a){var o=mn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var C=y=y.next;do x=a(x,C.action),C=C.next;while(C!==y);ei(x,o.memoizedState)||(En=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function cT(a,o,c){var h=We,y=mn(),x=ot;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var C=!ei((jt||y).memoizedState,c);if(C&&(y.memoizedState=c,En=!0),y=y.queue,ky(fT.bind(null,h,y,a),[a]),y.getSnapshot!==o||C||Sn!==null&&Sn.memoizedState.tag&1){if(h.flags|=2048,Xc(9,{destroy:void 0},dT.bind(null,h,y,c,o),null),kt===null)throw Error(r(349));x||(rs&127)!==0||uT(h,o,c)}return c}function uT(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=We.updateQueue,o===null?(o=Mm(),We.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function dT(a,o,c,h){o.value=c,o.getSnapshot=h,hT(o)&&mT(a)}function fT(a,o,c){return c(function(){hT(o)&&mT(a)})}function hT(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!ei(a,c)}catch{return!0}}function mT(a){var o=Al(a,2);o!==null&&qr(o,a,2)}function Py(a){var o=Nr();if(typeof a=="function"){var c=a;if(a=c(),kl){$n(!0);try{c()}finally{$n(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},o}function pT(a,o,c,h){return a.baseState=c,Oy(a,jt,typeof h=="function"?h:is)}function Kz(a,o,c,h,y){if(Um(a))throw Error(r(485));if(a=o.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?c(!0):x.isTransition=!1,h(x),c=o.pending,c===null?(x.next=o.pending=x,gT(o,x)):(x.next=c.next,o.pending=c.next=x)}}function gT(a,o){var c=o.action,h=o.payload,y=a.state;if(o.isTransition){var x=K.T,C={};K.T=C;try{var U=c(y,h),G=K.S;G!==null&&G(C,U),vT(a,o,U)}catch(ae){Ry(a,o,ae)}finally{x!==null&&C.types!==null&&(x.types=C.types),K.T=x}}else try{x=c(y,h),vT(a,o,x)}catch(ae){Ry(a,o,ae)}}function vT(a,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){yT(a,o,h)},function(h){return Ry(a,o,h)}):yT(a,o,c)}function yT(a,o,c){o.status="fulfilled",o.value=c,bT(o),a.state=c,o=a.pending,o!==null&&(c=o.next,c===o?a.pending=null:(c=c.next,o.next=c,gT(a,c)))}function Ry(a,o,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,bT(o),o=o.next;while(o!==h)}a.action=null}function bT(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function xT(a,o){return o}function _T(a,o){if(ot){var c=kt.formState;if(c!==null){e:{var h=We;if(ot){if(Ft){t:{for(var y=Ft,x=Si;y.nodeType!==8;){if(!x){y=null;break t}if(y=Ai(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Ft=Ai(y.nextSibling),h=y.data==="F!";break e}}uo(h)}h=!1}h&&(o=c[0])}}return c=Nr(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xT,lastRenderedState:o},c.queue=h,c=UT.bind(null,We,h),h.dispatch=c,h=Py(!1),x=Vy.bind(null,We,!1,h.queue),h=Nr(),y={state:o,dispatch:null,action:a,pending:null},h.queue=y,c=Kz.bind(null,We,y,x,c),y.dispatch=c,h.memoizedState=a,[o,c,!1]}function wT(a){var o=mn();return ST(o,jt,a)}function ST(a,o,c){if(o=Oy(a,o,xT)[0],a=Lm(is)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=Fd(o)}catch(C){throw C===Hc?Nm:C}else h=o;o=mn();var y=o.queue,x=y.dispatch;return c!==o.memoizedState&&(We.flags|=2048,Xc(9,{destroy:void 0},Gz.bind(null,y,c),null)),[h,x,a]}function Gz(a,o){a.action=o}function ET(a){var o=mn(),c=jt;if(c!==null)return ST(o,c,a);mn(),o=o.memoizedState,c=mn();var h=c.queue.dispatch;return c.memoizedState=a,[o,h,!1]}function Xc(a,o,c,h){return a={tag:a,create:c,deps:h,inst:o,next:null},o=We.updateQueue,o===null&&(o=Mm(),We.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,o.lastEffect=a),a}function AT(){return mn().memoizedState}function zm(a,o,c,h){var y=Nr();We.flags|=a,y.memoizedState=Xc(1|o,{destroy:void 0},c,h===void 0?null:h)}function Vm(a,o,c,h){var y=mn();h=h===void 0?null:h;var x=y.memoizedState.inst;jt!==null&&h!==null&&Ey(h,jt.memoizedState.deps)?y.memoizedState=Xc(o,x,c,h):(We.flags|=a,y.memoizedState=Xc(1|o,x,c,h))}function TT(a,o){zm(8390656,8,a,o)}function ky(a,o){Vm(2048,8,a,o)}function Yz(a){We.flags|=4;var o=We.updateQueue;if(o===null)o=Mm(),We.updateQueue=o,o.events=[a];else{var c=o.events;c===null?o.events=[a]:c.push(a)}}function NT(a){var o=mn().memoizedState;return Yz({ref:o,nextImpl:a}),function(){if((pt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function jT(a,o){return Vm(4,2,a,o)}function CT(a,o){return Vm(4,4,a,o)}function OT(a,o){if(typeof o=="function"){a=a();var c=o(a);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function IT(a,o,c){c=c!=null?c.concat([a]):null,Vm(4,4,OT.bind(null,o,a),c)}function My(){}function PT(a,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Ey(o,h[1])?h[0]:(c.memoizedState=[a,o],a)}function RT(a,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Ey(o,h[1]))return h[0];if(h=a(),kl){$n(!0);try{a()}finally{$n(!1)}}return c.memoizedState=[h,o],h}function Dy(a,o,c){return c===void 0||(rs&1073741824)!==0&&(nt&261930)===0?a.memoizedState=o:(a.memoizedState=c,a=k2(),We.lanes|=a,xo|=a,c)}function kT(a,o,c,h){return ei(c,o)?c:Gc.current!==null?(a=Dy(a,c,h),ei(a,o)||(En=!0),a):(rs&42)===0||(rs&1073741824)!==0&&(nt&261930)===0?(En=!0,a.memoizedState=c):(a=k2(),We.lanes|=a,xo|=a,o)}function MT(a,o,c,h,y){var x=Z.p;Z.p=x!==0&&8>x?x:8;var C=K.T,U={};K.T=U,Vy(a,!1,o,c);try{var G=y(),ae=K.S;if(ae!==null&&ae(U,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var pe=qz(G,h);Hd(a,o,pe,si(a))}else Hd(a,o,h,si(a))}catch(ye){Hd(a,o,{then:function(){},status:"rejected",reason:ye},si())}finally{Z.p=x,C!==null&&U.types!==null&&(C.types=U.types),K.T=C}}function Wz(){}function Ly(a,o,c,h){if(a.tag!==5)throw Error(r(476));var y=DT(a).queue;MT(a,y,o,he,c===null?Wz:function(){return LT(a),c(h)})}function DT(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:he},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:c},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function LT(a){var o=DT(a);o.next===null&&(o=a.alternate.memoizedState),Hd(a,o.next.queue,{},si())}function zy(){return ir(cf)}function zT(){return mn().memoizedState}function VT(){return mn().memoizedState}function Xz(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var c=si();a=mo(c);var h=po(o,a,c);h!==null&&(qr(h,o,c),Ud(h,o,c)),o={cache:hy()},a.payload=o;return}o=o.return}}function Qz(a,o,c){var h=si();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Um(a)?BT(o,c):(c=ny(a,o,c,h),c!==null&&(qr(c,a,h),$T(c,o,h)))}function UT(a,o,c){var h=si();Hd(a,o,c,h)}function Hd(a,o,c,h){var y={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Um(a))BT(o,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,U=x(C,c);if(y.hasEagerState=!0,y.eagerState=U,ei(U,C))return xm(a,o,y,0),kt===null&&bm(),!1}catch{}if(c=ny(a,o,y,h),c!==null)return qr(c,a,h),$T(c,o,h),!0}return!1}function Vy(a,o,c,h){if(h={lane:2,revertLane:vb(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Um(a)){if(o)throw Error(r(479))}else o=ny(a,c,h,2),o!==null&&qr(o,a,2)}function Um(a){var o=a.alternate;return a===We||o!==null&&o===We}function BT(a,o){Yc=Rm=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function $T(a,o,c){if((c&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,c|=h,o.lanes=c,fl(a,c)}}var Kd={readContext:ir,use:Dm,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Kd.useEffectEvent=nn;var qT={readContext:ir,use:Dm,useCallback:function(a,o){return Nr().memoizedState=[a,o===void 0?null:o],a},useContext:ir,useEffect:TT,useImperativeHandle:function(a,o,c){c=c!=null?c.concat([a]):null,zm(4194308,4,OT.bind(null,o,a),c)},useLayoutEffect:function(a,o){return zm(4194308,4,a,o)},useInsertionEffect:function(a,o){zm(4,2,a,o)},useMemo:function(a,o){var c=Nr();o=o===void 0?null:o;var h=a();if(kl){$n(!0);try{a()}finally{$n(!1)}}return c.memoizedState=[h,o],h},useReducer:function(a,o,c){var h=Nr();if(c!==void 0){var y=c(o);if(kl){$n(!0);try{c(o)}finally{$n(!1)}}}else y=o;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=Qz.bind(null,We,a),[h.memoizedState,a]},useRef:function(a){var o=Nr();return a={current:a},o.memoizedState=a},useState:function(a){a=Py(a);var o=a.queue,c=UT.bind(null,We,o);return o.dispatch=c,[a.memoizedState,c]},useDebugValue:My,useDeferredValue:function(a,o){var c=Nr();return Dy(c,a,o)},useTransition:function(){var a=Py(!1);return a=MT.bind(null,We,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,c){var h=We,y=Nr();if(ot){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),kt===null)throw Error(r(349));(nt&127)!==0||uT(h,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,TT(fT.bind(null,h,x,a),[a]),h.flags|=2048,Xc(9,{destroy:void 0},dT.bind(null,h,x,c,o),null),c},useId:function(){var a=Nr(),o=kt.identifierPrefix;if(ot){var c=_a,h=xa;c=(h&~(1<<32-qt(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=km++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=Fz++,o="_"+o+"r_"+c.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:zy,useFormState:_T,useActionState:_T,useOptimistic:function(a){var o=Nr();o.memoizedState=o.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Vy.bind(null,We,!0,c),c.dispatch=o,[a,o]},useMemoCache:Cy,useCacheRefresh:function(){return Nr().memoizedState=Xz.bind(null,We)},useEffectEvent:function(a){var o=Nr(),c={impl:a};return o.memoizedState=c,function(){if((pt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Uy={readContext:ir,use:Dm,useCallback:PT,useContext:ir,useEffect:ky,useImperativeHandle:IT,useInsertionEffect:jT,useLayoutEffect:CT,useMemo:RT,useReducer:Lm,useRef:AT,useState:function(){return Lm(is)},useDebugValue:My,useDeferredValue:function(a,o){var c=mn();return kT(c,jt.memoizedState,a,o)},useTransition:function(){var a=Lm(is)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Fd(a),o]},useSyncExternalStore:cT,useId:zT,useHostTransitionStatus:zy,useFormState:wT,useActionState:wT,useOptimistic:function(a,o){var c=mn();return pT(c,jt,a,o)},useMemoCache:Cy,useCacheRefresh:VT};Uy.useEffectEvent=NT;var FT={readContext:ir,use:Dm,useCallback:PT,useContext:ir,useEffect:ky,useImperativeHandle:IT,useInsertionEffect:jT,useLayoutEffect:CT,useMemo:RT,useReducer:Iy,useRef:AT,useState:function(){return Iy(is)},useDebugValue:My,useDeferredValue:function(a,o){var c=mn();return jt===null?Dy(c,a,o):kT(c,jt.memoizedState,a,o)},useTransition:function(){var a=Iy(is)[0],o=mn().memoizedState;return[typeof a=="boolean"?a:Fd(a),o]},useSyncExternalStore:cT,useId:zT,useHostTransitionStatus:zy,useFormState:ET,useActionState:ET,useOptimistic:function(a,o){var c=mn();return jt!==null?pT(c,jt,a,o):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Cy,useCacheRefresh:VT};FT.useEffectEvent=NT;function By(a,o,c,h){o=a.memoizedState,c=c(h,o),c=c==null?o:g({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var $y={enqueueSetState:function(a,o,c){a=a._reactInternals;var h=si(),y=mo(h);y.payload=o,c!=null&&(y.callback=c),o=po(a,y,h),o!==null&&(qr(o,a,h),Ud(o,a,h))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var h=si(),y=mo(h);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=po(a,y,h),o!==null&&(qr(o,a,h),Ud(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=si(),h=mo(c);h.tag=2,o!=null&&(h.callback=o),o=po(a,h,c),o!==null&&(qr(o,a,c),Ud(o,a,c))}};function HT(a,o,c,h,y,x,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,C):o.prototype&&o.prototype.isPureReactComponent?!Pd(c,h)||!Pd(y,x):!0}function KT(a,o,c,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==a&&$y.enqueueReplaceState(o,o.state,null)}function Ml(a,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(a=a.defaultProps){c===o&&(c=g({},c));for(var y in a)c[y]===void 0&&(c[y]=a[y])}return c}function GT(a){ym(a)}function YT(a){console.error(a)}function WT(a){ym(a)}function Bm(a,o){try{var c=a.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function XT(a,o,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function qy(a,o,c){return c=mo(c),c.tag=3,c.payload={element:null},c.callback=function(){Bm(a,o)},c}function QT(a){return a=mo(a),a.tag=3,a}function ZT(a,o,c,h){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;a.payload=function(){return y(x)},a.callback=function(){XT(o,c,h)}}var C=c.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){XT(o,c,h),typeof y!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function Zz(a,o,c,h,y){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&$c(o,c,y,!0),c=ni.current,c!==null){switch(c.tag){case 31:case 13:return Ei===null?Jm():c.alternate===null&&rn===0&&(rn=3),c.flags&=-257,c.flags|=65536,c.lanes=y,h===jm?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),mb(a,h,y)),!1;case 22:return c.flags|=65536,h===jm?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),mb(a,h,y)),!1}throw Error(r(435,c.tag))}return mb(a,h,y),Jm(),!1}if(ot)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,h!==ly&&(a=Error(r(422),{cause:h}),Md(xi(a,c)))):(h!==ly&&(o=Error(r(423),{cause:h}),Md(xi(o,c))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=xi(h,c),y=qy(a.stateNode,h,y),by(a,y),rn!==4&&(rn=2)),!1;var x=Error(r(520),{cause:h});if(x=xi(x,c),ef===null?ef=[x]:ef.push(x),rn!==4&&(rn=2),o===null)return!0;h=xi(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,a=y&-y,c.lanes|=a,a=qy(c.stateNode,h,a),by(c,a),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(_o===null||!_o.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=QT(y),ZT(y,a,c,h),by(c,y),!1}c=c.return}while(c!==null);return!1}var Fy=Error(r(461)),En=!1;function ar(a,o,c,h){o.child=a===null?nT(o,null,c,h):Rl(o,a.child,c,h)}function JT(a,o,c,h,y){c=c.render;var x=o.ref;if("ref"in h){var C={};for(var U in h)U!=="ref"&&(C[U]=h[U])}else C=h;return Cl(o),h=Ay(a,o,c,C,x,y),U=Ty(),a!==null&&!En?(Ny(a,o,y),as(a,o,y)):(ot&&U&&sy(o),o.flags|=1,ar(a,o,h,y),o.child)}function e2(a,o,c,h,y){if(a===null){var x=c.type;return typeof x=="function"&&!ry(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,t2(a,o,x,h,y)):(a=wm(c.type,null,h,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(x=a.child,!Zy(a,y)){var C=x.memoizedProps;if(c=c.compare,c=c!==null?c:Pd,c(C,h)&&a.ref===o.ref)return as(a,o,y)}return o.flags|=1,a=Ja(x,h),a.ref=o.ref,a.return=o,o.child=a}function t2(a,o,c,h,y){if(a!==null){var x=a.memoizedProps;if(Pd(x,h)&&a.ref===o.ref)if(En=!1,o.pendingProps=h=x,Zy(a,y))(a.flags&131072)!==0&&(En=!0);else return o.lanes=a.lanes,as(a,o,y)}return Hy(a,o,c,h,y)}function n2(a,o,c,h){var y=h.children,x=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=o.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~x}else h=0,o.child=null;return r2(a,o,x,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Tm(o,x!==null?x.cachePool:null),x!==null?aT(o,x):_y(),sT(o);else return h=o.lanes=536870912,r2(a,o,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(Tm(o,x.cachePool),aT(o,x),vo(),o.memoizedState=null):(a!==null&&Tm(o,null),_y(),vo());return ar(a,o,y,c),o.child}function Gd(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function r2(a,o,c,h,y){var x=py();return x=x===null?null:{parent:wn._currentValue,pool:x},o.memoizedState={baseLanes:c,cachePool:x},a!==null&&Tm(o,null),_y(),sT(o),a!==null&&$c(a,o,h,!0),o.childLanes=y,null}function $m(a,o){return o=Fm({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function i2(a,o,c){return Rl(o,a.child,null,c),a=$m(o,o.pendingProps),a.flags|=2,ri(o),o.memoizedState=null,a}function Jz(a,o,c){var h=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(ot){if(h.mode==="hidden")return a=$m(o,h),o.lanes=536870912,Gd(null,a);if(Sy(o),(a=Ft)?(a=gN(a,Si),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lo!==null?{id:xa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},c=BA(a),c.return=o,o.child=c,rr=o,Ft=null)):a=null,a===null)throw uo(o);return o.lanes=536870912,null}return $m(o,h)}var x=a.memoizedState;if(x!==null){var C=x.dehydrated;if(Sy(o),y)if(o.flags&256)o.flags&=-257,o=i2(a,o,c);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(En||$c(a,o,c,!1),y=(c&a.childLanes)!==0,En||y){if(h=kt,h!==null&&(C=hl(h,c),C!==0&&C!==x.retryLane))throw x.retryLane=C,Al(a,C),qr(h,a,C),Fy;Jm(),o=i2(a,o,c)}else a=x.treeContext,Ft=Ai(C.nextSibling),rr=o,ot=!0,co=null,Si=!1,a!==null&&FA(o,a),o=$m(o,h),o.flags|=4096;return o}return a=Ja(a.child,{mode:h.mode,children:h.children}),a.ref=o.ref,o.child=a,a.return=o,a}function qm(a,o){var c=o.ref;if(c===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(o.flags|=4194816)}}function Hy(a,o,c,h,y){return Cl(o),c=Ay(a,o,c,h,void 0,y),h=Ty(),a!==null&&!En?(Ny(a,o,y),as(a,o,y)):(ot&&h&&sy(o),o.flags|=1,ar(a,o,c,y),o.child)}function a2(a,o,c,h,y,x){return Cl(o),o.updateQueue=null,c=lT(o,h,c,y),oT(a),h=Ty(),a!==null&&!En?(Ny(a,o,x),as(a,o,x)):(ot&&h&&sy(o),o.flags|=1,ar(a,o,c,x),o.child)}function s2(a,o,c,h,y){if(Cl(o),o.stateNode===null){var x=zc,C=c.contextType;typeof C=="object"&&C!==null&&(x=ir(C)),x=new c(h,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=$y,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=h,x.state=o.memoizedState,x.refs={},vy(o),C=c.contextType,x.context=typeof C=="object"&&C!==null?ir(C):zc,x.state=o.memoizedState,C=c.getDerivedStateFromProps,typeof C=="function"&&(By(o,c,C,h),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&$y.enqueueReplaceState(x,x.state,null),$d(o,h,x,y),Bd(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){x=o.stateNode;var U=o.memoizedProps,G=Ml(c,U);x.props=G;var ae=x.context,pe=c.contextType;C=zc,typeof pe=="object"&&pe!==null&&(C=ir(pe));var ye=c.getDerivedStateFromProps;pe=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",U=o.pendingProps!==U,pe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(U||ae!==C)&&KT(o,x,h,C),ho=!1;var se=o.memoizedState;x.state=se,$d(o,h,x,y),Bd(),ae=o.memoizedState,U||se!==ae||ho?(typeof ye=="function"&&(By(o,c,ye,h),ae=o.memoizedState),(G=ho||HT(o,c,G,h,se,ae,C))?(pe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=ae),x.props=h,x.state=ae,x.context=C,h=G):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{x=o.stateNode,yy(a,o),C=o.memoizedProps,pe=Ml(c,C),x.props=pe,ye=o.pendingProps,se=x.context,ae=c.contextType,G=zc,typeof ae=="object"&&ae!==null&&(G=ir(ae)),U=c.getDerivedStateFromProps,(ae=typeof U=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ye||se!==G)&&KT(o,x,h,G),ho=!1,se=o.memoizedState,x.state=se,$d(o,h,x,y),Bd();var de=o.memoizedState;C!==ye||se!==de||ho||a!==null&&a.dependencies!==null&&Em(a.dependencies)?(typeof U=="function"&&(By(o,c,U,h),de=o.memoizedState),(pe=ho||HT(o,c,pe,h,se,de,G)||a!==null&&a.dependencies!==null&&Em(a.dependencies))?(ae||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,de,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,de,G)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=de),x.props=h,x.state=de,x.context=G,h=pe):(typeof x.componentDidUpdate!="function"||C===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),h=!1)}return x=h,qm(a,o),h=(o.flags&128)!==0,x||h?(x=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,a!==null&&h?(o.child=Rl(o,a.child,null,y),o.child=Rl(o,null,c,y)):ar(a,o,c,y),o.memoizedState=x.state,a=o.child):a=as(a,o,y),a}function o2(a,o,c,h){return Nl(),o.flags|=256,ar(a,o,c,h),o.child}var Ky={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gy(a){return{baseLanes:a,cachePool:XA()}}function Yy(a,o,c){return a=a!==null?a.childLanes&~c:0,o&&(a|=ai),a}function l2(a,o,c){var h=o.pendingProps,y=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),C&&(y=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,a===null){if(ot){if(y?go(o):vo(),(a=Ft)?(a=gN(a,Si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:lo!==null?{id:xa,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},c=BA(a),c.return=o,o.child=c,rr=o,Ft=null)):a=null,a===null)throw uo(o);return Ob(a)?o.lanes=32:o.lanes=536870912,null}var U=h.children;return h=h.fallback,y?(vo(),y=o.mode,U=Fm({mode:"hidden",children:U},y),h=Tl(h,y,c,null),U.return=o,h.return=o,U.sibling=h,o.child=U,h=o.child,h.memoizedState=Gy(c),h.childLanes=Yy(a,C,c),o.memoizedState=Ky,Gd(null,h)):(go(o),Wy(o,U))}var G=a.memoizedState;if(G!==null&&(U=G.dehydrated,U!==null)){if(x)o.flags&256?(go(o),o.flags&=-257,o=Xy(a,o,c)):o.memoizedState!==null?(vo(),o.child=a.child,o.flags|=128,o=null):(vo(),U=h.fallback,y=o.mode,h=Fm({mode:"visible",children:h.children},y),U=Tl(U,y,c,null),U.flags|=2,h.return=o,U.return=o,h.sibling=U,o.child=h,Rl(o,a.child,null,c),h=o.child,h.memoizedState=Gy(c),h.childLanes=Yy(a,C,c),o.memoizedState=Ky,o=Gd(null,h));else if(go(o),Ob(U)){if(C=U.nextSibling&&U.nextSibling.dataset,C)var ae=C.dgst;C=ae,h=Error(r(419)),h.stack="",h.digest=C,Md({value:h,source:null,stack:null}),o=Xy(a,o,c)}else if(En||$c(a,o,c,!1),C=(c&a.childLanes)!==0,En||C){if(C=kt,C!==null&&(h=hl(C,c),h!==0&&h!==G.retryLane))throw G.retryLane=h,Al(a,h),qr(C,a,h),Fy;Cb(U)||Jm(),o=Xy(a,o,c)}else Cb(U)?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Ft=Ai(U.nextSibling),rr=o,ot=!0,co=null,Si=!1,a!==null&&FA(o,a),o=Wy(o,h.children),o.flags|=4096);return o}return y?(vo(),U=h.fallback,y=o.mode,G=a.child,ae=G.sibling,h=Ja(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,ae!==null?U=Ja(ae,U):(U=Tl(U,y,c,null),U.flags|=2),U.return=o,h.return=o,h.sibling=U,o.child=h,Gd(null,h),h=o.child,U=a.child.memoizedState,U===null?U=Gy(c):(y=U.cachePool,y!==null?(G=wn._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=XA(),U={baseLanes:U.baseLanes|c,cachePool:y}),h.memoizedState=U,h.childLanes=Yy(a,C,c),o.memoizedState=Ky,Gd(a.child,h)):(go(o),c=a.child,a=c.sibling,c=Ja(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,a!==null&&(C=o.deletions,C===null?(o.deletions=[a],o.flags|=16):C.push(a)),o.child=c,o.memoizedState=null,c)}function Wy(a,o){return o=Fm({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Fm(a,o){return a=ti(22,a,null,o),a.lanes=0,a}function Xy(a,o,c){return Rl(o,a.child,null,c),a=Wy(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function c2(a,o,c){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),dy(a.return,o,c)}function Qy(a,o,c,h,y,x){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y,treeForkCount:x}:(C.isBackwards=o,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=c,C.tailMode=y,C.treeForkCount=x)}function u2(a,o,c){var h=o.pendingProps,y=h.revealOrder,x=h.tail;h=h.children;var C=hn.current,U=(C&2)!==0;if(U?(C=C&1|2,o.flags|=128):C&=1,Q(hn,C),ar(a,o,h,c),h=ot?kd:0,!U&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&c2(a,c,o);else if(a.tag===19)c2(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(c=o.child,y=null;c!==null;)a=c.alternate,a!==null&&Pm(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Qy(o,!1,y,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Pm(a)===null){o.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Qy(o,!0,c,null,x,h);break;case"together":Qy(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function as(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),xo|=o.lanes,(c&o.childLanes)===0)if(a!==null){if($c(a,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,c=Ja(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=Ja(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function Zy(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Em(a)))}function eV(a,o,c){switch(o.tag){case 3:je(o,o.stateNode.containerInfo),fo(o,wn,a.memoizedState.cache),Nl();break;case 27:case 5:Te(o);break;case 4:je(o,o.stateNode.containerInfo);break;case 10:fo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Sy(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(go(o),o.flags|=128,null):(c&o.child.childLanes)!==0?l2(a,o,c):(go(o),a=as(a,o,c),a!==null?a.sibling:null);go(o);break;case 19:var y=(a.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||($c(a,o,c,!1),h=(c&o.childLanes)!==0),y){if(h)return u2(a,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Q(hn,hn.current),h)break;return null;case 22:return o.lanes=0,n2(a,o,c,o.pendingProps);case 24:fo(o,wn,a.memoizedState.cache)}return as(a,o,c)}function d2(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps)En=!0;else{if(!Zy(a,c)&&(o.flags&128)===0)return En=!1,eV(a,o,c);En=(a.flags&131072)!==0}else En=!1,ot&&(o.flags&1048576)!==0&&qA(o,kd,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(a=Il(o.elementType),o.type=a,typeof a=="function")ry(a)?(h=Ml(a,h),o.tag=1,o=s2(null,o,a,h,c)):(o.tag=0,o=Hy(null,o,a,h,c));else{if(a!=null){var y=a.$$typeof;if(y===B){o.tag=11,o=JT(null,o,a,h,c);break e}else if(y===j){o.tag=14,o=e2(null,o,a,h,c);break e}}throw o=X(a)||a,Error(r(306,o,""))}}return o;case 0:return Hy(a,o,o.type,o.pendingProps,c);case 1:return h=o.type,y=Ml(h,o.pendingProps),s2(a,o,h,y,c);case 3:e:{if(je(o,o.stateNode.containerInfo),a===null)throw Error(r(387));h=o.pendingProps;var x=o.memoizedState;y=x.element,yy(a,o),$d(o,h,null,c);var C=o.memoizedState;if(h=C.cache,fo(o,wn,h),h!==x.cache&&fy(o,[wn],c,!0),Bd(),h=C.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=o2(a,o,h,c);break e}else if(h!==y){y=xi(Error(r(424)),o),Md(y),o=o2(a,o,h,c);break e}else for(a=o.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Ft=Ai(a.firstChild),rr=o,ot=!0,co=null,Si=!0,c=nT(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Nl(),h===y){o=as(a,o,c);break e}ar(a,o,h,c)}o=o.child}return o;case 26:return qm(a,o),a===null?(c=wN(o.type,null,o.pendingProps,null))?o.memoizedState=c:ot||(c=o.type,a=o.pendingProps,h=sp(oe.current).createElement(c),h[bn]=o,h[qn]=a,sr(h,c,a),xn(h),o.stateNode=h):o.memoizedState=wN(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Te(o),a===null&&ot&&(h=o.stateNode=bN(o.type,o.pendingProps,oe.current),rr=o,Si=!0,y=Ft,Ao(o.type)?(Ib=y,Ft=Ai(h.firstChild)):Ft=y),ar(a,o,o.pendingProps.children,c),qm(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ot&&((y=h=Ft)&&(h=OV(h,o.type,o.pendingProps,Si),h!==null?(o.stateNode=h,rr=o,Ft=Ai(h.firstChild),Si=!1,y=!0):y=!1),y||uo(o)),Te(o),y=o.type,x=o.pendingProps,C=a!==null?a.memoizedProps:null,h=x.children,Tb(y,x)?h=null:C!==null&&Tb(y,C)&&(o.flags|=32),o.memoizedState!==null&&(y=Ay(a,o,Hz,null,null,c),cf._currentValue=y),qm(a,o),ar(a,o,h,c),o.child;case 6:return a===null&&ot&&((a=c=Ft)&&(c=IV(c,o.pendingProps,Si),c!==null?(o.stateNode=c,rr=o,Ft=null,a=!0):a=!1),a||uo(o)),null;case 13:return l2(a,o,c);case 4:return je(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Rl(o,null,h,c):ar(a,o,h,c),o.child;case 11:return JT(a,o,o.type,o.pendingProps,c);case 7:return ar(a,o,o.pendingProps,c),o.child;case 8:return ar(a,o,o.pendingProps.children,c),o.child;case 12:return ar(a,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,fo(o,o.type,h.value),ar(a,o,h.children,c),o.child;case 9:return y=o.type._context,h=o.pendingProps.children,Cl(o),y=ir(y),h=h(y),o.flags|=1,ar(a,o,h,c),o.child;case 14:return e2(a,o,o.type,o.pendingProps,c);case 15:return t2(a,o,o.type,o.pendingProps,c);case 19:return u2(a,o,c);case 31:return Jz(a,o,c);case 22:return n2(a,o,c,o.pendingProps);case 24:return Cl(o),h=ir(wn),a===null?(y=py(),y===null&&(y=kt,x=hy(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:h,cache:y},vy(o),fo(o,wn,y)):((a.lanes&c)!==0&&(yy(a,o),$d(o,null,null,c),Bd()),y=a.memoizedState,x=o.memoizedState,y.parent!==h?(y={parent:h,cache:h},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),fo(o,wn,h)):(h=x.cache,fo(o,wn,h),h!==y.cache&&fy(o,[wn],c,!0))),ar(a,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ss(a){a.flags|=4}function Jy(a,o,c,h,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(z2())a.flags|=8192;else throw Pl=jm,gy}else a.flags&=-16777217}function f2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!NN(o))if(z2())a.flags|=8192;else throw Pl=jm,gy}function Hm(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?xt():536870912,a.lanes|=o,eu|=o)}function Yd(a,o){if(!ot)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Ht(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(o)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,o}function tV(a,o,c){var h=o.pendingProps;switch(oy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return Ht(o),null;case 3:return c=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ns(wn),le(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Bc(o)?ss(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,cy())),Ht(o),null;case 26:var y=o.type,x=o.memoizedState;return a===null?(ss(o),x!==null?(Ht(o),f2(o,x)):(Ht(o),Jy(o,y,null,h,c))):x?x!==a.memoizedState?(ss(o),Ht(o),f2(o,x)):(Ht(o),o.flags&=-16777217):(a=a.memoizedProps,a!==h&&ss(o),Ht(o),Jy(o,y,a,h,c)),null;case 27:if(Ve(o),c=oe.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ss(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ht(o),null}a=ne.current,Bc(o)?HA(o):(a=bN(y,h,c),o.stateNode=a,ss(o))}return Ht(o),null;case 5:if(Ve(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&ss(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Ht(o),null}if(x=ne.current,Bc(o))HA(o);else{var C=sp(oe.current);switch(x){case 1:x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=C.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}x[bn]=o,x[qn]=h;e:for(C=o.child;C!==null;){if(C.tag===5||C.tag===6)x.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===o)break e;for(;C.sibling===null;){if(C.return===null||C.return===o)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}o.stateNode=x;e:switch(sr(x,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ss(o)}}return Ht(o),Jy(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,c),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&ss(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(a=oe.current,Bc(o)){if(a=o.stateNode,c=o.memoizedProps,h=null,y=rr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[bn]=o,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||lN(a.nodeValue,c)),a||uo(o,!0)}else a=sp(a).createTextNode(h),a[bn]=o,o.stateNode=a}return Ht(o),null;case 31:if(c=o.memoizedState,a===null||a.memoizedState!==null){if(h=Bc(o),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[bn]=o}else Nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),a=!1}else c=cy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return o.flags&256?(ri(o),o):(ri(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ht(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Bc(o),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[bn]=o}else Nl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ht(o),y=!1}else y=cy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ri(o),o):(ri(o),null)}return ri(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=o.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==y&&(h.flags|=2048)),c!==a&&c&&(o.child.flags|=8192),Hm(o,o.updateQueue),Ht(o),null);case 4:return le(),a===null&&_b(o.stateNode.containerInfo),Ht(o),null;case 10:return ns(o.type),Ht(o),null;case 19:if(Y(hn),h=o.memoizedState,h===null)return Ht(o),null;if(y=(o.flags&128)!==0,x=h.rendering,x===null)if(y)Yd(h,!1);else{if(rn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(x=Pm(a),x!==null){for(o.flags|=128,Yd(h,!1),a=x.updateQueue,o.updateQueue=a,Hm(o,a),o.subtreeFlags=0,a=c,c=o.child;c!==null;)UA(c,a),c=c.sibling;return Q(hn,hn.current&1|2),ot&&es(o,h.treeForkCount),o.child}a=a.sibling}h.tail!==null&&un()>Xm&&(o.flags|=128,y=!0,Yd(h,!1),o.lanes=4194304)}else{if(!y)if(a=Pm(x),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Hm(o,a),Yd(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!ot)return Ht(o),null}else 2*un()-h.renderingStartTime>Xm&&c!==536870912&&(o.flags|=128,y=!0,Yd(h,!1),o.lanes=4194304);h.isBackwards?(x.sibling=o.child,o.child=x):(a=h.last,a!==null?a.sibling=x:o.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=un(),a.sibling=null,c=hn.current,Q(hn,y?c&1|2:c&1),ot&&es(o,h.treeForkCount),a):(Ht(o),null);case 22:case 23:return ri(o),wy(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),c=o.updateQueue,c!==null&&Hm(o,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),a!==null&&Y(Ol),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),ns(wn),Ht(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function nV(a,o){switch(oy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return ns(wn),le(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ve(o),null;case 31:if(o.memoizedState!==null){if(ri(o),o.alternate===null)throw Error(r(340));Nl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ri(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Nl()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return Y(hn),null;case 4:return le(),null;case 10:return ns(o.type),null;case 22:case 23:return ri(o),wy(),a!==null&&Y(Ol),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return ns(wn),null;case 25:return null;default:return null}}function h2(a,o){switch(oy(o),o.tag){case 3:ns(wn),le();break;case 26:case 27:case 5:Ve(o);break;case 4:le();break;case 31:o.memoizedState!==null&&ri(o);break;case 13:ri(o);break;case 19:Y(hn);break;case 10:ns(o.type);break;case 22:case 23:ri(o),wy(),a!==null&&Y(Ol);break;case 24:ns(wn)}}function Wd(a,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&a)===a){h=void 0;var x=c.create,C=c.inst;h=x(),C.destroy=h}c=c.next}while(c!==y)}}catch(U){Et(o,o.return,U)}}function yo(a,o,c){try{var h=o.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var x=y.next;h=x;do{if((h.tag&a)===a){var C=h.inst,U=C.destroy;if(U!==void 0){C.destroy=void 0,y=o;var G=c,ae=U;try{ae()}catch(pe){Et(y,G,pe)}}}h=h.next}while(h!==x)}}catch(pe){Et(o,o.return,pe)}}function m2(a){var o=a.updateQueue;if(o!==null){var c=a.stateNode;try{iT(o,c)}catch(h){Et(a,a.return,h)}}}function p2(a,o,c){c.props=Ml(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Et(a,o,h)}}function Xd(a,o){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(y){Et(a,o,y)}}function wa(a,o){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(y){Et(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Et(a,o,y)}else c.current=null}function g2(a){var o=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(y){Et(a,a.return,y)}}function eb(a,o,c){try{var h=a.stateNode;EV(h,a.type,c,o),h[qn]=o}catch(y){Et(a,a.return,y)}}function v2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ao(a.type)||a.tag===4}function tb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||v2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ao(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function nb(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(a),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=$i));else if(h!==4&&(h===27&&Ao(a.type)&&(c=a.stateNode,o=null),a=a.child,a!==null))for(nb(a,o,c),a=a.sibling;a!==null;)nb(a,o,c),a=a.sibling}function Km(a,o,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(h!==4&&(h===27&&Ao(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Km(a,o,c),a=a.sibling;a!==null;)Km(a,o,c),a=a.sibling}function y2(a){var o=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);sr(o,h,c),o[bn]=a,o[qn]=c}catch(x){Et(a,a.return,x)}}var os=!1,An=!1,rb=!1,b2=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function rV(a,o){if(a=a.containerInfo,Eb=hp,a=IA(a),X0(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var C=0,U=-1,G=-1,ae=0,pe=0,ye=a,se=null;t:for(;;){for(var de;ye!==c||y!==0&&ye.nodeType!==3||(U=C+y),ye!==x||h!==0&&ye.nodeType!==3||(G=C+h),ye.nodeType===3&&(C+=ye.nodeValue.length),(de=ye.firstChild)!==null;)se=ye,ye=de;for(;;){if(ye===a)break t;if(se===c&&++ae===y&&(U=C),se===x&&++pe===h&&(G=C),(de=ye.nextSibling)!==null)break;ye=se,se=ye.parentNode}ye=de}c=U===-1||G===-1?null:{start:U,end:G}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ab={focusedElem:a,selectionRange:c},hp=!1,Hn=o;Hn!==null;)if(o=Hn,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,Hn=a;else for(;Hn!==null;){switch(o=Hn,x=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)y=a[c],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var Pe=Ml(c.type,y);a=h.getSnapshotBeforeUpdate(Pe,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(Le){Et(c,c.return,Le)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,c=a.nodeType,c===9)jb(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":jb(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,Hn=a;break}Hn=o.return}}function x2(a,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:cs(a,c),h&4&&Wd(5,c);break;case 1:if(cs(a,c),h&4)if(a=c.stateNode,o===null)try{a.componentDidMount()}catch(C){Et(c,c.return,C)}else{var y=Ml(c.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Et(c,c.return,C)}}h&64&&m2(c),h&512&&Xd(c,c.return);break;case 3:if(cs(a,c),h&64&&(a=c.updateQueue,a!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{iT(a,o)}catch(C){Et(c,c.return,C)}}break;case 27:o===null&&h&4&&y2(c);case 26:case 5:cs(a,c),o===null&&h&4&&g2(c),h&512&&Xd(c,c.return);break;case 12:cs(a,c);break;case 31:cs(a,c),h&4&&S2(a,c);break;case 13:cs(a,c),h&4&&E2(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=fV.bind(null,c),PV(a,c))));break;case 22:if(h=c.memoizedState!==null||os,!h){o=o!==null&&o.memoizedState!==null||An,y=os;var x=An;os=h,(An=o)&&!x?us(a,c,(c.subtreeFlags&8772)!==0):cs(a,c),os=y,An=x}break;case 30:break;default:cs(a,c)}}function _2(a){var o=a.alternate;o!==null&&(a.alternate=null,_2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Ec(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Vr=!1;function ls(a,o,c){for(c=c.child;c!==null;)w2(a,o,c),c=c.sibling}function w2(a,o,c){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(er,c)}catch{}switch(c.tag){case 26:An||wa(c,o),ls(a,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:An||wa(c,o);var h=Xt,y=Vr;Ao(c.type)&&(Xt=c.stateNode,Vr=!1),ls(a,o,c),sf(c.stateNode),Xt=h,Vr=y;break;case 5:An||wa(c,o);case 6:if(h=Xt,y=Vr,Xt=null,ls(a,o,c),Xt=h,Vr=y,Xt!==null)if(Vr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(c.stateNode)}catch(x){Et(c,o,x)}else try{Xt.removeChild(c.stateNode)}catch(x){Et(c,o,x)}break;case 18:Xt!==null&&(Vr?(a=Xt,mN(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),lu(a)):mN(Xt,c.stateNode));break;case 4:h=Xt,y=Vr,Xt=c.stateNode.containerInfo,Vr=!0,ls(a,o,c),Xt=h,Vr=y;break;case 0:case 11:case 14:case 15:yo(2,c,o),An||yo(4,c,o),ls(a,o,c);break;case 1:An||(wa(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&p2(c,o,h)),ls(a,o,c);break;case 21:ls(a,o,c);break;case 22:An=(h=An)||c.memoizedState!==null,ls(a,o,c),An=h;break;default:ls(a,o,c)}}function S2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{lu(a)}catch(c){Et(o,o.return,c)}}}function E2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{lu(a)}catch(c){Et(o,o.return,c)}}function iV(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new b2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new b2),o;default:throw Error(r(435,a.tag))}}function Gm(a,o){var c=iV(a);o.forEach(function(h){if(!c.has(h)){c.add(h);var y=hV.bind(null,a,h);h.then(y,y)}})}function Ur(a,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h],x=a,C=o,U=C;e:for(;U!==null;){switch(U.tag){case 27:if(Ao(U.type)){Xt=U.stateNode,Vr=!1;break e}break;case 5:Xt=U.stateNode,Vr=!1;break e;case 3:case 4:Xt=U.stateNode.containerInfo,Vr=!0;break e}U=U.return}if(Xt===null)throw Error(r(160));w2(x,C,y),Xt=null,Vr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)A2(o,a),o=o.sibling}var Yi=null;function A2(a,o){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ur(o,a),Br(a),h&4&&(yo(3,a,a.return),Wd(3,a),yo(5,a,a.return));break;case 1:Ur(o,a),Br(a),h&512&&(An||c===null||wa(c,c.return)),h&64&&os&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var y=Yi;if(Ur(o,a),Br(a),h&512&&(An||c===null||wa(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":x=y.getElementsByTagName("title")[0],(!x||x[la]||x[bn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(h),y.head.insertBefore(x,y.querySelector("head > title"))),sr(x,h,c),x[bn]=a,xn(x),h=x;break e;case"link":var C=AN("link","href",y).get(h+(c.href||""));if(C){for(var U=0;U<C.length;U++)if(x=C[U],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){C.splice(U,1);break t}}x=y.createElement(h),sr(x,h,c),y.head.appendChild(x);break;case"meta":if(C=AN("meta","content",y).get(h+(c.content||""))){for(U=0;U<C.length;U++)if(x=C[U],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){C.splice(U,1);break t}}x=y.createElement(h),sr(x,h,c),y.head.appendChild(x);break;default:throw Error(r(468,h))}x[bn]=a,xn(x),h=x}a.stateNode=h}else TN(y,a.type,a.stateNode);else a.stateNode=EN(y,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?TN(y,a.type,a.stateNode):EN(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&eb(a,a.memoizedProps,c.memoizedProps)}break;case 27:Ur(o,a),Br(a),h&512&&(An||c===null||wa(c,c.return)),c!==null&&h&4&&eb(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Ur(o,a),Br(a),h&512&&(An||c===null||wa(c,c.return)),a.flags&32){y=a.stateNode;try{zr(y,"")}catch(Pe){Et(a,a.return,Pe)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,eb(a,y,c!==null?c.memoizedProps:y)),h&1024&&(rb=!0);break;case 6:if(Ur(o,a),Br(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch(Pe){Et(a,a.return,Pe)}}break;case 3:if(cp=null,y=Yi,Yi=op(o.containerInfo),Ur(o,a),Yi=y,Br(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{lu(o.containerInfo)}catch(Pe){Et(a,a.return,Pe)}rb&&(rb=!1,T2(a));break;case 4:h=Yi,Yi=op(a.stateNode.containerInfo),Ur(o,a),Br(a),Yi=h;break;case 12:Ur(o,a),Br(a);break;case 31:Ur(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gm(a,h)));break;case 13:Ur(o,a),Br(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Wm=un()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gm(a,h)));break;case 22:y=a.memoizedState!==null;var G=c!==null&&c.memoizedState!==null,ae=os,pe=An;if(os=ae||y,An=pe||G,Ur(o,a),An=pe,os=ae,Br(a),h&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(c===null||G||os||An||Dl(a)),c=null,o=a;;){if(o.tag===5||o.tag===26){if(c===null){G=c=o;try{if(x=G.stateNode,y)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{U=G.stateNode;var ye=G.memoizedProps.style,se=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;U.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Pe){Et(G,G.return,Pe)}}}else if(o.tag===6){if(c===null){G=o;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Pe){Et(G,G.return,Pe)}}}else if(o.tag===18){if(c===null){G=o;try{var de=G.stateNode;y?pN(de,!0):pN(G.stateNode,!1)}catch(Pe){Et(G,G.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Gm(a,c))));break;case 19:Ur(o,a),Br(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Gm(a,h)));break;case 30:break;case 21:break;default:Ur(o,a),Br(a)}}function Br(a){var o=a.flags;if(o&2){try{for(var c,h=a.return;h!==null;){if(v2(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,x=tb(a);Km(a,x,y);break;case 5:var C=c.stateNode;c.flags&32&&(zr(C,""),c.flags&=-33);var U=tb(a);Km(a,U,C);break;case 3:case 4:var G=c.stateNode.containerInfo,ae=tb(a);nb(a,ae,G);break;default:throw Error(r(161))}}catch(pe){Et(a,a.return,pe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function T2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;T2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function cs(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)x2(a,o.alternate,o),o=o.sibling}function Dl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:yo(4,o,o.return),Dl(o);break;case 1:wa(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&p2(o,o.return,c),Dl(o);break;case 27:sf(o.stateNode);case 26:case 5:wa(o,o.return),Dl(o);break;case 22:o.memoizedState===null&&Dl(o);break;case 30:Dl(o);break;default:Dl(o)}a=a.sibling}}function us(a,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,y=a,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:us(y,x,c),Wd(4,x);break;case 1:if(us(y,x,c),h=x,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Et(h,h.return,ae)}if(h=x,y=h.updateQueue,y!==null){var U=h.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)rT(G[y],U)}catch(ae){Et(h,h.return,ae)}}c&&C&64&&m2(x),Xd(x,x.return);break;case 27:y2(x);case 26:case 5:us(y,x,c),c&&h===null&&C&4&&g2(x),Xd(x,x.return);break;case 12:us(y,x,c);break;case 31:us(y,x,c),c&&C&4&&S2(y,x);break;case 13:us(y,x,c),c&&C&4&&E2(y,x);break;case 22:x.memoizedState===null&&us(y,x,c),Xd(x,x.return);break;case 30:break;default:us(y,x,c)}o=o.sibling}}function ib(a,o){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Dd(c))}function ab(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Dd(a))}function Wi(a,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)N2(a,o,c,h),o=o.sibling}function N2(a,o,c,h){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Wi(a,o,c,h),y&2048&&Wd(9,o);break;case 1:Wi(a,o,c,h);break;case 3:Wi(a,o,c,h),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Dd(a)));break;case 12:if(y&2048){Wi(a,o,c,h),a=o.stateNode;try{var x=o.memoizedProps,C=x.id,U=x.onPostCommit;typeof U=="function"&&U(C,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Et(o,o.return,G)}}else Wi(a,o,c,h);break;case 31:Wi(a,o,c,h);break;case 13:Wi(a,o,c,h);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?Wi(a,o,c,h):Qd(a,o):x._visibility&2?Wi(a,o,c,h):(x._visibility|=2,Qc(a,o,c,h,(o.subtreeFlags&10256)!==0||!1)),y&2048&&ib(C,o);break;case 24:Wi(a,o,c,h),y&2048&&ab(o.alternate,o);break;default:Wi(a,o,c,h)}}function Qc(a,o,c,h,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=a,C=o,U=c,G=h,ae=C.flags;switch(C.tag){case 0:case 11:case 15:Qc(x,C,U,G,y),Wd(8,C);break;case 23:break;case 22:var pe=C.stateNode;C.memoizedState!==null?pe._visibility&2?Qc(x,C,U,G,y):Qd(x,C):(pe._visibility|=2,Qc(x,C,U,G,y)),y&&ae&2048&&ib(C.alternate,C);break;case 24:Qc(x,C,U,G,y),y&&ae&2048&&ab(C.alternate,C);break;default:Qc(x,C,U,G,y)}o=o.sibling}}function Qd(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=a,h=o,y=h.flags;switch(h.tag){case 22:Qd(c,h),y&2048&&ib(h.alternate,h);break;case 24:Qd(c,h),y&2048&&ab(h.alternate,h);break;default:Qd(c,h)}o=o.sibling}}var Zd=8192;function Zc(a,o,c){if(a.subtreeFlags&Zd)for(a=a.child;a!==null;)j2(a,o,c),a=a.sibling}function j2(a,o,c){switch(a.tag){case 26:Zc(a,o,c),a.flags&Zd&&a.memoizedState!==null&&FV(c,Yi,a.memoizedState,a.memoizedProps);break;case 5:Zc(a,o,c);break;case 3:case 4:var h=Yi;Yi=op(a.stateNode.containerInfo),Zc(a,o,c),Yi=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Zd,Zd=16777216,Zc(a,o,c),Zd=h):Zc(a,o,c));break;default:Zc(a,o,c)}}function C2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Jd(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Hn=h,I2(h,a)}C2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)O2(a),a=a.sibling}function O2(a){switch(a.tag){case 0:case 11:case 15:Jd(a),a.flags&2048&&yo(9,a,a.return);break;case 3:Jd(a);break;case 12:Jd(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Ym(a)):Jd(a);break;default:Jd(a)}}function Ym(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Hn=h,I2(h,a)}C2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:yo(8,o,o.return),Ym(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Ym(o));break;default:Ym(o)}a=a.sibling}}function I2(a,o){for(;Hn!==null;){var c=Hn;switch(c.tag){case 0:case 11:case 15:yo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Dd(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Hn=h;else e:for(c=a;Hn!==null;){h=Hn;var y=h.sibling,x=h.return;if(_2(h),h===c){Hn=null;break e}if(y!==null){y.return=x,Hn=y;break e}Hn=x}}}var aV={getCacheForType:function(a){var o=ir(wn),c=o.data.get(a);return c===void 0&&(c=a(),o.data.set(a,c)),c},cacheSignal:function(){return ir(wn).controller.signal}},sV=typeof WeakMap=="function"?WeakMap:Map,pt=0,kt=null,Je=null,nt=0,St=0,ii=null,bo=!1,Jc=!1,sb=!1,ds=0,rn=0,xo=0,Ll=0,ob=0,ai=0,eu=0,ef=null,$r=null,lb=!1,Wm=0,P2=0,Xm=1/0,Qm=null,_o=null,Pn=0,wo=null,tu=null,fs=0,cb=0,ub=null,R2=null,tf=0,db=null;function si(){return(pt&2)!==0&&nt!==0?nt&-nt:K.T!==null?vb():Ze()}function k2(){if(ai===0)if((nt&536870912)===0||ot){var a=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),ai=a}else ai=536870912;return a=ni.current,a!==null&&(a.flags|=32),ai}function qr(a,o,c){(a===kt&&(St===2||St===9)||a.cancelPendingCommit!==null)&&(nu(a,0),So(a,nt,ai,!1)),tr(a,c),((pt&2)===0||a!==kt)&&(a===kt&&((pt&2)===0&&(Ll|=c),rn===4&&So(a,nt,ai,!1)),Sa(a))}function M2(a,o,c){if((pt&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&a.expiredLanes)===0||Se(a,o),y=h?cV(a,o):hb(a,o,!0),x=h;do{if(y===0){Jc&&!h&&So(a,o,0,!1);break}else{if(c=a.current.alternate,x&&!oV(c)){y=hb(a,o,!1),x=!1;continue}if(y===2){if(x=o,a.errorRecoveryDisabledLanes&x)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var U=a;y=ef;var G=U.current.memoizedState.isDehydrated;if(G&&(nu(U,C).flags|=256),C=hb(U,C,!1),C!==2){if(sb&&!G){U.errorRecoveryDisabledLanes|=x,Ll|=x,y=4;break e}x=$r,$r=y,x!==null&&($r===null?$r=x:$r.push.apply($r,x))}y=C}if(x=!1,y!==2)continue}}if(y===1){nu(a,0),So(a,o,0,!0);break}e:{switch(h=a,x=y,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:So(h,o,ai,!bo);break e;case 2:$r=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Wm+300-un(),10<y)){if(So(h,o,ai,!bo),fe(h,0,!0)!==0)break e;fs=o,h.timeoutHandle=fN(D2.bind(null,h,c,$r,Qm,lb,o,ai,Ll,eu,bo,x,"Throttled",-0,0),y);break e}D2(h,c,$r,Qm,lb,o,ai,Ll,eu,bo,x,null,-0,0)}}break}while(!0);Sa(a)}function D2(a,o,c,h,y,x,C,U,G,ae,pe,ye,se,de){if(a.timeoutHandle=-1,ye=o.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},j2(o,x,ye);var Pe=(x&62914560)===x?Wm-un():(x&4194048)===x?P2-un():0;if(Pe=HV(ye,Pe),Pe!==null){fs=x,a.cancelPendingCommit=Pe(F2.bind(null,a,o,x,c,h,y,C,U,G,pe,ye,null,se,de)),So(a,x,C,!ae);return}}F2(a,o,x,c,h,y,C,U,G)}function oV(a){for(var o=a;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var y=c[h],x=y.getSnapshot;y=y.value;try{if(!ei(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function So(a,o,c,h){o&=~ob,o&=~Ll,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var y=o;0<y;){var x=31-qt(y),C=1<<x;h[x]=-1,y&=~C}c!==0&&Ar(a,c,o)}function Zm(){return(pt&6)===0?(nf(0),!1):!0}function fb(){if(Je!==null){if(St===0)var a=Je.return;else a=Je,ts=jl=null,jy(a),Kc=null,zd=0,a=Je;for(;a!==null;)h2(a.alternate,a),a=a.return;Je=null}}function nu(a,o){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,NV(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),fs=0,fb(),kt=a,Je=c=Ja(a.current,null),nt=o,St=0,ii=null,bo=!1,Jc=Se(a,o),sb=!1,eu=ai=ob=Ll=xo=rn=0,$r=ef=null,lb=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var y=31-qt(h),x=1<<y;o|=a[y],h&=~x}return ds=o,bm(),c}function L2(a,o){We=null,K.H=Kd,o===Hc||o===Nm?(o=JA(),St=3):o===gy?(o=JA(),St=4):St=o===Fy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,Je===null&&(rn=1,Bm(a,xi(o,a.current)))}function z2(){var a=ni.current;return a===null?!0:(nt&4194048)===nt?Ei===null:(nt&62914560)===nt||(nt&536870912)!==0?a===Ei:!1}function V2(){var a=K.H;return K.H=Kd,a===null?Kd:a}function U2(){var a=K.A;return K.A=aV,a}function Jm(){rn=4,bo||(nt&4194048)!==nt&&ni.current!==null||(Jc=!0),(xo&134217727)===0&&(Ll&134217727)===0||kt===null||So(kt,nt,ai,!1)}function hb(a,o,c){var h=pt;pt|=2;var y=V2(),x=U2();(kt!==a||nt!==o)&&(Qm=null,nu(a,o)),o=!1;var C=rn;e:do try{if(St!==0&&Je!==null){var U=Je,G=ii;switch(St){case 8:fb(),C=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var ae=St;if(St=0,ii=null,ru(a,U,G,ae),c&&Jc){C=0;break e}break;default:ae=St,St=0,ii=null,ru(a,U,G,ae)}}lV(),C=rn;break}catch(pe){L2(a,pe)}while(!0);return o&&a.shellSuspendCounter++,ts=jl=null,pt=h,K.H=y,K.A=x,Je===null&&(kt=null,nt=0,bm()),C}function lV(){for(;Je!==null;)B2(Je)}function cV(a,o){var c=pt;pt|=2;var h=V2(),y=U2();kt!==a||nt!==o?(Qm=null,Xm=un()+500,nu(a,o)):Jc=Se(a,o);e:do try{if(St!==0&&Je!==null){o=Je;var x=ii;t:switch(St){case 1:St=0,ii=null,ru(a,o,x,1);break;case 2:case 9:if(QA(x)){St=0,ii=null,$2(o);break}o=function(){St!==2&&St!==9||kt!==a||(St=7),Sa(a)},x.then(o,o);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:QA(x)?(St=0,ii=null,$2(o)):(St=0,ii=null,ru(a,o,x,7));break;case 5:var C=null;switch(Je.tag){case 26:C=Je.memoizedState;case 5:case 27:var U=Je;if(C?NN(C):U.stateNode.complete){St=0,ii=null;var G=U.sibling;if(G!==null)Je=G;else{var ae=U.return;ae!==null?(Je=ae,ep(ae)):Je=null}break t}}St=0,ii=null,ru(a,o,x,5);break;case 6:St=0,ii=null,ru(a,o,x,6);break;case 8:fb(),rn=6;break e;default:throw Error(r(462))}}uV();break}catch(pe){L2(a,pe)}while(!0);return ts=jl=null,K.H=h,K.A=y,pt=c,Je!==null?0:(kt=null,nt=0,bm(),rn)}function uV(){for(;Je!==null&&!Ha();)B2(Je)}function B2(a){var o=d2(a.alternate,a,ds);a.memoizedProps=a.pendingProps,o===null?ep(a):Je=o}function $2(a){var o=a,c=o.alternate;switch(o.tag){case 15:case 0:o=a2(c,o,o.pendingProps,o.type,void 0,nt);break;case 11:o=a2(c,o,o.pendingProps,o.type.render,o.ref,nt);break;case 5:jy(o);default:h2(c,o),o=Je=UA(o,ds),o=d2(c,o,ds)}a.memoizedProps=a.pendingProps,o===null?ep(a):Je=o}function ru(a,o,c,h){ts=jl=null,jy(o),Kc=null,zd=0;var y=o.return;try{if(Zz(a,y,o,c,nt)){rn=1,Bm(a,xi(c,a.current)),Je=null;return}}catch(x){if(y!==null)throw Je=y,x;rn=1,Bm(a,xi(c,a.current)),Je=null;return}o.flags&32768?(ot||h===1?a=!0:Jc||(nt&536870912)!==0?a=!1:(bo=a=!0,(h===2||h===9||h===3||h===6)&&(h=ni.current,h!==null&&h.tag===13&&(h.flags|=16384))),q2(o,a)):ep(o)}function ep(a){var o=a;do{if((o.flags&32768)!==0){q2(o,bo);return}a=o.return;var c=tV(o.alternate,o,ds);if(c!==null){Je=c;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=a}while(o!==null);rn===0&&(rn=5)}function q2(a,o){do{var c=nV(a.alternate,a);if(c!==null){c.flags&=32767,Je=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(a=a.sibling,a!==null)){Je=a;return}Je=a=c}while(a!==null);rn=6,Je=null}function F2(a,o,c,h,y,x,C,U,G){a.cancelPendingCommit=null;do tp();while(Pn!==0);if((pt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=ty,dl(a,c,x,C,U,G),a===kt&&(Je=kt=null,nt=0),tu=o,wo=a,fs=c,cb=x,ub=y,R2=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,mV(Qr,function(){return W2(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,y=Z.p,Z.p=2,C=pt,pt|=4;try{rV(a,o,c)}finally{pt=C,Z.p=y,K.T=h}}Pn=1,H2(),K2(),G2()}}function H2(){if(Pn===1){Pn=0;var a=wo,o=tu,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=K.T,K.T=null;var h=Z.p;Z.p=2;var y=pt;pt|=4;try{A2(o,a);var x=Ab,C=IA(a.containerInfo),U=x.focusedElem,G=x.selectionRange;if(C!==U&&U&&U.ownerDocument&&OA(U.ownerDocument.documentElement,U)){if(G!==null&&X0(U)){var ae=G.start,pe=G.end;if(pe===void 0&&(pe=ae),"selectionStart"in U)U.selectionStart=ae,U.selectionEnd=Math.min(pe,U.value.length);else{var ye=U.ownerDocument||document,se=ye&&ye.defaultView||window;if(se.getSelection){var de=se.getSelection(),Pe=U.textContent.length,Le=Math.min(G.start,Pe),Ot=G.end===void 0?Le:Math.min(G.end,Pe);!de.extend&&Le>Ot&&(C=Ot,Ot=Le,Le=C);var J=CA(U,Le),W=CA(U,Ot);if(J&&W&&(de.rangeCount!==1||de.anchorNode!==J.node||de.anchorOffset!==J.offset||de.focusNode!==W.node||de.focusOffset!==W.offset)){var ie=ye.createRange();ie.setStart(J.node,J.offset),de.removeAllRanges(),Le>Ot?(de.addRange(ie),de.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),de.addRange(ie))}}}}for(ye=[],de=U;de=de.parentNode;)de.nodeType===1&&ye.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ye.length;U++){var ve=ye[U];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}hp=!!Eb,Ab=Eb=null}finally{pt=y,Z.p=h,K.T=c}}a.current=o,Pn=2}}function K2(){if(Pn===2){Pn=0;var a=wo,o=tu,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=K.T,K.T=null;var h=Z.p;Z.p=2;var y=pt;pt|=4;try{x2(a,o.alternate,o)}finally{pt=y,Z.p=h,K.T=c}}Pn=3}}function G2(){if(Pn===4||Pn===3){Pn=0,Xs();var a=wo,o=tu,c=fs,h=R2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pn=5:(Pn=0,tu=wo=null,Y2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(_o=null),Bi(c),o=o.stateNode,dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(er,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=K.T,y=Z.p,Z.p=2,K.T=null;try{for(var x=a.onRecoverableError,C=0;C<h.length;C++){var U=h[C];x(U.value,{componentStack:U.stack})}}finally{K.T=o,Z.p=y}}(fs&3)!==0&&tp(),Sa(a),y=a.pendingLanes,(c&261930)!==0&&(y&42)!==0?a===db?tf++:(tf=0,db=a):tf=0,nf(0)}}function Y2(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Dd(o)))}function tp(){return H2(),K2(),G2(),W2()}function W2(){if(Pn!==5)return!1;var a=wo,o=cb;cb=0;var c=Bi(fs),h=K.T,y=Z.p;try{Z.p=32>c?32:c,K.T=null,c=ub,ub=null;var x=wo,C=fs;if(Pn=0,tu=wo=null,fs=0,(pt&6)!==0)throw Error(r(331));var U=pt;if(pt|=4,O2(x.current),N2(x,x.current,C,c),pt=U,nf(0,!1),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(er,x)}catch{}return!0}finally{Z.p=y,K.T=h,Y2(a,o)}}function X2(a,o,c){o=xi(c,o),o=qy(a.stateNode,o,2),a=po(a,o,2),a!==null&&(tr(a,2),Sa(a))}function Et(a,o,c){if(a.tag===3)X2(a,a,c);else for(;o!==null;){if(o.tag===3){X2(o,a,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_o===null||!_o.has(h))){a=xi(c,a),c=QT(2),h=po(o,c,2),h!==null&&(ZT(c,h,o,a),tr(h,2),Sa(h));break}}o=o.return}}function mb(a,o,c){var h=a.pingCache;if(h===null){h=a.pingCache=new sV;var y=new Set;h.set(o,y)}else y=h.get(o),y===void 0&&(y=new Set,h.set(o,y));y.has(c)||(sb=!0,y.add(c),a=dV.bind(null,a,o,c),o.then(a,a))}function dV(a,o,c){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,kt===a&&(nt&c)===c&&(rn===4||rn===3&&(nt&62914560)===nt&&300>un()-Wm?(pt&2)===0&&nu(a,0):ob|=c,eu===nt&&(eu=0)),Sa(a)}function Q2(a,o){o===0&&(o=xt()),a=Al(a,o),a!==null&&(tr(a,o),Sa(a))}function fV(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),Q2(a,c)}function hV(a,o){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Q2(a,c)}function mV(a,o){return Rt(a,o)}var np=null,iu=null,pb=!1,rp=!1,gb=!1,Eo=0;function Sa(a){a!==iu&&a.next===null&&(iu===null?np=iu=a:iu=iu.next=a),rp=!0,pb||(pb=!0,gV())}function nf(a,o){if(!gb&&rp){gb=!0;do for(var c=!1,h=np;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var x=0;else{var C=h.suspendedLanes,U=h.pingedLanes;x=(1<<31-qt(42|a)+1)-1,x&=y&~(C&~U),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,tN(h,x))}else x=nt,x=fe(h,h===kt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Se(h,x)||(c=!0,tN(h,x));h=h.next}while(c);gb=!1}}function pV(){Z2()}function Z2(){rp=pb=!1;var a=0;Eo!==0&&TV()&&(a=Eo);for(var o=un(),c=null,h=np;h!==null;){var y=h.next,x=J2(h,o);x===0?(h.next=null,c===null?np=y:c.next=y,y===null&&(iu=c)):(c=h,(a!==0||(x&3)!==0)&&(rp=!0)),h=y}Pn!==0&&Pn!==5||nf(a),Eo!==0&&(Eo=0)}function J2(a,o){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var C=31-qt(x),U=1<<C,G=y[C];G===-1?((U&c)===0||(U&h)!==0)&&(y[C]=He(U,o)):G<=o&&(a.expiredLanes|=U),x&=~U}if(o=kt,c=nt,c=fe(a,a===o?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===o&&(St===2||St===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Er(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Se(a,c)){if(o=c&-c,o===a.callbackPriority)return o;switch(h!==null&&Er(h),Bi(c)){case 2:case 8:c=Ui;break;case 32:c=Qr;break;case 268435456:c=aa;break;default:c=Qr}return h=eN.bind(null,a),c=Rt(c,h),a.callbackPriority=o,a.callbackNode=c,o}return h!==null&&h!==null&&Er(h),a.callbackPriority=2,a.callbackNode=null,2}function eN(a,o){if(Pn!==0&&Pn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(tp()&&a.callbackNode!==c)return null;var h=nt;return h=fe(a,a===kt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(M2(a,h,o),J2(a,un()),a.callbackNode!=null&&a.callbackNode===c?eN.bind(null,a):null)}function tN(a,o){if(tp())return null;M2(a,o,!0)}function gV(){jV(function(){(pt&6)!==0?Rt(Vi,pV):Z2()})}function vb(){if(Eo===0){var a=qc;a===0&&(a=Dr,Dr<<=1,(Dr&261888)===0&&(Dr=256)),Eo=a}return Eo}function nN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:jc(""+a)}function rN(a,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,a.id&&c.setAttribute("form",a.id),o.parentNode.insertBefore(c,o),a=new FormData(a),c.parentNode.removeChild(c),a}function vV(a,o,c,h,y){if(o==="submit"&&c&&c.stateNode===y){var x=nN((y[qn]||null).action),C=h.submitter;C&&(o=(o=C[qn]||null)?nN(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var U=new ga("action","action",null,h,y);a.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Eo!==0){var G=C?rN(y,C):new FormData(y);Ly(c,{pending:!0,data:G,method:y.method,action:x},null,G)}}else typeof x=="function"&&(U.preventDefault(),G=C?rN(y,C):new FormData(y),Ly(c,{pending:!0,data:G,method:y.method,action:x},x,G))},currentTarget:y}]})}}for(var yb=0;yb<ey.length;yb++){var bb=ey[yb],yV=bb.toLowerCase(),bV=bb[0].toUpperCase()+bb.slice(1);Gi(yV,"on"+bV)}Gi(kA,"onAnimationEnd"),Gi(MA,"onAnimationIteration"),Gi(DA,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Mz,"onTransitionRun"),Gi(Dz,"onTransitionStart"),Gi(Lz,"onTransitionCancel"),Gi(LA,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),da("onBeforeInput",["compositionend","keypress","textInput","paste"]),da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rf));function iN(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var x=void 0;if(o)for(var C=h.length-1;0<=C;C--){var U=h[C],G=U.instance,ae=U.currentTarget;if(U=U.listener,G!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=ae;try{x(y)}catch(pe){ym(pe)}y.currentTarget=null,x=G}else for(C=0;C<h.length;C++){if(U=h[C],G=U.instance,ae=U.currentTarget,U=U.listener,G!==x&&y.isPropagationStopped())break e;x=U,y.currentTarget=ae;try{x(y)}catch(pe){ym(pe)}y.currentTarget=null,x=G}}}}function et(a,o){var c=o[Sc];c===void 0&&(c=o[Sc]=new Set);var h=a+"__bubble";c.has(h)||(aN(o,a,2,!1),c.add(h))}function xb(a,o,c){var h=0;o&&(h|=4),aN(c,a,h,o)}var ip="_reactListening"+Math.random().toString(36).slice(2);function _b(a){if(!a[ip]){a[ip]=!0,pd.forEach(function(c){c!=="selectionchange"&&(xV.has(c)||xb(c,!1,a),xb(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[ip]||(o[ip]=!0,xb("selectionchange",!1,o))}}function aN(a,o,c,h){switch(kN(o)){case 2:var y=YV;break;case 8:y=WV;break;default:y=Db}c=y.bind(null,o,c,a),y=void 0,!vl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(o,c,{capture:!0,passive:y}):a.addEventListener(o,c,!0):y!==void 0?a.addEventListener(o,c,{passive:y}):a.addEventListener(o,c,!1)}function wb(a,o,c,h,y){var x=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var U=h.stateNode.containerInfo;if(U===y)break;if(C===4)for(C=h.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;U!==null;){if(C=ca(U),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){h=x=C;continue e}U=U.parentNode}}h=h.return}io(function(){var ae=x,pe=gi(c),ye=[];e:{var se=zA.get(a);if(se!==void 0){var de=ga,Pe=a;switch(a){case"keypress":if(bl(c)===0)break e;case"keydown":case"keyup":de=pm;break;case"focusin":Pe="focus",de=_l;break;case"focusout":Pe="blur",de=_l;break;case"beforeblur":case"afterblur":de=_l;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=N;break;case kA:case MA:case DA:de=lm;break;case LA:de=F;break;case"scroll":case"scrollend":de=Nd;break;case"wheel":de=ue;break;case"copy":case"cut":case"paste":de=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Za;break;case"toggle":case"beforetoggle":de=Ye}var Le=(o&4)!==0,Ot=!Le&&(a==="scroll"||a==="scrollend"),J=Le?se!==null?se+"Capture":null:se;Le=[];for(var W=ae,ie;W!==null;){var ve=W;if(ie=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ie===null||J===null||(ve=qi(W,J),ve!=null&&Le.push(af(W,ve,ie))),Ot)break;W=W.return}0<Le.length&&(se=new de(se,Pe,null,c,pe),ye.push({event:se,listeners:Le}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",se&&c!==Ed&&(Pe=c.relatedTarget||c.fromElement)&&(ca(Pe)||Pe[oa]))break e;if((de||se)&&(se=pe.window===pe?pe:(se=pe.ownerDocument)?se.defaultView||se.parentWindow:window,de?(Pe=c.relatedTarget||c.toElement,de=ae,Pe=Pe?ca(Pe):null,Pe!==null&&(Ot=s(Pe),Le=Pe.tag,Pe!==Ot||Le!==5&&Le!==27&&Le!==6)&&(Pe=null)):(de=null,Pe=ae),de!==Pe)){if(Le=jd,ve="onMouseLeave",J="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(Le=Za,ve="onPointerLeave",J="onPointerEnter",W="pointer"),Ot=de==null?se:Zr(de),ie=Pe==null?se:Zr(Pe),se=new Le(ve,W+"leave",de,c,pe),se.target=Ot,se.relatedTarget=ie,ve=null,ca(pe)===ae&&(Le=new Le(J,W+"enter",Pe,c,pe),Le.target=ie,Le.relatedTarget=Ot,ve=Le),Ot=ve,de&&Pe)t:{for(Le=_V,J=de,W=Pe,ie=0,ve=J;ve;ve=Le(ve))ie++;ve=0;for(var Me=W;Me;Me=Le(Me))ve++;for(;0<ie-ve;)J=Le(J),ie--;for(;0<ve-ie;)W=Le(W),ve--;for(;ie--;){if(J===W||W!==null&&J===W.alternate){Le=J;break t}J=Le(J),W=Le(W)}Le=null}else Le=null;de!==null&&sN(ye,se,de,Le,!1),Pe!==null&&Ot!==null&&sN(ye,Ot,Pe,Le,!0)}}e:{if(se=ae?Zr(ae):window,de=se.nodeName&&se.nodeName.toLowerCase(),de==="select"||de==="input"&&se.type==="file")var dt=SA;else if(_A(se))if(EA)dt=Pz;else{dt=Oz;var ke=Cz}else de=se.nodeName,!de||de.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&Nc(ae.elementType)&&(dt=SA):dt=Iz;if(dt&&(dt=dt(a,ae))){wA(ye,dt,c,pe);break e}ke&&ke(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&_d(se,"number",se.value)}switch(ke=ae?Zr(ae):window,a){case"focusin":(_A(ke)||ke.contentEditable==="true")&&(Mc=ke,Q0=ae,Rd=null);break;case"focusout":Rd=Q0=Mc=null;break;case"mousedown":Z0=!0;break;case"contextmenu":case"mouseup":case"dragend":Z0=!1,PA(ye,c,pe);break;case"selectionchange":if(kz)break;case"keydown":case"keyup":PA(ye,c,pe)}var Xe;if(mt)e:{switch(a){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else kc?wl(a,c)&&(rt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(rt="onCompositionStart");rt&&(ba&&c.locale!=="ko"&&(kc||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&kc&&(Xe=Td()):(pa=pe,Ad="value"in pa?pa.value:pa.textContent,kc=!0)),ke=ap(ae,rt),0<ke.length&&(rt=new ya(rt,a,null,c,pe),ye.push({event:rt,listeners:ke}),Xe?rt.data=Xe:(Xe=Rc(c),Xe!==null&&(rt.data=Xe)))),(Xe=yi?Az(a,c):Tz(a,c))&&(rt=ap(ae,"onBeforeInput"),0<rt.length&&(ke=new ya("onBeforeInput","beforeinput",null,c,pe),ye.push({event:ke,listeners:rt}),ke.data=Xe)),vV(ye,a,ae,c,pe)}iN(ye,o)})}function af(a,o,c){return{instance:a,listener:o,currentTarget:c}}function ap(a,o){for(var c=o+"Capture",h=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=qi(a,c),y!=null&&h.unshift(af(a,y,x)),y=qi(a,o),y!=null&&h.push(af(a,y,x))),a.tag===3)return h;a=a.return}return[]}function _V(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function sN(a,o,c,h,y){for(var x=o._reactName,C=[];c!==null&&c!==h;){var U=c,G=U.alternate,ae=U.stateNode;if(U=U.tag,G!==null&&G===h)break;U!==5&&U!==26&&U!==27||ae===null||(G=ae,y?(ae=qi(c,x),ae!=null&&C.unshift(af(c,ae,G))):y||(ae=qi(c,x),ae!=null&&C.push(af(c,ae,G)))),c=c.return}C.length!==0&&a.push({event:o,listeners:C})}var wV=/\r\n?/g,SV=/\u0000|\uFFFD/g;function oN(a){return(typeof a=="string"?a:""+a).replace(wV,`
`).replace(SV,"")}function lN(a,o){return o=oN(o),oN(a)===o}function Ct(a,o,c,h,y,x){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||zr(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&zr(a,""+h);break;case"className":Jr(a,"class",h);break;case"tabIndex":Jr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,c,h);break;case"style":Sd(a,h,x);break;case"data":if(o!=="object"){Jr(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=jc(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Ct(a,o,"name",y.name,y,null),Ct(a,o,"formEncType",y.formEncType,y,null),Ct(a,o,"formMethod",y.formMethod,y,null),Ct(a,o,"formTarget",y.formTarget,y,null)):(Ct(a,o,"encType",y.encType,y,null),Ct(a,o,"method",y.method,y,null),Ct(a,o,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=jc(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=$i);break;case"onScroll":h!=null&&et("scroll",a);break;case"onScrollEnd":h!=null&&et("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=jc(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":et("beforetoggle",a),et("toggle",a),Ac(a,"popover",h);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ac(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=am.get(c)||c,Ac(a,c,h))}}function Sb(a,o,c,h,y,x){switch(c){case"style":Sd(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?zr(a,h):(typeof h=="number"||typeof h=="bigint")&&zr(a,""+h);break;case"onScroll":h!=null&&et("scroll",a);break;case"onScrollEnd":h!=null&&et("scrollend",a);break;case"onClick":h!=null&&(a.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gd.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=a[qn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(o,x,y),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(o,h,y);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):Ac(a,c,h)}}}function sr(a,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",a),et("load",a);var h=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var C=c[x];if(C!=null)switch(x){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(a,o,x,C,c,null)}}y&&Ct(a,o,"srcSet",c.srcSet,c,null),h&&Ct(a,o,"src",c.src,c,null);return;case"input":et("invalid",a);var U=x=C=y=null,G=null,ae=null;for(h in c)if(c.hasOwnProperty(h)){var pe=c[h];if(pe!=null)switch(h){case"name":y=pe;break;case"type":C=pe;break;case"checked":G=pe;break;case"defaultChecked":ae=pe;break;case"value":x=pe;break;case"defaultValue":U=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:Ct(a,o,h,pe,c,null)}}nm(a,x,U,G,ae,C,y,!1);return;case"select":et("invalid",a),h=C=x=null;for(y in c)if(c.hasOwnProperty(y)&&(U=c[y],U!=null))switch(y){case"value":x=U;break;case"defaultValue":C=U;break;case"multiple":h=U;default:Ct(a,o,y,U,c,null)}o=x,c=C,a.multiple=!!h,o!=null?eo(a,!!h,o,!1):c!=null&&eo(a,!!h,c,!0);return;case"textarea":et("invalid",a),x=y=h=null;for(C in c)if(c.hasOwnProperty(C)&&(U=c[C],U!=null))switch(C){case"value":h=U;break;case"defaultValue":y=U;break;case"children":x=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Ct(a,o,C,U,c,null)}to(a,h,y,x);return;case"option":for(G in c)c.hasOwnProperty(G)&&(h=c[G],h!=null)&&(G==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":Ct(a,o,G,h,c,null));return;case"dialog":et("beforetoggle",a),et("toggle",a),et("cancel",a),et("close",a);break;case"iframe":case"object":et("load",a);break;case"video":case"audio":for(h=0;h<rf.length;h++)et(rf[h],a);break;case"image":et("error",a),et("load",a);break;case"details":et("toggle",a);break;case"embed":case"source":case"link":et("error",a),et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in c)if(c.hasOwnProperty(ae)&&(h=c[ae],h!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ct(a,o,ae,h,c,null)}return;default:if(Nc(o)){for(pe in c)c.hasOwnProperty(pe)&&(h=c[pe],h!==void 0&&Sb(a,o,pe,h,c,void 0));return}}for(U in c)c.hasOwnProperty(U)&&(h=c[U],h!=null&&Ct(a,o,U,h,c,null))}function EV(a,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,C=null,U=null,G=null,ae=null,pe=null;for(de in c){var ye=c[de];if(c.hasOwnProperty(de)&&ye!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":G=ye;default:h.hasOwnProperty(de)||Ct(a,o,de,null,h,ye)}}for(var se in h){var de=h[se];if(ye=c[se],h.hasOwnProperty(se)&&(de!=null||ye!=null))switch(se){case"type":x=de;break;case"name":y=de;break;case"checked":ae=de;break;case"defaultChecked":pe=de;break;case"value":C=de;break;case"defaultValue":U=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:de!==ye&&Ct(a,o,se,de,h,ye)}}Tc(a,C,U,G,ae,pe,x,y);return;case"select":de=C=U=se=null;for(x in c)if(G=c[x],c.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":de=G;default:h.hasOwnProperty(x)||Ct(a,o,x,null,h,G)}for(y in h)if(x=h[y],G=c[y],h.hasOwnProperty(y)&&(x!=null||G!=null))switch(y){case"value":se=x;break;case"defaultValue":U=x;break;case"multiple":C=x;default:x!==G&&Ct(a,o,y,x,h,G)}o=U,c=C,h=de,se!=null?eo(a,!!c,se,!1):!!h!=!!c&&(o!=null?eo(a,!!c,o,!0):eo(a,!!c,c?[]:"",!1));return;case"textarea":de=se=null;for(U in c)if(y=c[U],c.hasOwnProperty(U)&&y!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Ct(a,o,U,null,h,y)}for(C in h)if(y=h[C],x=c[C],h.hasOwnProperty(C)&&(y!=null||x!=null))switch(C){case"value":se=y;break;case"defaultValue":de=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Ct(a,o,C,y,h,x)}rm(a,se,de);return;case"option":for(var Pe in c)se=c[Pe],c.hasOwnProperty(Pe)&&se!=null&&!h.hasOwnProperty(Pe)&&(Pe==="selected"?a.selected=!1:Ct(a,o,Pe,null,h,se));for(G in h)se=h[G],de=c[G],h.hasOwnProperty(G)&&se!==de&&(se!=null||de!=null)&&(G==="selected"?a.selected=se&&typeof se!="function"&&typeof se!="symbol":Ct(a,o,G,se,h,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in c)se=c[Le],c.hasOwnProperty(Le)&&se!=null&&!h.hasOwnProperty(Le)&&Ct(a,o,Le,null,h,se);for(ae in h)if(se=h[ae],de=c[ae],h.hasOwnProperty(ae)&&se!==de&&(se!=null||de!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Ct(a,o,ae,se,h,de)}return;default:if(Nc(o)){for(var Ot in c)se=c[Ot],c.hasOwnProperty(Ot)&&se!==void 0&&!h.hasOwnProperty(Ot)&&Sb(a,o,Ot,void 0,h,se);for(pe in h)se=h[pe],de=c[pe],!h.hasOwnProperty(pe)||se===de||se===void 0&&de===void 0||Sb(a,o,pe,se,h,de);return}}for(var J in c)se=c[J],c.hasOwnProperty(J)&&se!=null&&!h.hasOwnProperty(J)&&Ct(a,o,J,null,h,se);for(ye in h)se=h[ye],de=c[ye],!h.hasOwnProperty(ye)||se===de||se==null&&de==null||Ct(a,o,ye,se,h,de)}function cN(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AV(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var y=c[h],x=y.transferSize,C=y.initiatorType,U=y.duration;if(x&&U&&cN(C)){for(C=0,U=y.responseEnd,h+=1;h<c.length;h++){var G=c[h],ae=G.startTime;if(ae>U)break;var pe=G.transferSize,ye=G.initiatorType;pe&&cN(ye)&&(G=G.responseEnd,C+=pe*(G<U?1:(U-ae)/(G-ae)))}if(--h,o+=8*(x+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Eb=null,Ab=null;function sp(a){return a.nodeType===9?a:a.ownerDocument}function uN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dN(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function Tb(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Nb=null;function TV(){var a=window.event;return a&&a.type==="popstate"?a===Nb?!1:(Nb=a,!0):(Nb=null,!1)}var fN=typeof setTimeout=="function"?setTimeout:void 0,NV=typeof clearTimeout=="function"?clearTimeout:void 0,hN=typeof Promise=="function"?Promise:void 0,jV=typeof queueMicrotask=="function"?queueMicrotask:typeof hN<"u"?function(a){return hN.resolve(null).then(a).catch(CV)}:fN;function CV(a){setTimeout(function(){throw a})}function Ao(a){return a==="head"}function mN(a,o){var c=o,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(y),lu(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")sf(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,sf(c);for(var x=c.firstChild;x;){var C=x.nextSibling,U=x.nodeName;x[la]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=C}}else c==="body"&&sf(a.ownerDocument.body);c=y}while(c);lu(o)}function pN(a,o){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function jb(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":jb(c),Ec(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function OV(a,o,c,h){for(;a.nodeType===1;){var y=c;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[la])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ai(a.nextSibling),a===null)break}return null}function IV(a,o,c){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ai(a.nextSibling),a===null))return null;return a}function gN(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Ai(a.nextSibling),a===null))return null;return a}function Cb(a){return a.data==="$?"||a.data==="$~"}function Ob(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function PV(a,o){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ai(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Ib=null;function vN(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(o===0)return Ai(a.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}a=a.nextSibling}return null}function yN(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return a;o--}else c!=="/$"&&c!=="/&"||o++}a=a.previousSibling}return null}function bN(a,o,c){switch(o=sp(c),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function sf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Ec(a)}var Ti=new Map,xN=new Set;function op(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var hs=Z.d;Z.d={f:RV,r:kV,D:MV,C:DV,L:LV,m:zV,X:UV,S:VV,M:BV};function RV(){var a=hs.f(),o=Zm();return a||o}function kV(a){var o=pi(a);o!==null&&o.tag===5&&o.type==="form"?LT(o):hs.r(a)}var au=typeof document>"u"?null:document;function _N(a,o,c){var h=au;if(h&&typeof o=="string"&&o){var y=Lr(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),xN.has(y)||(xN.add(y),a={rel:a,crossOrigin:c,href:o},h.querySelector(y)===null&&(o=h.createElement("link"),sr(o,"link",a),xn(o),h.head.appendChild(o)))}}function MV(a){hs.D(a),_N("dns-prefetch",a,null)}function DV(a,o){hs.C(a,o),_N("preconnect",a,o)}function LV(a,o,c){hs.L(a,o,c);var h=au;if(h&&a&&o){var y='link[rel="preload"][as="'+Lr(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Lr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Lr(c.imageSizes)+'"]')):y+='[href="'+Lr(a)+'"]';var x=y;switch(o){case"style":x=su(a);break;case"script":x=ou(a)}Ti.has(x)||(a=g({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:a,as:o},c),Ti.set(x,a),h.querySelector(y)!==null||o==="style"&&h.querySelector(of(x))||o==="script"&&h.querySelector(lf(x))||(o=h.createElement("link"),sr(o,"link",a),xn(o),h.head.appendChild(o)))}}function zV(a,o){hs.m(a,o);var c=au;if(c&&a){var h=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(a)+'"]',x=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ou(a)}if(!Ti.has(x)&&(a=g({rel:"modulepreload",href:a},o),Ti.set(x,a),c.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(lf(x)))return}h=c.createElement("link"),sr(h,"link",a),xn(h),c.head.appendChild(h)}}}function VV(a,o,c){hs.S(a,o,c);var h=au;if(h&&a){var y=ua(h).hoistableStyles,x=su(a);o=o||"default";var C=y.get(x);if(!C){var U={loading:0,preload:null};if(C=h.querySelector(of(x)))U.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":o},c),(c=Ti.get(x))&&Pb(a,c);var G=C=h.createElement("link");xn(G),sr(G,"link",a),G._p=new Promise(function(ae,pe){G.onload=ae,G.onerror=pe}),G.addEventListener("load",function(){U.loading|=1}),G.addEventListener("error",function(){U.loading|=2}),U.loading|=4,lp(C,o,h)}C={type:"stylesheet",instance:C,count:1,state:U},y.set(x,C)}}}function UV(a,o){hs.X(a,o);var c=au;if(c&&a){var h=ua(c).hoistableScripts,y=ou(a),x=h.get(y);x||(x=c.querySelector(lf(y)),x||(a=g({src:a,async:!0},o),(o=Ti.get(y))&&Rb(a,o),x=c.createElement("script"),xn(x),sr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function BV(a,o){hs.M(a,o);var c=au;if(c&&a){var h=ua(c).hoistableScripts,y=ou(a),x=h.get(y);x||(x=c.querySelector(lf(y)),x||(a=g({src:a,async:!0,type:"module"},o),(o=Ti.get(y))&&Rb(a,o),x=c.createElement("script"),xn(x),sr(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(y,x))}}function wN(a,o,c,h){var y=(y=oe.current)?op(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=su(c.href),c=ua(y).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=su(c.href);var x=ua(y).hoistableStyles,C=x.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,C),(x=y.querySelector(of(a)))&&!x._p&&(C.instance=x,C.state.loading=5),Ti.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ti.set(a,c),x||$V(y,a,c,C.state))),o&&h===null)throw Error(r(528,""));return C}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ou(c),c=ua(y).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function su(a){return'href="'+Lr(a)+'"'}function of(a){return'link[rel="stylesheet"]['+a+"]"}function SN(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function $V(a,o,c,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),sr(o,"link",c),xn(o),a.head.appendChild(o))}function ou(a){return'[src="'+Lr(a)+'"]'}function lf(a){return"script[async]"+a}function EN(a,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+Lr(c.href)+'"]');if(h)return o.instance=h,xn(h),h;var y=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),xn(h),sr(h,"style",y),lp(h,c.precedence,a),o.instance=h;case"stylesheet":y=su(c.href);var x=a.querySelector(of(y));if(x)return o.state.loading|=4,o.instance=x,xn(x),x;h=SN(c),(y=Ti.get(y))&&Pb(h,y),x=(a.ownerDocument||a).createElement("link"),xn(x);var C=x;return C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),sr(x,"link",h),o.state.loading|=4,lp(x,c.precedence,a),o.instance=x;case"script":return x=ou(c.src),(y=a.querySelector(lf(x)))?(o.instance=y,xn(y),y):(h=c,(y=Ti.get(x))&&(h=g({},c),Rb(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),xn(y),sr(y,"link",h),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,lp(h,c.precedence,a));return o.instance}function lp(a,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,x=y,C=0;C<h.length;C++){var U=h[C];if(U.dataset.precedence===o)x=U;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(a,o.firstChild))}function Pb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function Rb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var cp=null;function AN(a,o,c){if(cp===null){var h=new Map,y=cp=new Map;y.set(c,h)}else y=cp,h=y.get(c),h||(h=new Map,y.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),y=0;y<c.length;y++){var x=c[y];if(!(x[la]||x[bn]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=a+C;var U=h.get(C);U?U.push(x):h.set(C,[x])}}return h}function TN(a,o,c){a=a.ownerDocument||a,a.head.insertBefore(c,o==="title"?a.querySelector("head > title"):null)}function qV(a,o,c){if(c===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(a=o.disabled,typeof o.precedence=="string"&&a==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function NN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function FV(a,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var y=su(h.href),x=o.querySelector(of(y));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=up.bind(a),o.then(a,a)),c.state.loading|=4,c.instance=x,xn(x);return}x=o.ownerDocument||o,h=SN(h),(y=Ti.get(y))&&Pb(h,y),x=x.createElement("link"),xn(x);var C=x;C._p=new Promise(function(U,G){C.onload=U,C.onerror=G}),sr(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=up.bind(a),o.addEventListener("load",c),o.addEventListener("error",c))}}var kb=0;function HV(a,o){return a.stylesheets&&a.count===0&&fp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&fp(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+o);0<a.imgBytes&&kb===0&&(kb=62500*AV());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&fp(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>kb?50:800)+o);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function up(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var dp=null;function fp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,dp=new Map,o.forEach(KV,a),dp=null,up.call(a))}function KV(a,o){if(!(o.state.loading&4)){var c=dp.get(a);if(c)var h=c.get(null);else{c=new Map,dp.set(a,c);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var C=y[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(c.set(C.dataset.precedence,C),h=C)}h&&c.set(null,h)}y=o.instance,C=y.getAttribute("data-precedence"),x=c.get(C)||h,x===h&&c.set(null,y),c.set(C,y),this.count++,h=up.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var cf={$$typeof:k,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function GV(a,o,c,h,y,x,C,U,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tt(0),this.hiddenUpdates=Tt(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function jN(a,o,c,h,y,x,C,U,G,ae,pe,ye){return a=new GV(a,o,c,C,G,ae,pe,ye,U),o=1,x===!0&&(o|=24),x=ti(3,null,null,o),a.current=x,x.stateNode=a,o=hy(),o.refCount++,a.pooledCache=o,o.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:o},vy(x),a}function CN(a){return a?(a=zc,a):zc}function ON(a,o,c,h,y,x){y=CN(y),h.context===null?h.context=y:h.pendingContext=y,h=mo(o),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=po(a,h,o),c!==null&&(qr(c,a,o),Ud(c,a,o))}function IN(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Mb(a,o){IN(a,o),(a=a.alternate)&&IN(a,o)}function PN(a){if(a.tag===13||a.tag===31){var o=Al(a,67108864);o!==null&&qr(o,a,67108864),Mb(a,67108864)}}function RN(a){if(a.tag===13||a.tag===31){var o=si();o=Wa(o);var c=Al(a,o);c!==null&&qr(c,a,o),Mb(a,o)}}var hp=!0;function YV(a,o,c,h){var y=K.T;K.T=null;var x=Z.p;try{Z.p=2,Db(a,o,c,h)}finally{Z.p=x,K.T=y}}function WV(a,o,c,h){var y=K.T;K.T=null;var x=Z.p;try{Z.p=8,Db(a,o,c,h)}finally{Z.p=x,K.T=y}}function Db(a,o,c,h){if(hp){var y=Lb(h);if(y===null)wb(a,o,h,mp,c),MN(a,h);else if(QV(y,a,o,c,h))h.stopPropagation();else if(MN(a,h),o&4&&-1<XV.indexOf(a)){for(;y!==null;){var x=pi(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=H(x.pendingLanes);if(C!==0){var U=x;for(U.pendingLanes|=2,U.entangledLanes|=2;C;){var G=1<<31-qt(C);U.entanglements[1]|=G,C&=~G}Sa(x),(pt&6)===0&&(Xm=un()+500,nf(0))}}break;case 31:case 13:U=Al(x,2),U!==null&&qr(U,x,2),Zm(),Mb(x,2)}if(x=Lb(h),x===null&&wb(a,o,h,mp,c),x===y)break;y=x}y!==null&&h.stopPropagation()}else wb(a,o,h,null,c)}}function Lb(a){return a=gi(a),zb(a)}var mp=null;function zb(a){if(mp=null,a=ca(a),a!==null){var o=s(a);if(o===null)a=null;else{var c=o.tag;if(c===13){if(a=l(o),a!==null)return a;a=null}else if(c===31){if(a=u(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return mp=a,null}function kN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case Vi:return 2;case Ui:return 8;case Qr:case Ka:return 32;case aa:return 268435456;default:return 32}default:return 32}}var Vb=!1,To=null,No=null,jo=null,uf=new Map,df=new Map,Co=[],XV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MN(a,o){switch(a){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":uf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":df.delete(o.pointerId)}}function ff(a,o,c,h,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[y]},o!==null&&(o=pi(o),o!==null&&PN(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function QV(a,o,c,h,y){switch(o){case"focusin":return To=ff(To,a,o,c,h,y),!0;case"dragenter":return No=ff(No,a,o,c,h,y),!0;case"mouseover":return jo=ff(jo,a,o,c,h,y),!0;case"pointerover":var x=y.pointerId;return uf.set(x,ff(uf.get(x)||null,a,o,c,h,y)),!0;case"gotpointercapture":return x=y.pointerId,df.set(x,ff(df.get(x)||null,a,o,c,h,y)),!0}return!1}function DN(a){var o=ca(a.target);if(o!==null){var c=s(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){a.blockedOn=o,_t(a.priority,function(){RN(c)});return}}else if(o===31){if(o=u(c),o!==null){a.blockedOn=o,_t(a.priority,function(){RN(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function pp(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=Lb(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Ed=h,c.target.dispatchEvent(h),Ed=null}else return o=pi(c),o!==null&&PN(o),a.blockedOn=c,!1;o.shift()}return!0}function LN(a,o,c){pp(a)&&c.delete(o)}function ZV(){Vb=!1,To!==null&&pp(To)&&(To=null),No!==null&&pp(No)&&(No=null),jo!==null&&pp(jo)&&(jo=null),uf.forEach(LN),df.forEach(LN)}function gp(a,o){a.blockedOn===o&&(a.blockedOn=null,Vb||(Vb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZV)))}var vp=null;function zN(a){vp!==a&&(vp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vp===a&&(vp=null);for(var o=0;o<a.length;o+=3){var c=a[o],h=a[o+1],y=a[o+2];if(typeof h!="function"){if(zb(h||c)===null)continue;break}var x=pi(c);x!==null&&(a.splice(o,3),o-=3,Ly(x,{pending:!0,data:y,method:c.method,action:h},h,y))}}))}function lu(a){function o(G){return gp(G,a)}To!==null&&gp(To,a),No!==null&&gp(No,a),jo!==null&&gp(jo,a),uf.forEach(o),df.forEach(o);for(var c=0;c<Co.length;c++){var h=Co[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Co.length&&(c=Co[0],c.blockedOn===null);)DN(c),c.blockedOn===null&&Co.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var y=c[h],x=c[h+1],C=y[qn]||null;if(typeof x=="function")C||zN(c);else if(C){var U=null;if(x&&x.hasAttribute("formAction")){if(y=x,C=x[qn]||null)U=C.formAction;else if(zb(y)!==null)continue}else U=C.action;typeof U=="function"?c[h+1]=U:(c.splice(h,3),h-=3),zN(c)}}}function VN(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function Ub(a){this._internalRoot=a}yp.prototype.render=Ub.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=si();ON(c,h,a,o,null,null)},yp.prototype.unmount=Ub.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;ON(a.current,2,null,a,null,null),Zm(),o[oa]=null}};function yp(a){this._internalRoot=a}yp.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ze();a={blockedOn:null,target:a,priority:o};for(var c=0;c<Co.length&&o!==0&&o<Co[c].priority;c++);Co.splice(c,0,a),c===0&&DN(a)}};var UN=e.version;if(UN!=="19.2.3")throw Error(r(527,UN,"19.2.3"));Z.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=m(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var JV={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bp.isDisabled&&bp.supportsFiber)try{er=bp.inject(JV),dn=bp}catch{}}return mf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var c=!1,h="",y=GT,x=YT,C=WT;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),o=jN(a,1,!1,null,null,c,h,null,y,x,C,VN),a[oa]=o.current,_b(a),new Ub(o)},mf.hydrateRoot=function(a,o,c){if(!i(a))throw Error(r(299));var h=!1,y="",x=GT,C=YT,U=WT,G=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.formState!==void 0&&(G=c.formState)),o=jN(a,1,!0,o,c??null,h,y,G,x,C,U,VN),o.context=CN(null),c=o.current,h=si(),h=Wa(h),y=mo(h),y.callback=null,po(c,y,h),c=h,o.current.lanes=c,tr(o,c),Sa(o),a[oa]=o.current,_b(a),new yp(o)},mf.version="19.2.3",mf}var XN;function u9(){if(XN)return qb.exports;XN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qb.exports=c9(),qb.exports}var d9=u9();const f9=()=>{};var QN={};const Nk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},h9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],u=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},jk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,m=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let b=(u&15)<<2|m>>6,w=m&63;d||(w=64,l||(b=64)),r.push(n[p],n[g],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||m==null||g==null)throw new m9;const b=s<<2|u>>4;if(r.push(b),m!==64){const w=u<<4&240|m>>2;if(r.push(w),g!==64){const T=m<<6&192|g;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p9=function(t){const e=Nk(t);return jk.encodeByteArray(e,!0)},sg=function(t){return p9(t).replace(/\./g,"")},Ck=function(t){try{return jk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const v9=()=>g9().__FIREBASE_DEFAULTS__,y9=()=>{if(typeof process>"u"||typeof QN>"u")return;const t=QN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},Ev=()=>{try{return f9()||v9()||y9()||b9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ok=t=>Ev()?.emulatorHosts?.[t],x9=t=>{const e=Ok(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ik=()=>Ev()?.config,Pk=t=>Ev()?.[`_${t}`];class _9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Wu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rk(t){return(await fetch(t,{credentials:"include"})).ok}function w9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sg(JSON.stringify(n)),sg(JSON.stringify(l)),""].join(".")}const Cf={};function S9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cf))Cf[e]?t.emulator.push(e):t.prod.push(e);return t}function E9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ZN=!1;function kk(t,e){if(typeof window>"u"||typeof document>"u"||!Wu(window.location.host)||Cf[t]===e||Cf[t]||ZN)return;Cf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=S9().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,w){b.setAttribute("width","24"),b.setAttribute("id",w),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{ZN=!0,l()},b}function p(b,w){b.setAttribute("id",w),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=E9(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),L=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const k=b.element;u(k),p(A,S);const B=m();d(L,I),k.append(L,T,A,B),document.body.appendChild(k)}s?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function T9(){const t=Ev()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O9(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I9(){return!T9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P9(){try{return typeof indexedDB=="object"}catch{return!1}}function R9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const k9="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k9,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?M9(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Us(i,u,r)}}function M9(t,e){return t.replace(D9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D9=/\{\$([^}]+)}/g;function L9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(JN(s)&&JN(l)){if(!nc(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JN(t){return t!==null&&typeof t=="object"}function uh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z9(t,e){const n=new V9(t,e);return n.subscribe.bind(n)}class V9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gb),i.error===void 0&&(i.error=Gb),i.complete===void 0&&(i.complete=Gb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gb(){}function Dn(t){return t&&t._delegate?t._delegate:t}class rc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zl="[DEFAULT]";let B9=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q9(e))try{this.getOrInitializeService({instanceIdentifier:zl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zl){return this.instances.has(e)}getOptions(e=zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zl){return this.component?this.component.multipleInstances?e:zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $9(t){return t===zl?void 0:t}function q9(t){return t.instantiationMode==="EAGER"}class F9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const H9={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},K9=it.INFO,G9={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},Y9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=G9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gw{constructor(e){this.name=e,this._logLevel=K9,this._logHandler=Y9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const W9=(t,e)=>e.some(n=>t instanceof n);let ej,tj;function X9(){return ej||(ej=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q9(){return tj||(tj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mk=new WeakMap,$1=new WeakMap,Dk=new WeakMap,Yb=new WeakMap,vw=new WeakMap;function Z9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n($o(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Mk.set(n,t)}).catch(()=>{}),vw.set(e,t),e}function J9(t){if($1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});$1.set(t,e)}let q1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function e8(t){q1=t(q1)}function t8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wb(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),$o(r)}:Q9().includes(t)?function(...e){return t.apply(Wb(this),e),$o(Mk.get(this))}:function(...e){return $o(t.apply(Wb(this),e))}}function n8(t){return typeof t=="function"?t8(t):(t instanceof IDBTransaction&&J9(t),W9(t,X9())?new Proxy(t,q1):t)}function $o(t){if(t instanceof IDBRequest)return Z9(t);if(Yb.has(t))return Yb.get(t);const e=n8(t);return e!==t&&(Yb.set(t,e),vw.set(e,t)),e}const Wb=t=>vw.get(t);function r8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=$o(l);return r&&l.addEventListener("upgradeneeded",d=>{r($o(l.result),d.oldVersion,d.newVersion,$o(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const i8=["get","getKey","getAll","getAllKeys","count"],a8=["put","add","delete","clear"],Xb=new Map;function nj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xb.get(e))return Xb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=a8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||i8.includes(n)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&d.done]))[0]};return Xb.set(e,s),s}e8(t=>({...t,get:(e,n,r)=>nj(e,n)||t.get(e,n,r),has:(e,n)=>!!nj(e,n)||t.has(e,n)}));class s8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o8(t){return t.getComponent()?.type==="VERSION"}const F1="@firebase/app",rj="0.14.6";const As=new gw("@firebase/app"),l8="@firebase/app-compat",c8="@firebase/analytics-compat",u8="@firebase/analytics",d8="@firebase/app-check-compat",f8="@firebase/app-check",h8="@firebase/auth",m8="@firebase/auth-compat",p8="@firebase/database",g8="@firebase/data-connect",v8="@firebase/database-compat",y8="@firebase/functions",b8="@firebase/functions-compat",x8="@firebase/installations",_8="@firebase/installations-compat",w8="@firebase/messaging",S8="@firebase/messaging-compat",E8="@firebase/performance",A8="@firebase/performance-compat",T8="@firebase/remote-config",N8="@firebase/remote-config-compat",j8="@firebase/storage",C8="@firebase/storage-compat",O8="@firebase/firestore",I8="@firebase/ai",P8="@firebase/firestore-compat",R8="firebase",k8="12.6.0";const H1="[DEFAULT]",M8={[F1]:"fire-core",[l8]:"fire-core-compat",[u8]:"fire-analytics",[c8]:"fire-analytics-compat",[f8]:"fire-app-check",[d8]:"fire-app-check-compat",[h8]:"fire-auth",[m8]:"fire-auth-compat",[p8]:"fire-rtdb",[g8]:"fire-data-connect",[v8]:"fire-rtdb-compat",[y8]:"fire-fn",[b8]:"fire-fn-compat",[x8]:"fire-iid",[_8]:"fire-iid-compat",[w8]:"fire-fcm",[S8]:"fire-fcm-compat",[E8]:"fire-perf",[A8]:"fire-perf-compat",[T8]:"fire-rc",[N8]:"fire-rc-compat",[j8]:"fire-gcs",[C8]:"fire-gcs-compat",[O8]:"fire-fst",[P8]:"fire-fst-compat",[I8]:"fire-vertex","fire-js":"fire-js",[R8]:"fire-js-all"};const og=new Map,D8=new Map,K1=new Map;function ij(t,e){try{t.container.addComponent(e)}catch(n){As.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ou(t){const e=t.name;if(K1.has(e))return As.debug(`There were multiple attempts to register component ${e}.`),!1;K1.set(e,t);for(const n of og.values())ij(n,t);for(const n of D8.values())ij(n,t);return!0}function yw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ii(t){return t==null?!1:t.settings!==void 0}const L8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new ch("app","Firebase",L8);class z8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}const Xu=k8;function Lk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:H1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qo.create("bad-app-name",{appName:String(i)});if(n||(n=Ik()),!n)throw qo.create("no-options");const s=og.get(i);if(s){if(nc(n,s.options)&&nc(r,s.config))return s;throw qo.create("duplicate-app",{appName:i})}const l=new F9(i);for(const d of K1.values())l.addComponent(d);const u=new z8(n,r,l);return og.set(i,u),u}function zk(t=H1){const e=og.get(t);if(!e&&t===H1&&Ik())return Lk();if(!e)throw qo.create("no-app",{appName:t});return e}function Fo(t,e,n){let r=M8[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),As.warn(l.join(" "));return}Ou(new rc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const V8="firebase-heartbeat-database",U8=1,Lf="firebase-heartbeat-store";let Qb=null;function Vk(){return Qb||(Qb=r8(V8,U8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lf)}catch(n){console.warn(n)}}}}).catch(t=>{throw qo.create("idb-open",{originalErrorMessage:t.message})})),Qb}async function B8(t){try{const n=(await Vk()).transaction(Lf),r=await n.objectStore(Lf).get(Uk(t));return await n.done,r}catch(e){if(e instanceof Us)As.warn(e.message);else{const n=qo.create("idb-get",{originalErrorMessage:e?.message});As.warn(n.message)}}}async function aj(t,e){try{const r=(await Vk()).transaction(Lf,"readwrite");await r.objectStore(Lf).put(e,Uk(t)),await r.done}catch(n){if(n instanceof Us)As.warn(n.message);else{const r=qo.create("idb-set",{originalErrorMessage:n?.message});As.warn(r.message)}}}function Uk(t){return`${t.name}!${t.options.appId}`}const $8=1024,q8=30;class F8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>q8){const i=G8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){As.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sj(),{heartbeatsToSend:n,unsentEntries:r}=H8(this._heartbeatsCache.heartbeats),i=sg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return As.warn(e),""}}}function sj(){return new Date().toISOString().substring(0,10)}function H8(t,e=$8){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),oj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P9()?R9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return aj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oj(t){return sg(JSON.stringify({version:2,heartbeats:t})).length}function G8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Y8(t){Ou(new rc("platform-logger",e=>new s8(e),"PRIVATE")),Ou(new rc("heartbeat",e=>new F8(e),"PRIVATE")),Fo(F1,rj,t),Fo(F1,rj,"esm2020"),Fo("fire-js","")}Y8("");var W8="firebase",X8="12.7.0";Fo(W8,X8,"app");function Bk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q8=Bk,$k=new ch("auth","Firebase",Bk());const lg=new gw("@firebase/auth");function Z8(t,...e){lg.logLevel<=it.WARN&&lg.warn(`Auth (${Xu}): ${t}`,...e)}function Fp(t,...e){lg.logLevel<=it.ERROR&&lg.error(`Auth (${Xu}): ${t}`,...e)}function Ts(t,...e){throw bw(t,...e)}function ja(t,...e){return bw(t,...e)}function qk(t,e,n){const r={...Q8(),[e]:n};return new ch("auth","Firebase",r).create(e,{appName:t.name})}function _s(t){return qk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $k.create(t,...e)}function $e(t,e,...n){if(!t)throw bw(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fp(e),new Error(e)}function Ns(t,e){t||vs(e)}function G1(){return typeof self<"u"&&self.location?.href||""}function J8(){return lj()==="http:"||lj()==="https:"}function lj(){return typeof self<"u"&&self.location?.protocol||null}function eU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J8()||j9()||"connection"in navigator)?navigator.onLine:!0}function tU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class dh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=A9()||C9()}get(){return eU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xw(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Fk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iU=new dh(3e4,6e4);function fh(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qu(t,e,n,r,i={}){return Hk(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=uh({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...s};return N9()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(m.credentials="include"),Fk.fetch()(await Kk(t,t.config.apiHost,n,u),m)})}async function Hk(t,e,n){t._canInitEmulator=!1;const r={...nU,...e};try{const i=new aU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw xp(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,m]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw xp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw xp(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qk(t,p,m);Ts(t,p)}}catch(i){if(i instanceof Us)throw i;Ts(t,"network-request-failed",{message:String(i)})}}async function _w(t,e,n,r,i={}){const s=await Qu(t,e,n,r,i);return"mfaPendingCredential"in s&&Ts(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Kk(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?xw(t.config,i):`${t.config.apiScheme}://${i}`;return rU.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class aU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ja(this.auth,"network-request-failed")),iU.get())})}}function xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ja(t,e,r);return i.customData._tokenResponse=n,i}async function sU(t,e){return Qu(t,"POST","/v1/accounts:delete",e)}async function cg(t,e){return Qu(t,"POST","/v1/accounts:lookup",e)}function Of(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oU(t,e=!1){const n=Dn(t),r=await n.getIdToken(e),i=ww(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:Of(Zb(i.auth_time)),issuedAtTime:Of(Zb(i.iat)),expirationTime:Of(Zb(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Zb(t){return Number(t)*1e3}function ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ck(n);return i?JSON.parse(i):(Fp("Failed to decode base64 JWT payload"),null)}catch(i){return Fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cj(t){const e=ww(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Us&&lU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class cU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Y1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Of(this.lastLoginAt),this.creationTime=Of(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ug(t){const e=t.auth,n=await t.getIdToken(),r=await zf(t,cg(e,{idToken:n}));$e(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Gk(i.providerUserInfo):[],l=dU(t.providerData,s),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,m=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Y1(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function uU(t){const e=Dn(t);await ug(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Gk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fU(t,e){const n=await Hk(t,{},async()=>{const r=uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await Kk(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:r};return t.emulatorConfig&&Wu(t.emulatorConfig.host)&&(d.credentials="include"),Fk.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hU(t,e){return Qu(t,"POST","/v2/accounts:revokeToken",fh(t,e))}class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=cj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new _u;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&($e(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return vs("not implemented")}}function Io(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Y1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await zf(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oU(this,e)}reload(){return uU(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ug(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await zf(this,sU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:g,emailVerified:b,isAnonymous:w,providerData:T,stsTokenManager:S}=n;$e(g&&S,e,"internal-error");const A=_u.fromJSON(this.name,S);$e(typeof g=="string",e,"internal-error"),Io(r,e.name),Io(i,e.name),$e(typeof b=="boolean",e,"internal-error"),$e(typeof w=="boolean",e,"internal-error"),Io(s,e.name),Io(l,e.name),Io(u,e.name),Io(d,e.name),Io(m,e.name),Io(p,e.name);const I=new ea({uid:g,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:s,tenantId:u,stsTokenManager:A,createdAt:m,lastLoginAt:p});return T&&Array.isArray(T)&&(I.providerData=T.map(L=>({...L}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const s=new ea({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ug(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Gk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new _u;u.updateFromIdToken(r);const d=new ea({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Y1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,m),d}}const uj=new Map;function ys(t){Ns(t instanceof Function,"Expected a class definition");let e=uj.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,uj.set(t,e),e)}class Yk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yk.type="NONE";const dj=Yk;function Hp(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cg(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(ys(dj),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let s=i[0]||ys(dj);const l=Hp(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const p=await m._get(l);if(p){let g;if(typeof p=="string"){const b=await cg(e,{idToken:p}).catch(()=>{});if(!b)break;g=await ea._fromGetAccountInfoResponse(e,b,p)}else g=ea._fromJSON(e,p);m!==s&&(u=g),s=m;break}}catch{}const d=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new wu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==s)try{await m._remove(l)}catch{}})),new wu(s,e,r))}}function fj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eM(e))return"Blackberry";if(tM(e))return"Webos";if(Xk(e))return"Safari";if((e.includes("chrome/")||Qk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Wk(t=_r()){return/firefox\//i.test(t)}function Xk(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qk(t=_r()){return/crios\//i.test(t)}function Zk(t=_r()){return/iemobile/i.test(t)}function Jk(t=_r()){return/android/i.test(t)}function eM(t=_r()){return/blackberry/i.test(t)}function tM(t=_r()){return/webos/i.test(t)}function Sw(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mU(t=_r()){return Sw(t)&&!!window.navigator?.standalone}function pU(){return O9()&&document.documentMode===10}function nM(t=_r()){return Sw(t)||Jk(t)||tM(t)||eM(t)||/windows phone/i.test(t)||Zk(t)}function rM(t,e=[]){let n;switch(t){case"Browser":n=fj(_r());break;case"Worker":n=`${fj(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xu}/${r}`}class gU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function vU(t,e={}){return Qu(t,"GET","/v2/passwordPolicy",fh(t,e))}const yU=6;class bU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class xU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hj(this),this.idTokenSubscription=new hj(this),this.beforeStateQueue=new gU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$k,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cg(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ii(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ug(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject(_s(this));const n=e?Dn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vU(this),n=new bU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ch("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Z8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function hh(t){return Dn(t)}class hj{constructor(e){this.auth=e,this.observer=null,this.addObserver=z9(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ew={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _U(t){Ew=t}function wU(t){return Ew.loadJS(t)}function SU(){return Ew.gapiScript}function EU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function AU(t,e){const n=yw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(nc(s,e??{}))return i;Ts(i,"already-initialized")}return n.initialize({options:e})}function TU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function NU(t,e,n){const r=hh(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=iM(e),{host:l,port:u}=jU(e),d=u===null?"":`:${u}`,m={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(nc(m,r.config.emulator)&&nc(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Wu(l)?(Rk(`${s}//${l}${d}`),kk("Auth",!0)):CU()}function iM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jU(t){const e=iM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mj(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:mj(l)}}}function mj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function CU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class aM{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function Su(t,e){return _w(t,"POST","/v1/accounts:signInWithIdp",fh(t,e))}const OU="http://localhost";class ic extends aM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ic(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new ic(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Su(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Su(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Su(e,n)}buildRequest(){const e={requestUri:OU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uh(n)}return e}}class sM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mh extends sM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ko extends mh{constructor(){super("facebook.com")}static credential(e){return ic._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";class Mo extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ic._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mo.credential(n,r)}catch{return null}}}Mo.GOOGLE_SIGN_IN_METHOD="google.com";Mo.PROVIDER_ID="google.com";class Do extends mh{constructor(){super("github.com")}static credential(e){return ic._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.GITHUB_SIGN_IN_METHOD="github.com";Do.PROVIDER_ID="github.com";class Lo extends mh{constructor(){super("twitter.com")}static credential(e,n){return ic._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lo.credential(n,r)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";async function IU(t,e){return _w(t,"POST","/v1/accounts:signUp",fh(t,e))}class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ea._fromIdTokenResponse(e,r,i),l=pj(r);return new js({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pj(r);return new js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function PU(t){if(Ii(t.app))return Promise.reject(_s(t));const e=hh(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new js({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await IU(e,{returnSecureToken:!0}),r=await js._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}class dg extends Us{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dg(e,n,r,i)}}function oM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dg._fromErrorAndOperation(t,s,e,r):s})}async function RU(t,e,n=!1){const r=await zf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}async function kU(t,e,n=!1){const{auth:r}=t;if(Ii(r.app))return Promise.reject(_s(r));const i="reauthenticate";try{const s=await zf(t,oM(r,i,e,t),n);$e(s.idToken,r,"internal-error");const l=ww(s.idToken);$e(l,r,"internal-error");const{sub:u}=l;return $e(t.uid===u,r,"user-mismatch"),js._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ts(r,"user-mismatch"),s}}async function MU(t,e,n=!1){if(Ii(t.app))return Promise.reject(_s(t));const r="signIn",i=await oM(t,r,e),s=await js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function DU(t,e){return _w(t,"POST","/v1/accounts:signInWithCustomToken",fh(t,e))}async function LU(t,e){if(Ii(t.app))return Promise.reject(_s(t));const n=hh(t),r=await DU(n,{token:e,returnSecureToken:!0}),i=await js._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function zU(t,e,n,r){return Dn(t).onIdTokenChanged(e,n,r)}function VU(t,e,n){return Dn(t).beforeAuthStateChanged(e,n)}function UU(t,e,n,r){return Dn(t).onAuthStateChanged(e,n,r)}const fg="__sak";class lM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fg,"1"),this.storage.removeItem(fg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const BU=1e3,$U=10;class cM extends lM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);pU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$U):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cM.type="LOCAL";const qU=cM;class uM extends lM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uM.type="SESSION";const dM=uM;function FU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Av{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Av(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,s)),d=await FU(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Av.receivers=[];function Aw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class HU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const m=Aw("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const b=g;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(b.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ca(){return window}function KU(t){Ca().location.href=t}function fM(){return typeof Ca().WorkerGlobalScope<"u"&&typeof Ca().importScripts=="function"}async function GU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YU(){return navigator?.serviceWorker?.controller||null}function WU(){return fM()?self:null}const hM="firebaseLocalStorageDb",XU=1,hg="firebaseLocalStorage",mM="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tv(t,e){return t.transaction([hg],e?"readwrite":"readonly").objectStore(hg)}function QU(){const t=indexedDB.deleteDatabase(hM);return new ph(t).toPromise()}function W1(){const t=indexedDB.open(hM,XU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hg,{keyPath:mM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hg)?e(r):(r.close(),await QU(),e(await W1()))})})}async function gj(t,e,n){const r=Tv(t,!0).put({[mM]:e,value:n});return new ph(r).toPromise()}async function ZU(t,e){const n=Tv(t,!1).get(e),r=await new ph(n).toPromise();return r===void 0?null:r.value}function vj(t,e){const n=Tv(t,!0).delete(e);return new ph(n).toPromise()}const JU=800,e7=3;class pM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>e7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Av._getInstance(WU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GU(),!this.activeServiceWorker)return;this.sender=new HU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W1();return await gj(e,fg,"1"),await vj(e,fg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tv(i,!1).getAll();return new ph(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pM.type="LOCAL";const t7=pM;new dh(3e4,6e4);function n7(t,e){return e?ys(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Tw extends aM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Su(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Su(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Su(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r7(t){return MU(t.auth,new Tw(t),t.bypassAuthState)}function i7(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),kU(n,new Tw(t),t.bypassAuthState)}async function a7(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),RU(n,new Tw(t),t.bypassAuthState)}class gM{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r7;case"linkViaPopup":case"linkViaRedirect":return a7;case"reauthViaPopup":case"reauthViaRedirect":return i7;default:Ts(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const s7=new dh(2e3,1e4);class vu extends gM{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vu.currentPopupAction&&vu.currentPopupAction.cancel(),vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=Aw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ja(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ja(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ja(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s7.get())};e()}}vu.currentPopupAction=null;const o7="pendingRedirect",Kp=new Map;class l7 extends gM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kp.get(this.auth._key());if(!e){try{const r=await c7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kp.set(this.auth._key(),e)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c7(t,e){const n=f7(e),r=d7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u7(t,e){Kp.set(t._key(),e)}function d7(t){return ys(t._redirectPersistence)}function f7(t){return Hp(o7,t.config.apiKey,t.name)}async function h7(t,e,n=!1){if(Ii(t.app))return Promise.reject(_s(t));const r=hh(t),i=n7(r,e),l=await new l7(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const m7=600*1e3;class p7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!vM(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ja(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m7&&this.cachedEventUids.clear(),this.cachedEventUids.has(yj(e))}saveEventToCache(e){this.cachedEventUids.add(yj(e)),this.lastProcessedEventTime=Date.now()}}function yj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function g7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vM(t);default:return!1}}async function v7(t,e={}){return Qu(t,"GET","/v1/projects",e)}const y7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b7=/^https?/;async function x7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await v7(t);for(const n of e)try{if(_7(n))return}catch{}Ts(t,"unauthorized-domain")}function _7(t){const e=G1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!b7.test(n))return!1;if(y7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const w7=new dh(3e4,6e4);function bj(){const t=Ca().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S7(t){return new Promise((e,n)=>{function r(){bj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bj(),n(ja(t,"network-request-failed"))},timeout:w7.get()})}if(Ca().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ca().gapi?.load)r();else{const i=EU("iframefcb");return Ca()[i]=()=>{gapi.load?r():n(ja(t,"network-request-failed"))},wU(`${SU()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Gp=null,e})}let Gp=null;function E7(t){return Gp=Gp||S7(t),Gp}const A7=new dh(5e3,15e3),T7="__/auth/iframe",N7="emulator/auth/iframe",j7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O7(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xw(e,N7):`https://${t.config.authDomain}/${T7}`,r={apiKey:e.apiKey,appName:t.name,v:Xu},i=C7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uh(r).slice(1)}`}async function I7(t){const e=await E7(t),n=Ca().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:O7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ja(t,"network-request-failed"),u=Ca().setTimeout(()=>{s(l)},A7.get());function d(){Ca().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}const P7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R7=500,k7=600,M7="_blank",D7="http://localhost";class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L7(t,e,n,r=R7,i=k7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d={...P7,width:r.toString(),height:i.toString(),top:s,left:l},m=_r().toLowerCase();n&&(u=Qk(m)?M7:n),Wk(m)&&(e=e||D7,d.scrollbars="yes");const p=Object.entries(d).reduce((b,[w,T])=>`${b}${w}=${T},`,"");if(mU(m)&&u!=="_self")return z7(e||"",u),new xj(null);const g=window.open(e||"",u,p);$e(g,t,"popup-blocked");try{g.focus()}catch{}return new xj(g)}function z7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const V7="__/auth/handler",U7="emulator/auth/handler",B7=encodeURIComponent("fac");async function _j(t,e,n,r,i,s){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xu,eventId:i};if(e instanceof sM){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",L9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof mh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),m=d?`#${B7}=${encodeURIComponent(d)}`:"";return`${$7(t)}?${uh(u).slice(1)}${m}`}function $7({config:t}){return t.emulator?xw(t,U7):`https://${t.authDomain}/${V7}`}const Jb="webStorageSupport";class q7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dM,this._completeRedirectFn=h7,this._overrideRedirectResult=u7}async _openPopup(e,n,r,i){Ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await _j(e,n,r,G1(),i);return L7(e,s,Aw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _j(e,n,r,G1(),i);return KU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I7(e),r=new p7(e);return n.register("authEvent",i=>($e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jb,{type:Jb},i=>{const s=i?.[0]?.[Jb];s!==void 0&&n(!!s),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=x7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nM()||Xk()||Sw()}}const F7=q7;var wj="@firebase/auth",Sj="1.12.0";class H7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function K7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G7(t){Ou(new rc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rM(t)},m=new xU(r,i,s,d);return TU(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ou(new rc("auth-internal",e=>{const n=hh(e.getProvider("auth").getImmediate());return(r=>new H7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(wj,Sj,K7(t)),Fo(wj,Sj,"esm2020")}const Y7=300,W7=Pk("authIdTokenMaxAge")||Y7;let Ej=null;const X7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>W7)return;const i=n?.token;Ej!==i&&(Ej=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q7(t=zk()){const e=yw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AU(t,{popupRedirectResolver:F7,persistence:[t7,qU,dM]}),r=Pk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=X7(s.toString());VU(n,l,()=>l(n.currentUser)),zU(n,u=>l(u))}}const i=Ok("auth");return i&&NU(n,`http://${i}`),n}function Z7(){return document.getElementsByTagName("head")?.[0]??document}_U({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ja("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Z7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G7("Browser");var Aj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ho,yM;(function(){var t;function e(j,E){function O(){}O.prototype=E.prototype,j.F=E.prototype,j.prototype=new O,j.prototype.constructor=j,j.D=function(R,D,V){for(var z=Array(arguments.length-2),X=2;X<arguments.length;X++)z[X-2]=arguments[X];return E.prototype[D].apply(R,z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,E,O){O||(O=0);const R=Array(16);if(typeof E=="string")for(var D=0;D<16;++D)R[D]=E.charCodeAt(O++)|E.charCodeAt(O++)<<8|E.charCodeAt(O++)<<16|E.charCodeAt(O++)<<24;else for(D=0;D<16;++D)R[D]=E[O++]|E[O++]<<8|E[O++]<<16|E[O++]<<24;E=j.g[0],O=j.g[1],D=j.g[2];let V=j.g[3],z;z=E+(V^O&(D^V))+R[0]+3614090360&4294967295,E=O+(z<<7&4294967295|z>>>25),z=V+(D^E&(O^D))+R[1]+3905402710&4294967295,V=E+(z<<12&4294967295|z>>>20),z=D+(O^V&(E^O))+R[2]+606105819&4294967295,D=V+(z<<17&4294967295|z>>>15),z=O+(E^D&(V^E))+R[3]+3250441966&4294967295,O=D+(z<<22&4294967295|z>>>10),z=E+(V^O&(D^V))+R[4]+4118548399&4294967295,E=O+(z<<7&4294967295|z>>>25),z=V+(D^E&(O^D))+R[5]+1200080426&4294967295,V=E+(z<<12&4294967295|z>>>20),z=D+(O^V&(E^O))+R[6]+2821735955&4294967295,D=V+(z<<17&4294967295|z>>>15),z=O+(E^D&(V^E))+R[7]+4249261313&4294967295,O=D+(z<<22&4294967295|z>>>10),z=E+(V^O&(D^V))+R[8]+1770035416&4294967295,E=O+(z<<7&4294967295|z>>>25),z=V+(D^E&(O^D))+R[9]+2336552879&4294967295,V=E+(z<<12&4294967295|z>>>20),z=D+(O^V&(E^O))+R[10]+4294925233&4294967295,D=V+(z<<17&4294967295|z>>>15),z=O+(E^D&(V^E))+R[11]+2304563134&4294967295,O=D+(z<<22&4294967295|z>>>10),z=E+(V^O&(D^V))+R[12]+1804603682&4294967295,E=O+(z<<7&4294967295|z>>>25),z=V+(D^E&(O^D))+R[13]+4254626195&4294967295,V=E+(z<<12&4294967295|z>>>20),z=D+(O^V&(E^O))+R[14]+2792965006&4294967295,D=V+(z<<17&4294967295|z>>>15),z=O+(E^D&(V^E))+R[15]+1236535329&4294967295,O=D+(z<<22&4294967295|z>>>10),z=E+(D^V&(O^D))+R[1]+4129170786&4294967295,E=O+(z<<5&4294967295|z>>>27),z=V+(O^D&(E^O))+R[6]+3225465664&4294967295,V=E+(z<<9&4294967295|z>>>23),z=D+(E^O&(V^E))+R[11]+643717713&4294967295,D=V+(z<<14&4294967295|z>>>18),z=O+(V^E&(D^V))+R[0]+3921069994&4294967295,O=D+(z<<20&4294967295|z>>>12),z=E+(D^V&(O^D))+R[5]+3593408605&4294967295,E=O+(z<<5&4294967295|z>>>27),z=V+(O^D&(E^O))+R[10]+38016083&4294967295,V=E+(z<<9&4294967295|z>>>23),z=D+(E^O&(V^E))+R[15]+3634488961&4294967295,D=V+(z<<14&4294967295|z>>>18),z=O+(V^E&(D^V))+R[4]+3889429448&4294967295,O=D+(z<<20&4294967295|z>>>12),z=E+(D^V&(O^D))+R[9]+568446438&4294967295,E=O+(z<<5&4294967295|z>>>27),z=V+(O^D&(E^O))+R[14]+3275163606&4294967295,V=E+(z<<9&4294967295|z>>>23),z=D+(E^O&(V^E))+R[3]+4107603335&4294967295,D=V+(z<<14&4294967295|z>>>18),z=O+(V^E&(D^V))+R[8]+1163531501&4294967295,O=D+(z<<20&4294967295|z>>>12),z=E+(D^V&(O^D))+R[13]+2850285829&4294967295,E=O+(z<<5&4294967295|z>>>27),z=V+(O^D&(E^O))+R[2]+4243563512&4294967295,V=E+(z<<9&4294967295|z>>>23),z=D+(E^O&(V^E))+R[7]+1735328473&4294967295,D=V+(z<<14&4294967295|z>>>18),z=O+(V^E&(D^V))+R[12]+2368359562&4294967295,O=D+(z<<20&4294967295|z>>>12),z=E+(O^D^V)+R[5]+4294588738&4294967295,E=O+(z<<4&4294967295|z>>>28),z=V+(E^O^D)+R[8]+2272392833&4294967295,V=E+(z<<11&4294967295|z>>>21),z=D+(V^E^O)+R[11]+1839030562&4294967295,D=V+(z<<16&4294967295|z>>>16),z=O+(D^V^E)+R[14]+4259657740&4294967295,O=D+(z<<23&4294967295|z>>>9),z=E+(O^D^V)+R[1]+2763975236&4294967295,E=O+(z<<4&4294967295|z>>>28),z=V+(E^O^D)+R[4]+1272893353&4294967295,V=E+(z<<11&4294967295|z>>>21),z=D+(V^E^O)+R[7]+4139469664&4294967295,D=V+(z<<16&4294967295|z>>>16),z=O+(D^V^E)+R[10]+3200236656&4294967295,O=D+(z<<23&4294967295|z>>>9),z=E+(O^D^V)+R[13]+681279174&4294967295,E=O+(z<<4&4294967295|z>>>28),z=V+(E^O^D)+R[0]+3936430074&4294967295,V=E+(z<<11&4294967295|z>>>21),z=D+(V^E^O)+R[3]+3572445317&4294967295,D=V+(z<<16&4294967295|z>>>16),z=O+(D^V^E)+R[6]+76029189&4294967295,O=D+(z<<23&4294967295|z>>>9),z=E+(O^D^V)+R[9]+3654602809&4294967295,E=O+(z<<4&4294967295|z>>>28),z=V+(E^O^D)+R[12]+3873151461&4294967295,V=E+(z<<11&4294967295|z>>>21),z=D+(V^E^O)+R[15]+530742520&4294967295,D=V+(z<<16&4294967295|z>>>16),z=O+(D^V^E)+R[2]+3299628645&4294967295,O=D+(z<<23&4294967295|z>>>9),z=E+(D^(O|~V))+R[0]+4096336452&4294967295,E=O+(z<<6&4294967295|z>>>26),z=V+(O^(E|~D))+R[7]+1126891415&4294967295,V=E+(z<<10&4294967295|z>>>22),z=D+(E^(V|~O))+R[14]+2878612391&4294967295,D=V+(z<<15&4294967295|z>>>17),z=O+(V^(D|~E))+R[5]+4237533241&4294967295,O=D+(z<<21&4294967295|z>>>11),z=E+(D^(O|~V))+R[12]+1700485571&4294967295,E=O+(z<<6&4294967295|z>>>26),z=V+(O^(E|~D))+R[3]+2399980690&4294967295,V=E+(z<<10&4294967295|z>>>22),z=D+(E^(V|~O))+R[10]+4293915773&4294967295,D=V+(z<<15&4294967295|z>>>17),z=O+(V^(D|~E))+R[1]+2240044497&4294967295,O=D+(z<<21&4294967295|z>>>11),z=E+(D^(O|~V))+R[8]+1873313359&4294967295,E=O+(z<<6&4294967295|z>>>26),z=V+(O^(E|~D))+R[15]+4264355552&4294967295,V=E+(z<<10&4294967295|z>>>22),z=D+(E^(V|~O))+R[6]+2734768916&4294967295,D=V+(z<<15&4294967295|z>>>17),z=O+(V^(D|~E))+R[13]+1309151649&4294967295,O=D+(z<<21&4294967295|z>>>11),z=E+(D^(O|~V))+R[4]+4149444226&4294967295,E=O+(z<<6&4294967295|z>>>26),z=V+(O^(E|~D))+R[11]+3174756917&4294967295,V=E+(z<<10&4294967295|z>>>22),z=D+(E^(V|~O))+R[2]+718787259&4294967295,D=V+(z<<15&4294967295|z>>>17),z=O+(V^(D|~E))+R[9]+3951481745&4294967295,j.g[0]=j.g[0]+E&4294967295,j.g[1]=j.g[1]+(D+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+D&4294967295,j.g[3]=j.g[3]+V&4294967295}r.prototype.v=function(j,E){E===void 0&&(E=j.length);const O=E-this.blockSize,R=this.C;let D=this.h,V=0;for(;V<E;){if(D==0)for(;V<=O;)i(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<E;)if(R[D++]=j.charCodeAt(V++),D==this.blockSize){i(this,R),D=0;break}}else for(;V<E;)if(R[D++]=j[V++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=E},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var E=1;E<j.length-8;++E)j[E]=0;E=this.o*8;for(var O=j.length-8;O<j.length;++O)j[O]=E&255,E/=256;for(this.v(j),j=Array(16),E=0,O=0;O<4;++O)for(let R=0;R<32;R+=8)j[E++]=this.g[O]>>>R&255;return j};function s(j,E){var O=u;return Object.prototype.hasOwnProperty.call(O,j)?O[j]:O[j]=E(j)}function l(j,E){this.h=E;const O=[];let R=!0;for(let D=j.length-1;D>=0;D--){const V=j[D]|0;R&&V==E||(O[D]=V,R=!1)}this.g=O}var u={};function d(j){return-128<=j&&j<128?s(j,function(E){return new l([E|0],E<0?-1:0)}):new l([j|0],j<0?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return A(m(-j));const E=[];let O=1;for(let R=0;j>=O;R++)E[R]=j/O|0,O*=4294967296;return new l(E,0)}function p(j,E){if(j.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(j.charAt(0)=="-")return A(p(j.substring(1),E));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=m(Math.pow(E,8));let R=g;for(let V=0;V<j.length;V+=8){var D=Math.min(8,j.length-V);const z=parseInt(j.substring(V,V+D),E);D<8?(D=m(Math.pow(E,D)),R=R.j(D).add(m(z))):(R=R.j(O),R=R.add(m(z)))}return R}var g=d(0),b=d(1),w=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-A(this).m();let j=0,E=1;for(let O=0;O<this.g.length;O++){const R=this.i(O);j+=(R>=0?R:4294967296+R)*E,E*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(T(this))return"0";if(S(this))return"-"+A(this).toString(j);const E=m(Math.pow(j,6));var O=this;let R="";for(;;){const D=B(O,E).g;O=I(O,D.j(E));let V=((O.g.length>0?O.g[0]:O.h)>>>0).toString(j);if(O=D,T(O))return V+R;for(;V.length<6;)V="0"+V;R=V+R}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function T(j){if(j.h!=0)return!1;for(let E=0;E<j.g.length;E++)if(j.g[E]!=0)return!1;return!0}function S(j){return j.h==-1}t.l=function(j){return j=I(this,j),S(j)?-1:T(j)?0:1};function A(j){const E=j.g.length,O=[];for(let R=0;R<E;R++)O[R]=~j.g[R];return new l(O,~j.h).add(b)}t.abs=function(){return S(this)?A(this):this},t.add=function(j){const E=Math.max(this.g.length,j.g.length),O=[];let R=0;for(let D=0;D<=E;D++){let V=R+(this.i(D)&65535)+(j.i(D)&65535),z=(V>>>16)+(this.i(D)>>>16)+(j.i(D)>>>16);R=z>>>16,V&=65535,z&=65535,O[D]=z<<16|V}return new l(O,O[O.length-1]&-2147483648?-1:0)};function I(j,E){return j.add(A(E))}t.j=function(j){if(T(this)||T(j))return g;if(S(this))return S(j)?A(this).j(A(j)):A(A(this).j(j));if(S(j))return A(this.j(A(j)));if(this.l(w)<0&&j.l(w)<0)return m(this.m()*j.m());const E=this.g.length+j.g.length,O=[];for(var R=0;R<2*E;R++)O[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<j.g.length;D++){const V=this.i(R)>>>16,z=this.i(R)&65535,X=j.i(D)>>>16,ce=j.i(D)&65535;O[2*R+2*D]+=z*ce,L(O,2*R+2*D),O[2*R+2*D+1]+=V*ce,L(O,2*R+2*D+1),O[2*R+2*D+1]+=z*X,L(O,2*R+2*D+1),O[2*R+2*D+2]+=V*X,L(O,2*R+2*D+2)}for(j=0;j<E;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=E;j<2*E;j++)O[j]=0;return new l(O,0)};function L(j,E){for(;(j[E]&65535)!=j[E];)j[E+1]+=j[E]>>>16,j[E]&=65535,E++}function k(j,E){this.g=j,this.h=E}function B(j,E){if(T(E))throw Error("division by zero");if(T(j))return new k(g,g);if(S(j))return E=B(A(j),E),new k(A(E.g),A(E.h));if(S(E))return E=B(j,A(E)),new k(A(E.g),E.h);if(j.g.length>30){if(S(j)||S(E))throw Error("slowDivide_ only works with positive integers.");for(var O=b,R=E;R.l(j)<=0;)O=M(O),R=M(R);var D=q(O,1),V=q(R,1);for(R=q(R,2),O=q(O,2);!T(R);){var z=V.add(R);z.l(j)<=0&&(D=D.add(O),V=z),R=q(R,1),O=q(O,1)}return E=I(j,D.j(E)),new k(D,E)}for(D=g;j.l(E)>=0;){for(O=Math.max(1,Math.floor(j.m()/E.m())),R=Math.ceil(Math.log(O)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),V=m(O),z=V.j(E);S(z)||z.l(j)>0;)O-=R,V=m(O),z=V.j(E);T(V)&&(V=b),D=D.add(V),j=I(j,z)}return new k(D,j)}t.B=function(j){return B(this,j).h},t.and=function(j){const E=Math.max(this.g.length,j.g.length),O=[];for(let R=0;R<E;R++)O[R]=this.i(R)&j.i(R);return new l(O,this.h&j.h)},t.or=function(j){const E=Math.max(this.g.length,j.g.length),O=[];for(let R=0;R<E;R++)O[R]=this.i(R)|j.i(R);return new l(O,this.h|j.h)},t.xor=function(j){const E=Math.max(this.g.length,j.g.length),O=[];for(let R=0;R<E;R++)O[R]=this.i(R)^j.i(R);return new l(O,this.h^j.h)};function M(j){const E=j.g.length+1,O=[];for(let R=0;R<E;R++)O[R]=j.i(R)<<1|j.i(R-1)>>>31;return new l(O,j.h)}function q(j,E){const O=E>>5;E%=32;const R=j.g.length-O,D=[];for(let V=0;V<R;V++)D[V]=E>0?j.i(V+O)>>>E|j.i(V+O+1)<<32-E:j.i(V+O);return new l(D,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yM=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,Ho=l}).apply(typeof Aj<"u"?Aj:typeof self<"u"?self:typeof window<"u"?window:{});var _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bM,Sf,xM,Yp,X1,_M,wM,SM;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof _p=="object"&&_p];for(var N=0;N<v.length;++N){var P=v[N];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var r=n(this);function i(v,N){if(N)e:{var P=r;v=v.split(".");for(var F=0;F<v.length-1;F++){var te=v[F];if(!(te in P))break e;P=P[te]}v=v[v.length-1],F=P[v],N=N(F),N!=F&&N!=null&&e(P,v,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(N){var P=[],F;for(F in N)Object.prototype.hasOwnProperty.call(N,F)&&P.push([F,N[F]]);return P}});var s=s||{},l=this||self;function u(v){var N=typeof v;return N=="object"&&v!=null||N=="function"}function d(v,N,P){return v.call.apply(v.bind,arguments)}function m(v,N,P){return m=d,m.apply(null,arguments)}function p(v,N){var P=Array.prototype.slice.call(arguments,1);return function(){var F=P.slice();return F.push.apply(F,arguments),v.apply(this,F)}}function g(v,N){function P(){}P.prototype=N.prototype,v.Z=N.prototype,v.prototype=new P,v.prototype.constructor=v,v.Ob=function(F,te,ue){for(var Ee=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Ee[Ye-2]=arguments[Ye];return N.prototype[te].apply(F,Ee)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function w(v){const N=v.length;if(N>0){const P=Array(N);for(let F=0;F<N;F++)P[F]=v[F];return P}return[]}function T(v,N){for(let F=1;F<arguments.length;F++){const te=arguments[F];var P=typeof te;if(P=P!="object"?P:te?Array.isArray(te)?"array":P:"null",P=="array"||P=="object"&&typeof te.length=="number"){P=v.length||0;const ue=te.length||0;v.length=P+ue;for(let Ee=0;Ee<ue;Ee++)v[P+Ee]=te[Ee]}else v.push(te)}}class S{constructor(N,P){this.i=N,this.j=P,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function A(v){l.setTimeout(()=>{throw v},0)}function I(){var v=j;let N=null;return v.g&&(N=v.g,v.g=v.g.next,v.g||(v.h=null),N.next=null),N}class L{constructor(){this.h=this.g=null}add(N,P){const F=k.get();F.set(N,P),this.h?this.h.next=F:this.g=F,this.h=F}}var k=new S(()=>new B,v=>v.reset());class B{constructor(){this.next=this.g=this.h=null}set(N,P){this.h=N,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let M,q=!1,j=new L,E=()=>{const v=Promise.resolve(void 0);M=()=>{v.then(O)}};function O(){for(var v;v=I();){try{v.h.call(v.g)}catch(P){A(P)}var N=k;N.j(v),N.h<100&&(N.h++,v.next=N.g,N.g=v)}q=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(v,N){this.type=v,this.g=this.target=N,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,N=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};l.addEventListener("test",P,N),l.removeEventListener("test",P,N)}catch{}return v})();function z(v){return/^[\s\xa0]*$/.test(v)}function X(v,N){D.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,N)}g(X,D),X.prototype.init=function(v,N){const P=this.type=v.type,F=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=N,N=v.relatedTarget,N||(P=="mouseover"?N=v.fromElement:P=="mouseout"&&(N=v.toElement)),this.relatedTarget=N,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),K=0;function Z(v,N,P,F,te){this.listener=v,this.proxy=null,this.src=N,this.type=P,this.capture=!!F,this.ha=te,this.key=++K,this.da=this.fa=!1}function he(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function me(v,N,P){for(const F in v)N.call(P,v[F],F,v)}function ee(v,N){for(const P in v)N.call(void 0,v[P],P,v)}function $(v){const N={};for(const P in v)N[P]=v[P];return N}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(v,N){let P,F;for(let te=1;te<arguments.length;te++){F=arguments[te];for(P in F)v[P]=F[P];for(let ue=0;ue<Y.length;ue++)P=Y[ue],Object.prototype.hasOwnProperty.call(F,P)&&(v[P]=F[P])}}function ne(v){this.src=v,this.g={},this.h=0}ne.prototype.add=function(v,N,P,F,te){const ue=v.toString();v=this.g[ue],v||(v=this.g[ue]=[],this.h++);const Ee=oe(v,N,F,te);return Ee>-1?(N=v[Ee],P||(N.fa=!1)):(N=new Z(N,this.src,ue,!!F,te),N.fa=P,v.push(N)),N};function _e(v,N){const P=N.type;if(P in v.g){var F=v.g[P],te=Array.prototype.indexOf.call(F,N,void 0),ue;(ue=te>=0)&&Array.prototype.splice.call(F,te,1),ue&&(he(N),v.g[P].length==0&&(delete v.g[P],v.h--))}}function oe(v,N,P,F){for(let te=0;te<v.length;++te){const ue=v[te];if(!ue.da&&ue.listener==N&&ue.capture==!!P&&ue.ha==F)return te}return-1}var we="closure_lm_"+(Math.random()*1e6|0),je={};function le(v,N,P,F,te){if(Array.isArray(N)){for(let ue=0;ue<N.length;ue++)le(v,N[ue],P,F,te);return null}return P=Sr(P),v&&v[ce]?v.J(N,P,u(F)?!!F.capture:!1,te):Te(v,N,P,!1,F,te)}function Te(v,N,P,F,te,ue){if(!N)throw Error("Invalid event type");const Ee=u(te)?!!te.capture:!!te;let Ye=$t(v);if(Ye||(v[we]=Ye=new ne(v)),P=Ye.add(N,P,F,Ee,ue),P.proxy)return P;if(F=Ve(),P.proxy=F,F.src=v,F.listener=P,v.addEventListener)V||(te=Ee),te===void 0&&(te=!1),v.addEventListener(N.toString(),F,te);else if(v.attachEvent)v.attachEvent(qe(N.toString()),F);else if(v.addListener&&v.removeListener)v.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ve(){function v(P){return N.call(v.src,v.listener,P)}const N=zt;return v}function xe(v,N,P,F,te){if(Array.isArray(N))for(var ue=0;ue<N.length;ue++)xe(v,N[ue],P,F,te);else F=u(F)?!!F.capture:!!F,P=Sr(P),v&&v[ce]?(v=v.i,ue=String(N).toString(),ue in v.g&&(N=v.g[ue],P=oe(N,P,F,te),P>-1&&(he(N[P]),Array.prototype.splice.call(N,P,1),N.length==0&&(delete v.g[ue],v.h--)))):v&&(v=$t(v))&&(N=v.g[N.toString()],v=-1,N&&(v=oe(N,P,F,te)),(P=v>-1?N[v]:null)&&bt(P))}function bt(v){if(typeof v!="number"&&v&&!v.da){var N=v.src;if(N&&N[ce])_e(N.i,v);else{var P=v.type,F=v.proxy;N.removeEventListener?N.removeEventListener(P,F,v.capture):N.detachEvent?N.detachEvent(qe(P),F):N.addListener&&N.removeListener&&N.removeListener(F),(P=$t(N))?(_e(P,v),P.h==0&&(P.src=null,N[we]=null)):he(v)}}}function qe(v){return v in je?je[v]:je[v]="on"+v}function zt(v,N){if(v.da)v=!0;else{N=new X(N,this);const P=v.listener,F=v.ha||v.src;v.fa&&bt(v),v=P.call(F,N)}return v}function $t(v){return v=v[we],v instanceof ne?v:null}var Bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sr(v){return typeof v=="function"?v:(v[Bn]||(v[Bn]=function(N){return v.handleEvent(N)}),v[Bn])}function Qe(){R.call(this),this.i=new ne(this),this.M=this,this.G=null}g(Qe,R),Qe.prototype[ce]=!0,Qe.prototype.removeEventListener=function(v,N,P,F){xe(this,v,N,P,F)};function Rt(v,N){var P,F=v.G;if(F)for(P=[];F;F=F.G)P.push(F);if(v=v.M,F=N.type||N,typeof N=="string")N=new D(N,v);else if(N instanceof D)N.target=N.target||v;else{var te=N;N=new D(F,v),Q(N,te)}te=!0;let ue,Ee;if(P)for(Ee=P.length-1;Ee>=0;Ee--)ue=N.g=P[Ee],te=Er(ue,F,!0,N)&&te;if(ue=N.g=v,te=Er(ue,F,!0,N)&&te,te=Er(ue,F,!1,N)&&te,P)for(Ee=0;Ee<P.length;Ee++)ue=N.g=P[Ee],te=Er(ue,F,!1,N)&&te}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var v=this.i;for(const N in v.g){const P=v.g[N];for(let F=0;F<P.length;F++)he(P[F]);delete v.g[N],v.h--}}this.G=null},Qe.prototype.J=function(v,N,P,F){return this.i.add(String(v),N,!1,P,F)},Qe.prototype.K=function(v,N,P,F){return this.i.add(String(v),N,!0,P,F)};function Er(v,N,P,F){if(N=v.i.g[String(N)],!N)return!0;N=N.concat();let te=!0;for(let ue=0;ue<N.length;++ue){const Ee=N[ue];if(Ee&&!Ee.da&&Ee.capture==P){const Ye=Ee.listener,fn=Ee.ha||Ee.src;Ee.fa&&_e(v.i,Ee),te=Ye.call(fn,F)!==!1&&te}}return te&&!F.defaultPrevented}function Ha(v,N){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:l.setTimeout(v,N||0)}function Xs(v){v.g=Ha(()=>{v.g=null,v.i&&(v.i=!1,Xs(v))},v.l);const N=v.h;v.h=null,v.m.apply(null,N)}class un extends R{constructor(N,P){super(),this.m=N,this.l=P,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Xs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(v){R.call(this),this.h=v,this.g={}}g(Xr,R);var Vi=[];function Ui(v){me(v.g,function(N,P){this.g.hasOwnProperty(P)&&bt(N)},v),v.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Ui(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=l.JSON.stringify,Ka=l.JSON.parse,aa=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function Ga(){}function Ya(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dn(){D.call(this,"d")}g(dn,D);function $n(){D.call(this,"c")}g($n,D);var qt={},Qs=null;function sa(){return Qs=Qs||new Qe}qt.Ia="serverreachability";function Zs(v){D.call(this,qt.Ia,v)}g(Zs,D);function Dr(v){const N=sa();Rt(N,new Zs(N))}qt.STAT_EVENT="statevent";function mi(v,N){D.call(this,qt.STAT_EVENT,v),this.stat=N}g(mi,D);function Yt(v){const N=sa();Rt(N,new mi(N,v))}qt.Ja="timingevent";function H(v,N){D.call(this,qt.Ja,v),this.size=N}g(H,D);function fe(v,N){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},N)}function Se(){this.g=!0}Se.prototype.ua=function(){this.g=!1};function He(v,N,P,F,te,ue){v.info(function(){if(v.g)if(ue){var Ee="",Ye=ue.split("&");for(let mt=0;mt<Ye.length;mt++){var fn=Ye[mt].split("=");if(fn.length>1){const Wt=fn[0];fn=fn[1];const yi=Wt.split("_");Ee=yi.length>=2&&yi[1]=="type"?Ee+(Wt+"="+fn+"&"):Ee+(Wt+"=redacted&")}}}else Ee=null;else Ee=ue;return"XMLHTTP REQ ("+F+") [attempt "+te+"]: "+N+`
`+P+`
`+Ee})}function xt(v,N,P,F,te,ue,Ee){v.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+te+"]: "+N+`
`+P+`
`+ue+" "+Ee})}function Tt(v,N,P,F){v.info(function(){return"XMLHTTP TEXT ("+N+"): "+dl(v,P)+(F?" "+F:"")})}function tr(v,N){v.info(function(){return"TIMEOUT: "+N})}Se.prototype.info=function(){};function dl(v,N){if(!v.g)return N;if(!N)return null;try{const ue=JSON.parse(N);if(ue){for(v=0;v<ue.length;v++)if(Array.isArray(ue[v])){var P=ue[v];if(!(P.length<2)){var F=P[1];if(Array.isArray(F)&&!(F.length<1)){var te=F[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Ee=1;Ee<F.length;Ee++)F[Ee]=""}}}}return Qr(ue)}catch{return N}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hl;function Wa(){}g(Wa,Ga),Wa.prototype.g=function(){return new XMLHttpRequest},hl=new Wa;function Bi(v){return encodeURIComponent(String(v))}function Ze(v){var N=1;v=v.split(":");const P=[];for(;N>0&&v.length;)P.push(v.shift()),N--;return v.length&&P.push(v.join(":")),P}function _t(v,N,P,F){this.j=v,this.i=N,this.l=P,this.S=F||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yn}function yn(){this.i=null,this.g="",this.h=!1}var bn={},qn={};function oa(v,N,P){v.M=1,v.A=ml(_n(N)),v.u=P,v.R=!0,Sc(v,null)}function Sc(v,N){v.F=Date.now(),la(v),v.B=_n(v.A);var P=v.B,F=v.S;Array.isArray(F)||(F=[String(F)]),Nc(P.i,"t",F),v.C=0,P=v.j.L,v.h=new yn,v.g=hm(v.j,P?N:null,!v.u),v.P>0&&(v.O=new un(m(v.Y,v,v.g),v.P)),N=v.V,P=v.g,F=v.ba;var te="readystatechange";Array.isArray(te)||(te&&(Vi[0]=te.toString()),te=Vi);for(let ue=0;ue<te.length;ue++){const Ee=le(P,te[ue],F||N.handleEvent,!1,N.h||N);if(!Ee)break;N.g[Ee.key]=Ee}N=v.J?$(v.J):{},v.u?(v.v||(v.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,N)):(v.v="GET",v.g.ea(v.B,v.v,null,N)),Dr(),He(v.i,v.v,v.B,v.l,v.S,v.u)}_t.prototype.ba=function(v){v=v.target;const N=this.O;N&&Fi(v)==3?N.j():this.Y(v)},_t.prototype.Y=function(v){try{if(v==this.g)e:{const Ye=Fi(this.g),fn=this.g.ya(),mt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||nr(this.g)))){this.K||Ye!=4||fn==7||(fn==8||mt<=0?Dr(3):Dr(2)),ca(this);var N=this.g.ca();this.X=N;var P=G0(this);if(this.o=N==200,xt(this.i,this.v,this.B,this.l,this.S,Ye,N),this.o){if(this.U&&!this.L){t:{if(this.g){var F,te=this.g;if((F=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(F)){var ue=F;break t}}ue=null}if(v=ue)Tt(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,v);else{this.o=!1,this.m=3,Yt(12),Zr(this),pi(this);break e}}if(this.R){v=!0;let Wt;for(;!this.K&&this.C<P.length;)if(Wt=em(this,P),Wt==qn){Ye==4&&(this.m=4,Yt(14),v=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==bn){this.m=4,Yt(15),Tt(this.i,this.l,P,"[Invalid Chunk]"),v=!1;break}else Tt(this.i,this.l,Wt,null),ua(this,Wt);if(Jh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||P.length!=0||this.h.h||(this.m=1,Yt(16),v=!1),this.o=this.o&&v,!v)Tt(this.i,this.l,P,"[Invalid Chunked Response]"),Zr(this),pi(this);else if(P.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),Cd(Ee),Ee.P=!0,Yt(11))}}else Tt(this.i,this.l,P,null),ua(this,P);Ye==4&&Zr(this),this.o&&!this.K&&(Ye==4?cm(this.j,this):(this.o=!1,la(this)))}else Qa(this.g),N==400&&P.indexOf("Unknown SID")>0?(this.m=3,Yt(12)):(this.m=0,Yt(13)),Zr(this),pi(this)}}}catch{}};function G0(v){if(!Jh(v))return v.g.la();const N=nr(v.g);if(N==="")return"";let P="";const F=N.length,te=Fi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Zr(v),pi(v),"";v.h.i=new l.TextDecoder}for(let ue=0;ue<F;ue++)v.h.h=!0,P+=v.h.i.decode(N[ue],{stream:!(te&&ue==F-1)});return N.length=0,v.h.g+=P,v.C=0,v.h.g}function Jh(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function em(v,N){var P=v.C,F=N.indexOf(`
`,P);return F==-1?qn:(P=Number(N.substring(P,F)),isNaN(P)?bn:(F+=1,F+P>N.length?qn:(N=N.slice(F,F+P),v.C=F+P,N)))}_t.prototype.cancel=function(){this.K=!0,Zr(this)};function la(v){v.T=Date.now()+v.H,Ec(v,v.H)}function Ec(v,N){if(v.D!=null)throw Error("WatchDog timer not null");v.D=fe(m(v.aa,v),N)}function ca(v){v.D&&(l.clearTimeout(v.D),v.D=null)}_t.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(tr(this.i,this.B),this.M!=2&&(Dr(),Yt(17)),Zr(this),this.m=2,pi(this)):Ec(this,this.T-v)};function pi(v){v.j.I==0||v.K||cm(v.j,v)}function Zr(v){ca(v);var N=v.O;N&&typeof N.dispose=="function"&&N.dispose(),v.O=null,Ui(v.V),v.g&&(N=v.g,v.g=null,N.abort(),N.dispose())}function ua(v,N){try{var P=v.j;if(P.I!=0&&(P.g==v||fa(P.h,v))){if(!v.L&&fa(P.h,v)&&P.I==3){try{var F=P.Ba.g.parse(N)}catch{F=null}if(Array.isArray(F)&&F.length==3){var te=F;if(te[0]==0){e:if(!P.v){if(P.g)if(P.g.F+3e3<v.F)Pc(P),so(P);else break e;_l(P),Yt(18)}}else P.xa=te[1],0<P.xa-P.K&&te[2]<37500&&P.F&&P.A==0&&!P.C&&(P.C=fe(m(P.Va,P),6e3));da(P.h)<=1&&P.ta&&(P.ta=void 0)}else ya(P,11)}else if((v.L||P.g==v)&&Pc(P),!z(N))for(te=P.Ba.g.parse(N),N=0;N<te.length;N++){let mt=te[N];const Wt=mt[0];if(!(Wt<=P.K))if(P.K=Wt,mt=mt[1],P.I==2)if(mt[0]=="c"){P.M=mt[1],P.ba=mt[2];const yi=mt[3];yi!=null&&(P.ka=yi,P.j.info("VER="+P.ka));const ba=mt[4];ba!=null&&(P.za=ba,P.j.info("SVER="+P.za));const Hi=mt[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(F=1.5*Hi,P.O=F,P.j.info("backChannelRequestTimeoutMs_="+F)),F=P;const Ki=v.g;if(Ki){const wl=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var ue=F.h;ue.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(vd(ue,ue.h),ue.h=null))}if(F.G){const Rc=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Rc&&(F.wa=Rc,wt(F.J,F.G,Rc))}}P.I=3,P.l&&P.l.ra(),P.aa&&(P.T=Date.now()-v.F,P.j.info("Handshake RTT: "+P.T+"ms")),F=P;var Ee=v;if(F.na=fm(F,F.L?F.ba:null,F.W),Ee.L){yd(F.h,Ee);var Ye=Ee,fn=F.O;fn&&(Ye.H=fn),Ye.D&&(ca(Ye),la(Ye)),F.g=Ee}else om(F);P.i.length>0&&va(P)}else mt[0]!="stop"&&mt[0]!="close"||ya(P,7);else P.I==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ya(P,7):Nd(P):mt[0]!="noop"&&P.l&&P.l.qa(mt),P.A=0)}}Dr(4)}catch{}}var xn=class{constructor(v,N){this.g=v,this.map=N}};function pd(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gd(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function da(v){return v.h?1:v.g?v.g.size:0}function fa(v,N){return v.h?v.h==N:v.g?v.g.has(N):!1}function vd(v,N){v.g?v.g.add(N):v.h=N}function yd(v,N){v.h&&v.h==N?v.h=null:v.g&&v.g.has(N)&&v.g.delete(N)}pd.prototype.cancel=function(){if(this.i=bd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function bd(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let N=v.i;for(const P of v.g.values())N=N.concat(P.G);return N}return w(v.i)}var tm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ac(v,N){if(v){v=v.split("&");for(let P=0;P<v.length;P++){const F=v[P].indexOf("=");let te,ue=null;F>=0?(te=v[P].substring(0,F),ue=v[P].substring(F+1)):te=v[P],N(te,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Jr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;v instanceof Jr?(this.l=v.l,Fn(this,v.j),this.o=v.o,this.g=v.g,Js(this,v.u),this.h=v.h,xd(this,am(v.i)),this.m=v.m):v&&(N=String(v).match(tm))?(this.l=!1,Fn(this,N[1]||"",!0),this.o=ha(N[2]||""),this.g=ha(N[3]||"",!0),Js(this,N[4]),this.h=ha(N[5]||"",!0),xd(this,N[6]||"",!0),this.m=ha(N[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Jr.prototype.toString=function(){const v=[];var N=this.j;N&&v.push(pl(N,Tc,!0),":");var P=this.g;return(P||N=="file")&&(v.push("//"),(N=this.o)&&v.push(pl(N,Tc,!0),"@"),v.push(Bi(P).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.u,P!=null&&v.push(":",String(P))),(P=this.h)&&(this.g&&P.charAt(0)!="/"&&v.push("/"),v.push(pl(P,P.charAt(0)=="/"?_d:nm,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",pl(P,rm)),v.join("")},Jr.prototype.resolve=function(v){const N=_n(this);let P=!!v.j;P?Fn(N,v.j):P=!!v.o,P?N.o=v.o:P=!!v.g,P?N.g=v.g:P=v.u!=null;var F=v.h;if(P)Js(N,v.u);else if(P=!!v.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var te=N.h.lastIndexOf("/");te!=-1&&(F=N.h.slice(0,te+1)+F)}if(te=F,te==".."||te==".")F="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){F=te.lastIndexOf("/",0)==0,te=te.split("/");const ue=[];for(let Ee=0;Ee<te.length;){const Ye=te[Ee++];Ye=="."?F&&Ee==te.length&&ue.push(""):Ye==".."?((ue.length>1||ue.length==1&&ue[0]!="")&&ue.pop(),F&&Ee==te.length&&ue.push("")):(ue.push(Ye),F=!0)}F=ue.join("/")}else F=te}return P?N.h=F:P=v.i.toString()!=="",P?xd(N,am(v.i)):P=!!v.m,P&&(N.m=v.m),N};function _n(v){return new Jr(v)}function Fn(v,N,P){v.j=P?ha(N,!0):N,v.j&&(v.j=v.j.replace(/:$/,""))}function Js(v,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);v.u=N}else v.u=null}function xd(v,N,P){N instanceof to?(v.i=N,jc(v.i,v.l)):(P||(N=pl(N,eo)),v.i=new to(N,v.l))}function wt(v,N,P){v.i.set(N,P)}function ml(v){return wt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ha(v,N){return v?N?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function pl(v,N,P){return typeof v=="string"?(v=encodeURI(v).replace(N,Lr),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Lr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Tc=/[#\/\?@]/g,nm=/[#\?:]/g,_d=/[#\?]/g,eo=/[#\?@]/g,rm=/#/g;function to(v,N){this.h=this.g=null,this.i=v||null,this.j=!!N}function zr(v){v.g||(v.g=new Map,v.h=0,v.i&&Ac(v.i,function(N,P){v.add(decodeURIComponent(N.replace(/\+/g," ")),P)}))}t=to.prototype,t.add=function(v,N){zr(this),this.i=null,v=no(this,v);let P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(N),this.h+=1,this};function im(v,N){zr(v),N=no(v,N),v.g.has(N)&&(v.i=null,v.h-=v.g.get(N).length,v.g.delete(N))}function wd(v,N){return zr(v),N=no(v,N),v.g.has(N)}t.forEach=function(v,N){zr(this),this.g.forEach(function(P,F){P.forEach(function(te){v.call(N,te,F,this)},this)},this)};function Sd(v,N){zr(v);let P=[];if(typeof N=="string")wd(v,N)&&(P=P.concat(v.g.get(no(v,N))));else for(v=Array.from(v.g.values()),N=0;N<v.length;N++)P=P.concat(v[N]);return P}t.set=function(v,N){return zr(this),this.i=null,v=no(this,v),wd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[N]),this.h+=1,this},t.get=function(v,N){return v?(v=Sd(this,v),v.length>0?String(v[0]):N):N};function Nc(v,N,P){im(v,N),P.length>0&&(v.i=null,v.g.set(no(v,N),w(P)),v.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],N=Array.from(this.g.keys());for(let F=0;F<N.length;F++){var P=N[F];const te=Bi(P);P=Sd(this,P);for(let ue=0;ue<P.length;ue++){let Ee=te;P[ue]!==""&&(Ee+="="+Bi(P[ue])),v.push(Ee)}}return this.i=v.join("&")};function am(v){const N=new to;return N.i=v.i,v.g&&(N.g=new Map(v.g),N.h=v.h),N}function no(v,N){return N=String(N),v.j&&(N=N.toLowerCase()),N}function jc(v,N){N&&!v.j&&(zr(v),v.i=null,v.g.forEach(function(P,F){const te=F.toLowerCase();F!=te&&(im(this,F),Nc(this,te,P))},v)),v.j=N}function $i(v,N){const P=new Se;if(l.Image){const F=new Image;F.onload=p(gi,P,"TestLoadImage: loaded",!0,N,F),F.onerror=p(gi,P,"TestLoadImage: error",!1,N,F),F.onabort=p(gi,P,"TestLoadImage: abort",!1,N,F),F.ontimeout=p(gi,P,"TestLoadImage: timeout",!1,N,F),l.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=v}else N(!1)}function Ed(v,N){const P=new Se,F=new AbortController,te=setTimeout(()=>{F.abort(),gi(P,"TestPingServer: timeout",!1,N)},1e4);fetch(v,{signal:F.signal}).then(ue=>{clearTimeout(te),ue.ok?gi(P,"TestPingServer: ok",!0,N):gi(P,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(te),gi(P,"TestPingServer: error",!1,N)})}function gi(v,N,P,F,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),F(P)}catch{}}function ro(){this.g=new aa}function ma(v){this.i=v.Sb||null,this.h=v.ab||!1}g(ma,Ga),ma.prototype.g=function(){return new gl(this.i,this.h)};function gl(v,N){Qe.call(this),this.H=v,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(gl,Qe),t=gl.prototype,t.open=function(v,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=N,this.readyState=1,qi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(N.body=v),(this.H||l).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cc(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cc(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var N=v.value?v.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!v.done}))&&(this.response=this.responseText+=N)}v.done?io(this):qi(this),this.readyState==3&&Cc(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,io(this))},t.Na=function(v){this.g&&(this.response=v,io(this))},t.ga=function(){this.g&&io(this)};function io(v){v.readyState=4,v.l=null,v.j=null,v.B=null,qi(v)}t.setRequestHeader=function(v,N){this.A.append(v,N)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],N=this.h.entries();for(var P=N.next();!P.done;)P=P.value,v.push(P[0]+": "+P[1]),P=N.next();return v.join(`\r
`)};function qi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function vi(v){let N="";return me(v,function(P,F){N+=F,N+=":",N+=P,N+=`\r
`}),N}function vl(v,N,P){e:{for(F in P){var F=!1;break e}F=!0}F||(P=vi(P),typeof v=="string"?P!=null&&Bi(P):wt(v,N,P))}function Nt(v){Qe.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Nt,Qe);var pa=/^https?$/i,Ad=["POST","PUT"];t=Nt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,N,P,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);N=N?N.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hl.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(N,String(v),!0),this.B=!1}catch(ue){yl(this,ue);return}if(v=P||"",P=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var te in F)P.set(te,F[te]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ue of F.keys())P.set(ue,F.get(ue));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(P.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(Ad,N,void 0)>=0)||F||te||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ee]of P)this.g.setRequestHeader(ue,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ue){yl(this,ue)}};function yl(v,N){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=N,v.o=5,Td(v),Xa(v)}function Td(v){v.A||(v.A=!0,Rt(v,"complete"),Rt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Rt(this,"complete"),Rt(this,"abort"),Xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xa(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bl(this):this.Xa())},t.Xa=function(){bl(this)};function bl(v){if(v.h&&typeof s<"u"){if(v.v&&Fi(v)==4)setTimeout(v.Ca.bind(v),0);else if(Rt(v,"readystatechange"),Fi(v)==4){v.h=!1;try{const ue=v.ca();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var P;if(!(P=N)){var F;if(F=ue===0){let Ee=String(v.D).match(tm)[1]||null;!Ee&&l.self&&l.self.location&&(Ee=l.self.location.protocol.slice(0,-1)),F=!pa.test(Ee?Ee.toLowerCase():"")}P=F}if(P)Rt(v,"complete"),Rt(v,"success");else{v.o=6;try{var te=Fi(v)>2?v.g.statusText:""}catch{te=""}v.l=te+" ["+v.ca()+"]",Td(v)}}finally{Xa(v)}}}}function Xa(v,N){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const P=v.g;v.g=null,N||Rt(v,"ready");try{P.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var N=this.g.responseText;return v&&N.indexOf(v)==0&&(N=N.substring(v.length)),Ka(N)}};function nr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Qa(v){const N={};v=(v.g&&Fi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<v.length;F++){if(z(v[F]))continue;var P=Ze(v[F]);const te=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const ue=N[te]||[];N[te]=ue,ue.push(P)}ee(N,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(v,N,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||N}function ao(v){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ga("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ga("baseRetryDelayMs",5e3,v),this.Za=ga("retryDelaySeedMs",1e4,v),this.Ta=ga("forwardChannelMaxRetries",2,v),this.va=ga("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new pd(v&&v.concurrentRequestLimit),this.Ba=new ro,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(v,N,P,F){Yt(0),this.W=v,this.H=N||{},P&&F!==void 0&&(this.H.OSID=P,this.H.OAID=F),this.F=this.X,this.J=fm(this,null,this.W),va(this)};function Nd(v){if(Oc(v),v.I==3){var N=v.V++,P=_n(v.J);if(wt(P,"SID",v.M),wt(P,"RID",N),wt(P,"TYPE","terminate"),xl(v,P),N=new _t(v,v.j,N),N.M=2,N.A=ml(_n(P)),P=!1,l.navigator&&l.navigator.sendBeacon)try{P=l.navigator.sendBeacon(N.A.toString(),"")}catch{}!P&&l.Image&&(new Image().src=N.A,P=!0),P||(N.g=hm(N.j,null),N.g.ea(N.A)),N.F=Date.now(),la(N)}dm(v)}function so(v){v.g&&(Cd(v),v.g.cancel(),v.g=null)}function Oc(v){so(v),v.v&&(l.clearTimeout(v.v),v.v=null),Pc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function va(v){if(!gd(v.h)&&!v.m){v.m=!0;var N=v.Ea;M||E(),q||(M(),q=!0),j.add(N,v),v.D=0}}function Ic(v,N){return da(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=N.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=fe(m(v.Ea,v,N),um(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const te=new _t(this,this.j,v);let ue=this.o;if(this.U&&(ue?(ue=$(ue),Q(ue,this.U)):ue=this.U),this.u!==null||this.R||(te.J=ue,ue=null),this.S)e:{for(var N=0,P=0;P<this.i.length;P++){t:{var F=this.i[P];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(N+=F,N>4096){N=P;break e}if(N===4096||P===this.i.length-1){N=P+1;break e}}N=1e3}else N=1e3;N=sm(this,te,N),P=_n(this.J),wt(P,"RID",v),wt(P,"CVER",22),this.G&&wt(P,"X-HTTP-Session-Id",this.G),xl(this,P),ue&&(this.R?N="headers="+Bi(vi(ue))+"&"+N:this.u&&vl(P,this.u,ue)),vd(this.h,te),this.Ra&&wt(P,"TYPE","init"),this.S?(wt(P,"$req",N),wt(P,"SID","null"),te.U=!0,oa(te,P,null)):oa(te,P,N),this.I=2}}else this.I==3&&(v?jd(this,v):this.i.length==0||gd(this.h)||jd(this))};function jd(v,N){var P;N?P=N.l:P=v.V++;const F=_n(v.J);wt(F,"SID",v.M),wt(F,"RID",P),wt(F,"AID",v.K),xl(v,F),v.u&&v.o&&vl(F,v.u,v.o),P=new _t(v,v.j,P,v.D+1),v.u===null&&(P.J=v.o),N&&(v.i=N.G.concat(v.i)),N=sm(v,P,1e3),P.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),vd(v.h,P),oa(P,F,N)}function xl(v,N){v.H&&me(v.H,function(P,F){wt(N,F,P)}),v.l&&me({},function(P,F){wt(N,F,P)})}function sm(v,N,P){P=Math.min(v.i.length,P);const F=v.l?m(v.l.Ka,v.l,v):null;e:{var te=v.i;let Ye=-1;for(;;){const fn=["count="+P];Ye==-1?P>0?(Ye=te[0].g,fn.push("ofs="+Ye)):Ye=0:fn.push("ofs="+Ye);let mt=!0;for(let Wt=0;Wt<P;Wt++){var ue=te[Wt].g;const yi=te[Wt].map;if(ue-=Ye,ue<0)Ye=Math.max(0,te[Wt].g-100),mt=!1;else try{ue="req"+ue+"_"||"";try{var Ee=yi instanceof Map?yi:Object.entries(yi);for(const[ba,Hi]of Ee){let Ki=Hi;u(Hi)&&(Ki=Qr(Hi)),fn.push(ue+ba+"="+encodeURIComponent(Ki))}}catch(ba){throw fn.push(ue+"type="+encodeURIComponent("_badmap")),ba}}catch{F&&F(yi)}}if(mt){Ee=fn.join("&");break e}}Ee=void 0}return v=v.i.splice(0,P),N.G=v,Ee}function om(v){if(!v.g&&!v.v){v.Y=1;var N=v.Da;M||E(),q||(M(),q=!0),j.add(N,v),v.A=0}}function _l(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=fe(m(v.Da,v),um(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,lm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=fe(m(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Yt(10),so(this),lm(this))};function Cd(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function lm(v){v.g=new _t(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var N=_n(v.na);wt(N,"RID","rpc"),wt(N,"SID",v.M),wt(N,"AID",v.K),wt(N,"CI",v.F?"0":"1"),!v.F&&v.ia&&wt(N,"TO",v.ia),wt(N,"TYPE","xmlhttp"),xl(v,N),v.u&&v.o&&vl(N,v.u,v.o),v.O&&(v.g.H=v.O);var P=v.g;v=v.ba,P.M=1,P.A=ml(_n(N)),P.u=null,P.R=!0,Sc(P,v)}t.Va=function(){this.C!=null&&(this.C=null,so(this),_l(this),Yt(19))};function Pc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function cm(v,N){var P=null;if(v.g==N){Pc(v),Cd(v),v.g=null;var F=2}else if(fa(v.h,N))P=N.G,yd(v.h,N),F=1;else return;if(v.I!=0){if(N.o)if(F==1){P=N.u?N.u.length:0,N=Date.now()-N.F;var te=v.D;F=sa(),Rt(F,new H(F,P)),va(v)}else om(v);else if(te=N.m,te==3||te==0&&N.X>0||!(F==1&&Ic(v,N)||F==2&&_l(v)))switch(P&&P.length>0&&(N=v.h,N.i=N.i.concat(P)),te){case 1:ya(v,5);break;case 4:ya(v,10);break;case 3:ya(v,6);break;default:ya(v,2)}}}function um(v,N){let P=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(P*=2),P*N}function ya(v,N){if(v.j.info("Error code "+N),N==2){var P=m(v.bb,v),F=v.Ua;const te=!F;F=new Jr(F||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fn(F,"https"),ml(F),te?$i(F.toString(),P):Ed(F.toString(),P)}else Yt(2);v.I=0,v.l&&v.l.pa(N),dm(v),Oc(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function dm(v){if(v.I=0,v.ja=[],v.l){const N=bd(v.h);(N.length!=0||v.i.length!=0)&&(T(v.ja,N),T(v.ja,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.oa()}}function fm(v,N,P){var F=P instanceof Jr?_n(P):new Jr(P);if(F.g!="")N&&(F.g=N+"."+F.g),Js(F,F.u);else{var te=l.location;F=te.protocol,N=N?N+"."+te.hostname:te.hostname,te=+te.port;const ue=new Jr(null);F&&Fn(ue,F),N&&(ue.g=N),te&&Js(ue,te),P&&(ue.h=P),F=ue}return P=v.G,N=v.wa,P&&N&&wt(F,P,N),wt(F,"VER",v.ka),xl(v,F),F}function hm(v,N,P){if(N&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=v.Aa&&!v.ma?new Nt(new ma({ab:P})):new Nt(v.ma),N.Fa(v.L),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mm(){}t=mm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oo(){}oo.prototype.g=function(v,N){return new Tr(v,N)};function Tr(v,N){Qe.call(this),this.g=new ao(N),this.l=v,this.h=N&&N.messageUrlParams||null,v=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(v?v["X-WebChannel-Content-Type"]=N.messageContentType:v={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(v?v["X-WebChannel-Client-Profile"]=N.sa:v={"X-WebChannel-Client-Profile":N.sa}),this.g.U=v,(v=N&&N.Qb)&&!z(v)&&(this.g.u=v),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!z(N)&&(this.g.G=N,v=this.h,v!==null&&N in v&&(v=this.h,N in v&&delete v[N])),this.j=new Za(this)}g(Tr,Qe),Tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tr.prototype.close=function(){Nd(this.g)},Tr.prototype.o=function(v){var N=this.g;if(typeof v=="string"){var P={};P.__data__=v,v=P}else this.v&&(P={},P.__data__=Qr(v),v=P);N.i.push(new xn(N.Ya++,v)),N.I==3&&va(N)},Tr.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,Tr.Z.N.call(this)};function pm(v){dn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var N=v.__sm__;if(N){e:{for(const P in N){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,N=N!==null&&v in N?N[v]:void 0),this.data=N}else this.data=v}g(pm,dn);function gm(){$n.call(this),this.status=1}g(gm,$n);function Za(v){this.g=v}g(Za,mm),Za.prototype.ra=function(){Rt(this.g,"a")},Za.prototype.qa=function(v){Rt(this.g,new pm(v))},Za.prototype.pa=function(v){Rt(this.g,new gm)},Za.prototype.oa=function(){Rt(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,Tr.prototype.send=Tr.prototype.o,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,SM=function(){return new oo},wM=function(){return sa()},_M=qt,X1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Yp=Ar,fl.COMPLETE="complete",xM=fl,Ya.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Sf=Ya,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,bM=Nt}).apply(typeof _p<"u"?_p:typeof self<"u"?self:typeof window<"u"?window:{});const Tj="@firebase/firestore",Nj="4.9.3";let vr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let Zu="12.7.0";const ac=new gw("@firebase/firestore");function fu(){return ac.logLevel}function Ce(t,...e){if(ac.logLevel<=it.DEBUG){const n=e.map(Nw);ac.debug(`Firestore (${Zu}): ${t}`,...n)}}function Cs(t,...e){if(ac.logLevel<=it.ERROR){const n=e.map(Nw);ac.error(`Firestore (${Zu}): ${t}`,...n)}}function Iu(t,...e){if(ac.logLevel<=it.WARN){const n=e.map(Nw);ac.warn(`Firestore (${Zu}): ${t}`,...n)}}function Nw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,EM(t,r,n)}function EM(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cs(r),new Error(r)}function yt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||EM(e,i,r)}function Ge(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ws{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class AM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class J7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class eB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tB{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){yt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string",31837,{l:r}),new AM(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class nB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){yt(this.o===void 0,3512);const r=s=>{s.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(yt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jj(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function Q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return ex(i)===ex(s)?at(i,s):ex(i)?1:-1}return at(t.length,e.length)}const sB=55296,oB=57343;function ex(t){const e=t.charCodeAt(0);return e>=sB&&e<=oB}function Pu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}const Cj="__name__";class Aa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Aa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Aa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Aa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=Aa.isNumericId(e),i=Aa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Aa.extractNumericId(e).compare(Aa.extractNumericId(n)):Q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ho.fromString(e.substring(4,e.length-2))}}class Ut extends Aa{construct(e,n,r){return new Ut(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Ut(n)}static emptyPath(){return new Ut([])}}const lB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends Aa{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return lB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cj}static keyField(){return new fr([Cj])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new Ae(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Ut.fromString(e))}static fromName(e){return new De(Ut.fromString(e).popFirst(5))}static empty(){return new De(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Ut(e.slice()))}}function TM(t,e,n){if(!n)throw new Ae(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cB(t,e,n,r){if(e===!0&&r===!0)throw new Ae(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Oj(t){if(!De.isDocumentKey(t))throw new Ae(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ij(t){if(De.isDocumentKey(t))throw new Ae(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ue(12329,{type:typeof t})}function Or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nv(t);throw new Ae(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function uB(t,e){if(e<=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gh(t,e){if(!NM(t))throw new Ae(ge.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ae(ge.INVALID_ARGUMENT,n);return!0}const Pj=-62135596800,Rj=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Rj);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pj)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rj}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:Cn("string",Mt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Mt(0,0))}static max(){return new Fe(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vf=-1;function dB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Fe.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Yo(i,De.empty(),e)}function fB(t){return new Yo(t.readTime,t.key,Vf)}class Yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yo(Fe.min(),De.empty(),Vf)}static max(){return new Yo(Fe.max(),De.empty(),Vf)}}function hB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const mB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ju(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==mB)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const m=d;n(e[m]).next((p=>{l[m]=p,++u,u===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function gB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}class jv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jv.ce=-1;const Cw=-1;function Cv(t){return t==null}function mg(t){return t===0&&1/t==-1/0}function vB(t){return typeof t=="number"&&Number.isInteger(t)&&!mg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const jM="";function yB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kj(e)),e=bB(t.get(n),e);return kj(e)}function bB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case jM:n+="";break;default:n+=s}}return n}function kj(t){return t+jM+""}function Mj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function al(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class en{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new en(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wp(this.root,e,this.comparator,!0)}}class wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dj(this.data.getIterator())}getIteratorFrom(e){return new Dj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class Dj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Mn(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class OM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OM("Invalid base64 string: "+s):s}})(e);return new hr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new hr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hr.EMPTY_BYTE_STRING=new hr("");const xB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(yt(!!t,39018),typeof t=="string"){let e=0;const n=xB.exec(t);if(yt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?hr.fromBase64String(t):hr.fromUint8Array(t)}const IM="server_timestamp",PM="__type__",RM="__previous_value__",kM="__local_write_time__";function Ow(t){return(t?.mapValue?.fields||{})[PM]?.stringValue===IM}function Ov(t){const e=t.mapValue.fields[RM];return Ow(e)?Ov(e):e}function Uf(t){const e=Wo(t.mapValue.fields[kM].timestampValue);return new Mt(e.seconds,e.nanos)}class _B{constructor(e,n,r,i,s,l,u,d,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=p}}const pg="(default)";class Bf{constructor(e,n){this.projectId=e,this.database=n||pg}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database===pg}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}const MM="__type__",wB="__max__",Sp={mapValue:{}},DM="__vector__",gg="value";function Qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ow(t)?4:EB(t)?9007199254740991:SB(t)?10:11:Ue(28295,{value:t})}function Ma(t,e){if(t===e)return!0;const n=Qo(t);if(n!==Qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uf(t).isEqual(Uf(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Wo(i.timestampValue),u=Wo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Xo(i.bytesValue).isEqual(Xo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return gn(i.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return gn(i.integerValue)===gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=gn(i.doubleValue),u=gn(s.doubleValue);return l===u?mg(l)===mg(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Pu(t.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Mj(l)!==Mj(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ma(l[d],u[d])))return!1;return!0})(t,e);default:return Ue(52216,{left:t})}}function $f(t,e){return(t.values||[]).find((n=>Ma(n,e)))!==void 0}function Ru(t,e){if(t===e)return 0;const n=Qo(t),r=Qo(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=gn(s.integerValue||s.doubleValue),d=gn(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return Lj(t.timestampValue,e.timestampValue);case 4:return Lj(Uf(t),Uf(e));case 5:return Q1(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=Xo(s),d=Xo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let m=0;m<u.length&&m<d.length;m++){const p=at(u[m],d[m]);if(p!==0)return p}return at(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=at(gn(s.latitude),gn(l.latitude));return u!==0?u:at(gn(s.longitude),gn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zj(t.arrayValue,e.arrayValue);case 10:return(function(s,l){const u=s.fields||{},d=l.fields||{},m=u[gg]?.arrayValue,p=d[gg]?.arrayValue,g=at(m?.values?.length||0,p?.values?.length||0);return g!==0?g:zj(m,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Sp.mapValue&&l===Sp.mapValue)return 0;if(s===Sp.mapValue)return 1;if(l===Sp.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),m=l.fields||{},p=Object.keys(m);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const b=Q1(d[g],p[g]);if(b!==0)return b;const w=Ru(u[d[g]],m[p[g]]);if(w!==0)return w}return at(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Ue(23264,{he:n})}}function Lj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Wo(t),r=Wo(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function zj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ru(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function ku(t){return Z1(t)}function Z1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return De.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Z1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Z1(n.fields[l])}`;return i+"}"})(t.mapValue):Ue(61005,{value:t})}function Wp(t){switch(Qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ov(t);return e?16+Wp(e):16;case 5:return 2*t.stringValue.length;case 6:return Xo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Wp(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return al(r.fields,((s,l)=>{i+=s.length+Wp(l)})),i})(t.mapValue);default:throw Ue(13486,{value:t})}}function Vj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function J1(t){return!!t&&"integerValue"in t}function Iw(t){return!!t&&"arrayValue"in t}function Uj(t){return!!t&&"nullValue"in t}function Bj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xp(t){return!!t&&"mapValue"in t}function SB(t){return(t?.mapValue?.fields||{})[MM]?.stringValue===DM}function If(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return al(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=If(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=If(t.arrayValue.values[n]);return e}return{...t}}function EB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===wB}class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=If(n)}setAll(e){let n=fr.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=If(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){al(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Kr(If(this.value))}}function LM(t){const e=[];return al(t.fields,((n,r)=>{const i=new fr([n]);if(Xp(r)){const s=LM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new ui(e)}class yr{constructor(e,n,r,i,s,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new yr(e,0,Fe.min(),Fe.min(),Fe.min(),Kr.empty(),0)}static newFoundDocument(e,n,r,i){return new yr(e,1,n,Fe.min(),r,i,0)}static newNoDocument(e,n){return new yr(e,2,n,Fe.min(),Fe.min(),Kr.empty(),0)}static newUnknownDocument(e,n){return new yr(e,3,n,Fe.min(),Fe.min(),Kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vg{constructor(e,n){this.position=e,this.inclusive=n}}function $j(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Ru(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ma(t.position[n],e.position[n]))return!1;return!0}class qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function AB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class zM{}class jn extends zM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NB(e,n,r):n==="array-contains"?new OB(e,r):n==="in"?new IB(e,r):n==="not-in"?new PB(e,r):n==="array-contains-any"?new RB(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jB(e,r):new CB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ru(n,this.value)):n!==null&&Qo(this.value)===Qo(n)&&this.matchesComparison(Ru(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class na extends zM{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new na(e,n)}matches(e){return VM(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VM(t){return t.op==="and"}function UM(t){return TB(t)&&VM(t)}function TB(t){for(const e of t.filters)if(e instanceof na)return!1;return!0}function e_(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+ku(t.value);if(UM(t))return t.filters.map((e=>e_(e))).join(",");{const e=t.filters.map((n=>e_(n))).join(",");return`${t.op}(${e})`}}function BM(t,e){return t instanceof jn?(function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&Ma(r.value,i.value)})(t,e):t instanceof na?(function(r,i){return i instanceof na&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,u)=>s&&BM(l,i.filters[u])),!0):!1})(t,e):void Ue(19439)}function $M(t){return t instanceof jn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ku(n.value)}`})(t):t instanceof na?(function(n){return n.op.toString()+" {"+n.getFilters().map($M).join(" ,")+"}"})(t):"Filter"}class NB extends jn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class jB extends jn{constructor(e,n){super(e,"in",n),this.keys=qM("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CB extends jn{constructor(e,n){super(e,"not-in",n),this.keys=qM("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qM(t,e){return(e.arrayValue?.values||[]).map((n=>De.fromName(n.referenceValue)))}class OB extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iw(n)&&$f(n.arrayValue,this.value)}}class IB extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$f(this.value.arrayValue,n)}}class PB extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$f(this.value.arrayValue,n)}}class RB extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iw(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>$f(this.value.arrayValue,r)))}}class kB{constructor(e,n=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.Te=null}}function Fj(t,e=null,n=[],r=[],i=null,s=null,l=null){return new kB(t,e,n,r,i,s,l)}function Pw(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>e_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Cv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ku(r))).join(",")),e.Te=n}return e.Te}function Rw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qj(t.startAt,e.startAt)&&qj(t.endAt,e.endAt)}function t_(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class td{constructor(e,n=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MB(t,e,n,r,i,s,l,u){return new td(t,e,n,r,i,s,l,u)}function Iv(t){return new td(t)}function Hj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FM(t){return t.collectionGroup!==null}function Pf(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mn(fr.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new qf(s,r))})),n.has(fr.keyField().canonicalString())||e.Ie.push(new qf(fr.keyField(),r))}return e.Ie}function Oa(t){const e=Ge(t);return e.Ee||(e.Ee=DB(e,Pf(t))),e.Ee}function DB(t,e){if(t.limitType==="F")return Fj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new qf(i.field,s)}));const n=t.endAt?new vg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vg(t.startAt.position,t.startAt.inclusive):null;return Fj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function n_(t,e){const n=t.filters.concat([e]);return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yg(t,e,n){return new td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pv(t,e){return Rw(Oa(t),Oa(e))&&t.limitType===e.limitType}function HM(t){return`${Pw(Oa(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>$M(i))).join(", ")}]`),Cv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>ku(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>ku(i))).join(",")),`Target(${r})`})(Oa(t))}; limitType=${t.limitType})`}function Rv(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):De.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Pf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,d){const m=$j(l,u,d);return l.inclusive?m<=0:m<0})(r.startAt,Pf(r),i)||r.endAt&&!(function(l,u,d){const m=$j(l,u,d);return l.inclusive?m>=0:m>0})(r.endAt,Pf(r),i))})(t,e)}function LB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KM(t){return(e,n)=>{let r=!1;for(const i of Pf(t)){const s=zB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zB(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):(function(s,l,u){const d=l.data.field(s),m=u.data.field(s);return d!==null&&m!==null?Ru(d,m):Ue(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:t.dir})}}class vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){al(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return CM(this.inner)}size(){return this.innerSize}}const VB=new en(De.comparator);function Os(){return VB}const GM=new en(De.comparator);function Ef(...t){let e=GM;for(const n of t)e=e.insert(n.key,n);return e}function YM(t){let e=GM;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function $l(){return Rf()}function WM(){return Rf()}function Rf(){return new vc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const UB=new en(De.comparator),BB=new Mn(De.comparator);function st(...t){let e=BB;for(const n of t)e=e.add(n);return e}const $B=new Mn(at);function qB(){return $B}function kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mg(e)?"-0":e}}function XM(t){return{integerValue:""+t}}function FB(t,e){return vB(e)?XM(e):kw(t,e)}class kv{constructor(){this._=void 0}}function HB(t,e,n){return t instanceof Ff?(function(i,s){const l={fields:{[PM]:{stringValue:IM},[kM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ow(s)&&(s=Ov(s)),s&&(l.fields[RM]=s),{mapValue:l}})(n,e):t instanceof Hf?ZM(t,e):t instanceof Kf?JM(t,e):(function(i,s){const l=QM(i,s),u=Kj(l)+Kj(i.Ae);return J1(l)&&J1(i.Ae)?XM(u):kw(i.serializer,u)})(t,e)}function KB(t,e,n){return t instanceof Hf?ZM(t,e):t instanceof Kf?JM(t,e):n}function QM(t,e){return t instanceof bg?(function(r){return J1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Ff extends kv{}class Hf extends kv{constructor(e){super(),this.elements=e}}function ZM(t,e){const n=eD(e);for(const r of t.elements)n.some((i=>Ma(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Kf extends kv{constructor(e){super(),this.elements=e}}function JM(t,e){let n=eD(e);for(const r of t.elements)n=n.filter((i=>!Ma(i,r)));return{arrayValue:{values:n}}}class bg extends kv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kj(t){return gn(t.integerValue||t.doubleValue)}function eD(t){return Iw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class GB{constructor(e,n){this.field=e,this.transform=n}}function YB(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof Kf&&i instanceof Kf?Pu(r.elements,i.elements,Ma):r instanceof bg&&i instanceof bg?Ma(r.Ae,i.Ae):r instanceof Ff&&i instanceof Ff})(t.transform,e.transform)}class WB{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mv{}function tD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dv(t.key,Ir.none()):new vh(t.key,t.data,Ir.none());{const n=t.data,r=Kr.empty();let i=new Mn(fr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new sl(t.key,r,new ui(i.toArray()),Ir.none())}}function XB(t,e,n){t instanceof vh?(function(i,s,l){const u=i.value.clone(),d=Yj(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof sl?(function(i,s,l){if(!Qp(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=Yj(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(nD(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function kf(t,e,n,r){return t instanceof vh?(function(s,l,u,d){if(!Qp(s.precondition,l))return u;const m=s.value.clone(),p=Wj(s.fieldTransforms,d,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof sl?(function(s,l,u,d){if(!Qp(s.precondition,l))return u;const m=Wj(s.fieldTransforms,d,l),p=l.data;return p.setAll(nD(s)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,l,u){return Qp(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function QB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QM(r.transform,i||null);s!=null&&(n===null&&(n=Kr.empty()),n.set(r.field,s))}return n||null}function Gj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pu(r,i,((s,l)=>YB(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vh extends Mv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sl extends Mv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nD(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Yj(t,e,n){const r=new Map;yt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,KB(l,u,n[i]))}return r}function Wj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,HB(s,l,e))}return r}class Dv extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZB extends Mv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WM();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=n.has(i.key)?null:u;const d=tD(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),st())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((n,r)=>Gj(n,r)))&&Pu(this.baseMutations,e.baseMutations,((n,r)=>Gj(n,r)))}}class Mw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return UB})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Mw(e,n,r,i)}}class e${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class t${constructor(e,n){this.count=e,this.unchangedNames=n}}var Tn,ct;function n$(t){switch(t){case ge.OK:return Ue(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Ue(15467,{code:t})}}function rD(t){if(t===void 0)return Cs("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Tn.OK:return ge.OK;case Tn.CANCELLED:return ge.CANCELLED;case Tn.UNKNOWN:return ge.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return ge.INTERNAL;case Tn.UNAVAILABLE:return ge.UNAVAILABLE;case Tn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Tn.NOT_FOUND:return ge.NOT_FOUND;case Tn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Tn.ABORTED:return ge.ABORTED;case Tn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Tn.DATA_LOSS:return ge.DATA_LOSS;default:return Ue(39323,{code:t})}}(ct=Tn||(Tn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";function r$(){return new TextEncoder}const i$=new Ho([4294967295,4294967295],0);function Xj(t){const e=r$().encode(t),n=new yM;return n.update(e),new Uint8Array(n.digest())}function Qj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ho([n,r],0),new Ho([i,s],0)]}class Dw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Af(`Invalid padding: ${n}`);if(r<0)throw new Af(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Af(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Af(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ho.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ho.fromNumber(r)));return i.compare(i$)===1&&(i=new Ho([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xj(e),[r,i]=Qj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new Dw(s,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=Xj(e),[r,i]=Qj(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Af extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lv(Fe.min(),i,new en(at),Os(),st())}}class yh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,st(),st(),st())}}class Zp{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class iD{constructor(e,n){this.targetId=e,this.Ce=n}}class aD{constructor(e,n,r=hr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zj{constructor(){this.ve=0,this.Fe=Jj(),this.Me=hr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=st(),n=st(),r=st();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue(38017,{changeType:s})}})),new yh(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Jj()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a${constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=Ep(),this.He=Ep(),this.Ye=new en(at)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(t_(s))if(r===0){const l=new De(s.path);this.et(n,l,yr.newNoDocument(l,Fe.min()))}else yt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),d=u?this.ct(u,e,l):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,u;try{l=Xo(r).toUint8Array()}catch(d){if(d instanceof OM)return Iu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Dw(l,i,s)}catch(d){return Iu(d instanceof Af?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const u=this.ot(l);if(u){if(s.current&&t_(u.target)){const d=new De(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,yr.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=st();this.He.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new Lv(e,n,this.Ye,this.je,r);return this.je=Os(),this.Je=Ep(),this.He=Ep(),this.Ye=new en(at),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Zj,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(at),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(at),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zj),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ep(){return new en(De.comparator)}function Jj(){return new en(De.comparator)}const s$={asc:"ASCENDING",desc:"DESCENDING"},o$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l$={and:"AND",or:"OR"};class c${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function r_(t,e){return t.useProto3Json||Cv(e)?e:{value:e}}function xg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u$(t,e){return xg(t,e.toTimestamp())}function Ia(t){return yt(!!t,49232),Fe.fromTimestamp((function(n){const r=Wo(n);return new Mt(r.seconds,r.nanos)})(t))}function Lw(t,e){return i_(t,e).canonicalString()}function i_(t,e){const n=(function(i){return new Ut(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function oD(t){const e=Ut.fromString(t);return yt(fD(e),10190,{key:e.toString()}),e}function a_(t,e){return Lw(t.databaseId,e.path)}function tx(t,e){const n=oD(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(cD(n))}function lD(t,e){return Lw(t.databaseId,e)}function d$(t){const e=oD(t);return e.length===4?Ut.emptyPath():cD(e)}function s_(t){return new Ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cD(t){return yt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function eC(t,e,n){return{name:a_(t,e),fields:n.value.mapValue.fields}}function f$(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ue(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(m,p){return m.useProto3Json?(yt(p===void 0||typeof p=="string",58123),hr.fromBase64String(p||"")):(yt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),hr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const p=m.code===void 0?ge.UNKNOWN:rD(m.code);return new Ae(p,m.message||"")})(l);n=new aD(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tx(t,r.document.name),s=Ia(r.document.updateTime),l=r.document.createTime?Ia(r.document.createTime):Fe.min(),u=new Kr({mapValue:{fields:r.document.fields}}),d=yr.newFoundDocument(i,s,l,u),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Zp(m,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tx(t,r.document),s=r.readTime?Ia(r.readTime):Fe.min(),l=yr.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Zp([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tx(t,r.document),s=r.removedTargetIds||[];n=new Zp([],s,i,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new t$(i,s),u=r.targetId;n=new iD(u,l)}}return n}function h$(t,e){let n;if(e instanceof vh)n={update:eC(t,e.key,e.value)};else if(e instanceof Dv)n={delete:a_(t,e.key)};else if(e instanceof sl)n={update:eC(t,e.key,e.data),updateMask:w$(e.fieldMask)};else{if(!(e instanceof ZB))return Ue(16599,{Vt:e.type});n={verify:a_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const u=l.transform;if(u instanceof Ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ue(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:u$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ue(27497)})(t,e.precondition)),n}function m$(t,e){return t&&t.length>0?(yt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ia(i.updateTime):Ia(s);return l.isEqual(Fe.min())&&(l=Ia(s)),new WB(l,i.transformResults||[])})(n,e)))):[]}function p$(t,e){return{documents:[lD(t,e.path)]}}function g$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lD(t,i);const s=(function(m){if(m.length!==0)return dD(na.create(m,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(m){if(m.length!==0)return m.map((p=>(function(b){return{field:mu(b.field),direction:b$(b.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=r_(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function v$(t){let e=d$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(g){const b=uD(g);return b instanceof na&&UM(b)?b.getFilters():[b]})(n.where));let l=[];n.orderBy&&(l=(function(g){return g.map((b=>(function(T){return new qf(pu(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let b;return b=typeof g=="object"?g.value:g,Cv(b)?null:b})(n.limit));let d=null;n.startAt&&(d=(function(g){const b=!!g.before,w=g.values||[];return new vg(w,b)})(n.startAt));let m=null;return n.endAt&&(m=(function(g){const b=!g.before,w=g.values||[];return new vg(w,b)})(n.endAt)),MB(e,i,l,s,u,"F",d,m)}function y$(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uD(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pu(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pu(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pu(n.unaryFilter.field);return jn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=pu(n.unaryFilter.field);return jn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jn.create(pu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return na.create(n.compositeFilter.filters.map((r=>uD(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(n.compositeFilter.op))})(t):Ue(30097,{filter:t})}function b$(t){return s$[t]}function x$(t){return o$[t]}function _$(t){return l$[t]}function mu(t){return{fieldPath:t.canonicalString()}}function pu(t){return fr.fromServerFormat(t.fieldPath)}function dD(t){return t instanceof jn?(function(n){if(n.op==="=="){if(Bj(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NAN"}};if(Uj(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bj(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NAN"}};if(Uj(n.value))return{unaryFilter:{field:mu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mu(n.field),op:x$(n.op),value:n.value}}})(t):t instanceof na?(function(n){const r=n.getFilters().map((i=>dD(i)));return r.length===1?r[0]:{compositeFilter:{op:_$(n.op),filters:r}}})(t):Ue(54877,{filter:t})}function w$(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function fD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Uo{constructor(e,n,r,i,s=Fe.min(),l=Fe.min(),u=hr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class S${constructor(e){this.yt=e}}function E$(t){const e=v$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yg(e,e.limit,"L"):e}class A${constructor(){this.Cn=new T$}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(Yo.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class T${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Ut.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Ut.comparator)).toArray()}}const tC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hD=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(hD,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);class Mu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mu(0)}static cr(){return new Mu(-1)}}const nC="LruGarbageCollector",N$=1048576;function rC([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class j${constructor(e){this.Ir=e,this.buffer=new Mn(rC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(nC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?Ce(nC,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Vr(3e5)}))}}class O${constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(jv.ce);const r=new j$(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(tC)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tC):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,u,d,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(m=Date.now(),fu()<=it.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(m-d)+`ms
Total Duration: ${m-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function I$(t,e){return new O$(t,e)}class P${constructor(){this.changes=new vc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class R${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class k${constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&kf(r.mutation,i,ui.empty(),Mt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,st()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=st()){const i=$l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=Ef();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=$l();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,st())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let s=Os();const l=Rf(),u=(function(){return Rf()})();return n.forEach(((d,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof sl)?s=s.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),kf(p.mutation,m,p.mutation.getFieldMask(),Mt.now())):l.set(m.key,ui.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((m,p)=>l.set(m,p))),n.forEach(((m,p)=>u.set(m,new R$(p,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Rf();let i=new en(((l,u)=>l-u)),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let p=r.get(d)||ui.empty();p=u.applyToLocalView(m,p),r.set(d,p);const g=(i.get(u.batchId)||st()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),m=d.key,p=d.value,g=WM();p.forEach((b=>{if(!s.has(b)){const w=tD(n.get(b),r.get(b));w!==null&&g.set(b,w),s=s.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,g))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve($l());let u=Vf,d=s;return l.next((m=>be.forEach(m,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((b=>{d=d.insert(p,b)}))))).next((()=>this.populateOverlays(e,m,s))).next((()=>this.computeViews(e,d,m,st()))).next((p=>({batchId:u,changes:YM(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next((r=>{let i=Ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Ef();return this.indexManager.getCollectionParents(e,s).next((u=>be.forEach(u,(d=>{const m=(function(g,b){return new td(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((p=>{p.forEach(((g,b)=>{l=l.insert(g,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,yr.newInvalidDocument(p)))}));let u=Ef();return l.forEach(((d,m)=>{const p=s.get(d);p!==void 0&&kf(p.mutation,m,ui.empty(),Mt.now()),Rv(n,m)&&(u=u.insert(d,m))})),u}))}}class M${constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ia(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:E$(i.bundledQuery),readTime:Ia(i.readTime)}})(n)),be.resolve()}}class D${constructor(){this.overlays=new en(De.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$l();return be.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=$l(),s=n.length+1,l=new De(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new en(((m,p)=>m-p));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=s.get(m.largestBatchId);p===null&&(p=$l(),s=s.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const u=$l(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,p)=>u.set(m,p))),!(u.size()>=i)););return be.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new e$(n,r));let s=this.qr.get(n);s===void 0&&(s=st(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}class L${constructor(){this.sessionToken=hr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}class zw{constructor(){this.Qr=new Mn(Wn.$r),this.Ur=new Mn(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new De(new Ut([])),r=new Wn(n,e),i=new Wn(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new De(new Ut([])),r=new Wn(n,e),i=new Wn(n,e+1);let s=st();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return De.comparator(e.key,n.key)||at(e.Yr,n.Yr)}static Kr(e,n){return at(e.Yr,n.Yr)||De.comparator(e.key,n.key)}}class z${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Wn.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new JB(s,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Wn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?Cw:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);s.push(u)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(at);return n.forEach((i=>{const s=new Wn(i,0),l=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(u=>{r=r.add(u.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;De.isDocumentKey(s)||(s=s.child(""));const l=new Wn(new De(s),0);let u=new Mn(at);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(d.Yr)),!0)}),l),be.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){yt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(i=>{const s=new Wn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class V${constructor(e){this.ri=e,this.docs=(function(){return new en(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(n))}getEntries(e,n){let r=Os();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yr.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Os();const l=n.path,u=new De(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:p}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||hB(fB(p),r)<=0||(i.has(p.key)||Rv(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ue(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new U$(this)}getSize(e){return be.resolve(this.size)}}class U$ extends P${constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class B${constructor(e){this.persistence=e,this.si=new vc((n=>Pw(n)),Rw),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new zw,this.targetCount=0,this.ai=Mu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Mu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),be.waitFor(s).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}class mD{constructor(e,n){this.ui={},this.overlays={},this.ci=new jv(0),this.li=!1,this.li=!0,this.hi=new L$,this.referenceDelegate=e(this),this.Pi=new B$(this),this.indexManager=new A$,this.remoteDocumentCache=(function(i){return new V$(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new S$(n),this.Ii=new M$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new z$(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new $$(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class $$ extends pB{constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Ri=new zw,this.Vi=null}static mi(e){return new Vw(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const i=De.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Fe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _g{constructor(e,n){this.persistence=e,this.pi=new vc((r=>yB(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=I$(this,n)}static mi(e,n){return new _g(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,s.removeEntry(l,Fe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wp(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Uw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uw(e,n.fromCache,r,i)}}class q${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class F${constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I9()?8:gB(_r())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new q$;return this.Ss(e,n,l).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(fu()<=it.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(fu()<=it.DEBUG&&Ce("QueryEngine","Query:",hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(fu()<=it.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oa(n))):be.resolve())}ys(e,n){if(Hj(n))return be.resolve(null);let r=Oa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=yg(n,null,"F"),r=Oa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=st(...s);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((d=>{const m=this.Ds(n,u);return this.Cs(n,m,l,d.readTime)?this.ys(e,yg(n,null,"F")):this.vs(e,m,n,d)}))))})))))}ws(e,n,r,i){return Hj(n)||i.isEqual(Fe.min())?be.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?be.resolve(null):(fu()<=it.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hu(n)),this.vs(e,l,n,dB(i,Vf)).next((u=>u)))}))}Ds(e,n){let r=new Mn(KM(e));return n.forEach(((i,s)=>{Rv(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return fu()<=it.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",hu(n)),this.ps.getDocumentsMatchingQuery(e,n,Yo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}const Bw="LocalStore",H$=3e8;class K${constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new en(at),this.xs=new vc((s=>Pw(s)),Rw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k$(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function G$(t,e,n,r){return new K$(t,e,n,r)}async function pD(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],u=[];let d=st();for(const m of i){l.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}for(const m of s){u.push(m.batchId);for(const p of m.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function Y$(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,m,p){const g=m.batch,b=g.keys();let w=be.resolve();return b.forEach((T=>{w=w.next((()=>p.getEntry(d,T))).next((S=>{const A=m.docVersions.get(T);yt(A!==null,48541),S.version.compareTo(A)<0&&(g.applyToRemoteDocument(S,m),S.isValidDocument()&&(S.setReadTime(m.commitVersion),p.addEntry(S)))}))})),w.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let d=st();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(d=d.add(u.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function gD(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function W$(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((p,g)=>{const b=i.get(g);if(!b)return;u.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,g))));let w=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(hr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),i=i.insert(g,w),(function(S,A,I){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=H$?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(b,w,p)&&u.push(n.Pi.updateTargetData(s,w))}));let d=Os(),m=st();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(X$(s,l,e.documentUpdates).next((p=>{d=p.ks,m=p.qs}))),!r.isEqual(Fe.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(p)}return be.waitFor(u).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,m))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function X$(t,e,n){let r=st(),i=st();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Os();return n.forEach(((u,d)=>{const m=s.get(u);d.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Fe.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):Ce(Bw,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function Q$(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Z$(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,be.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Uo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function o_(t,e,n){const r=Ge(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ed(l))throw l;Ce(Bw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function iC(t,e,n){const r=Ge(t);let i=Fe.min(),s=st();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,m,p){const g=Ge(d),b=g.xs.get(p);return b!==void 0?be.resolve(g.Ms.get(b)):g.Pi.getTargetData(m,p)})(r,l,Oa(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Fe.min(),n?s:st()))).next((u=>(J$(r,LB(e),u),{documents:u,Qs:s})))))}function J$(t,e,n){let r=t.Os.get(e)||Fe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class aC{constructor(){this.activeTargetIds=qB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eq{constructor(){this.Mo=new aC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tq{Oo(e){}shutdown(){}}const sC="ConnectivityMonitor";class oC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(sC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(sC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ap=null;function l_(){return Ap===null?Ap=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ap++,"0x"+Ap.toString(16)}const nx="RestConnection",nq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===pg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=l_(),u=this.zo(e,n.toUriEncodedString());Ce(nx,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:m}=new URL(u),p=Wu(m);return this.Jo(e,u,d,r,p).then((g=>(Ce(nx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw Iu(nx,`RPC '${e}' ${l} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=nq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class iq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pr="WebChannelConnection";class aq extends rq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=l_();return new Promise(((u,d)=>{const m=new bM;m.setWithCredentials(!0),m.listenOnce(xM.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Yp.NO_ERROR:const g=m.getResponseJson();Ce(pr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),u(g);break;case Yp.TIMEOUT:Ce(pr,`RPC '${e}' ${l} timed out`),d(new Ae(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Yp.HTTP_ERROR:const b=m.getStatus();if(Ce(pr,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const T=w?.error;if(T&&T.status&&T.message){const S=(function(I){const L=I.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(L)>=0?L:ge.UNKNOWN})(T.status);d(new Ae(S,T.message))}else d(new Ae(ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ae(ge.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ce(pr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ce(pr,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=l_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=SM(),u=wM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=s.join("");Ce(pr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);this.I_(g);let b=!1,w=!1;const T=new iq({Yo:A=>{w?Ce(pr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(b||(Ce(pr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),b=!0),Ce(pr,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Zo:()=>g.close()}),S=(A,I,L)=>{A.listen(I,(k=>{try{L(k)}catch(B){setTimeout((()=>{throw B}),0)}}))};return S(g,Sf.EventType.OPEN,(()=>{w||(Ce(pr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(g,Sf.EventType.CLOSE,(()=>{w||(w=!0,Ce(pr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(g))})),S(g,Sf.EventType.ERROR,(A=>{w||(w=!0,Iu(pr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new Ae(ge.UNAVAILABLE,"The operation could not be completed")))})),S(g,Sf.EventType.MESSAGE,(A=>{if(!w){const I=A.data[0];yt(!!I,16349);const L=I,k=L?.error||L[0]?.error;if(k){Ce(pr,`RPC '${e}' stream ${i} received error:`,k);const B=k.status;let M=(function(E){const O=Tn[E];if(O!==void 0)return rD(O)})(B),q=k.message;M===void 0&&(M=ge.INTERNAL,q="Unknown error status: "+B+" with message "+k.message),w=!0,T.a_(new Ae(M,q)),g.close()}else Ce(pr,`RPC '${e}' stream ${i} received:`,I),T.u_(I)}})),S(u,_M.STAT_EVENT,(A=>{A.stat===X1.PROXY?Ce(pr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===X1.NOPROXY&&Ce(pr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rx(){return typeof document<"u"?document:null}function zv(t){return new c$(t,!0)}class vD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const lC="PersistentStream";class yD{constructor(e,n,r,i,s,l,u,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vD(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(lC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(lC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sq extends yD{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f$(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Fe.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?Ia(l.readTime):Fe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=s_(this.serializer),n.addTarget=(function(s,l){let u;const d=l.target;if(u=t_(d)?{documents:p$(s,d)}:{query:g$(s,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=sD(s,l.resumeToken);const m=r_(s,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=xg(s,l.snapshotVersion.toTimestamp());const m=r_(s,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=y$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=s_(this.serializer),n.removeTarget=e,this.q_(n)}}class oq extends yD{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m$(e.writeResults,e.commitTime),r=Ia(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=s_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>h$(this.serializer,r)))};this.q_(n)}}class lq{}class cq extends lq{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,i_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ge.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,i_(n,r),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cs(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sc="RemoteStore";class dq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{yc(this)&&(Ce(sc,"Restarting streams for network reachability change."),await(async function(d){const m=Ge(d);m.Ea.add(4),await bh(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Vv(m)})(this))}))})),this.Ra=new uq(r,i)}}async function Vv(t){if(yc(t))for(const e of t.da)await e(!0)}async function bh(t){for(const e of t.da)await e(!1)}function bD(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hw(n)?Fw(n):nd(n).O_()&&qw(n,e))}function $w(t,e){const n=Ge(t),r=nd(n);n.Ia.delete(e),r.O_()&&xD(n,e),n.Ia.size===0&&(r.O_()?r.L_():yc(n)&&n.Ra.set("Unknown"))}function qw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nd(t).Y_(e)}function xD(t,e){t.Va.Ue(e),nd(t).Z_(e)}function Fw(t){t.Va=new a$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nd(t).start(),t.Ra.ua()}function Hw(t){return yc(t)&&!nd(t).x_()&&t.Ia.size>0}function yc(t){return Ge(t).Ea.size===0}function _D(t){t.Va=void 0}async function fq(t){t.Ra.set("Online")}async function hq(t){t.Ia.forEach(((e,n)=>{qw(t,e)}))}async function mq(t,e){_D(t),Hw(t)?(t.Ra.ha(e),Fw(t)):t.Ra.set("Unknown")}async function pq(t,e,n){if(t.Ra.set("Online"),e instanceof aD&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ce(sc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wg(t,r)}else if(e instanceof Zp?t.Va.Ze(e):e instanceof iD?t.Va.st(e):t.Va.tt(e),!n.isEqual(Fe.min()))try{const r=await gD(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const u=s.Va.Tt(l);return u.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.Ia.get(m);p&&s.Ia.set(m,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,m)=>{const p=s.Ia.get(d);if(!p)return;s.Ia.set(d,p.withResumeToken(hr.EMPTY_BYTE_STRING,p.snapshotVersion)),xD(s,d);const g=new Uo(p.target,d,m,p.sequenceNumber);qw(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ce(sc,"Failed to raise snapshot:",r),await wg(t,r)}}async function wg(t,e,n){if(!ed(e))throw e;t.Ea.add(1),await bh(t),t.Ra.set("Offline"),n||(n=()=>gD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(sc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vv(t)}))}function wD(t,e){return e().catch((n=>wg(t,n,e)))}async function Uv(t){const e=Ge(t),n=Zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cw;for(;gq(e);)try{const i=await Q$(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,vq(e,i)}catch(i){await wg(e,i)}SD(e)&&ED(e)}function gq(t){return yc(t)&&t.Ta.length<10}function vq(t,e){t.Ta.push(e);const n=Zo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SD(t){return yc(t)&&!Zo(t).x_()&&t.Ta.length>0}function ED(t){Zo(t).start()}async function yq(t){Zo(t).ra()}async function bq(t){const e=Zo(t);for(const n of t.Ta)e.ea(n.mutations)}async function xq(t,e,n){const r=t.Ta.shift(),i=Mw.from(r,e,n);await wD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Uv(t)}async function _q(t,e){e&&Zo(t).X_&&await(async function(r,i){if((function(l){return n$(l)&&l!==ge.ABORTED})(i.code)){const s=r.Ta.shift();Zo(r).B_(),await wD(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Uv(r)}})(t,e),SD(t)&&ED(t)}async function cC(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce(sc,"RemoteStore received new credentials");const r=yc(n);n.Ea.add(3),await bh(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vv(n)}async function wq(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Vv(n)):e||(n.Ea.add(2),await bh(n),n.Ra.set("Unknown"))}function nd(t){return t.ma||(t.ma=(function(n,r,i){const s=Ge(n);return s.sa(),new sq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:fq.bind(null,t),t_:hq.bind(null,t),r_:mq.bind(null,t),H_:pq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Hw(t)?Fw(t):t.Ra.set("Unknown")):(await t.ma.stop(),_D(t))}))),t.ma}function Zo(t){return t.fa||(t.fa=(function(n,r,i){const s=Ge(n);return s.sa(),new oq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yq.bind(null,t),r_:_q.bind(null,t),ta:bq.bind(null,t),na:xq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Uv(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(sc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Kw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,u=new Kw(e,n,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gw(t,e){if(Cs("AsyncQueue",`${e}: ${t}`),ed(t))return new Ae(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class Eu{static emptySet(e){return new Eu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Ef(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class uC{constructor(){this.ga=new en(De.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Du{constructor(e,n,r,i,s,l,u,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new Du(e,n,Eu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Sq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Eq{constructor(){this.queries=dC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ge(n),s=i.queries;i.queries=dC(),s.forEach(((l,u)=>{for(const d of u.Sa)d.onError(r)}))})(this,new Ae(ge.ABORTED,"Firestore shutting down"))}}function dC(){return new vc((t=>HM(t)),Pv)}async function Yw(t,e){const n=Ge(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Sq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=Gw(l,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Xw(n)}async function Ww(t,e){const n=Ge(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Aq(t,e){const n=Ge(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Xw(n)}function Tq(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Xw(t){t.Ca.forEach((e=>{e.next()}))}var c_,fC;(fC=c_||(c_={})).Ma="default",fC.Cache="cache";class Qw{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==c_.Cache}}class AD{constructor(e){this.key=e}}class TD{constructor(e){this.key=e}}class Nq{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=KM(e),this.tu=new Eu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new uC,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const b=i.get(p),w=Rv(this.query,g)?g:null,T=!!b&&this.mutatedKeys.has(b.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let A=!1;b&&w?b.data.isEqual(w.data)?T!==S&&(r.track({type:3,doc:w}),A=!0):this.su(b,w)||(r.track({type:2,doc:w}),A=!0,(d&&this.eu(w,d)>0||m&&this.eu(w,m)<0)&&(u=!0)):!b&&w?(r.track({type:0,doc:w}),A=!0):b&&!w&&(r.track({type:1,doc:b}),A=!0,(d||m)&&(u=!0)),A&&(w?(l=l.add(w),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,T){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:A})}};return S(w)-S(T)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,m=d!==this.Za;return this.Za=d,l.length!==0||m?{snapshot:new Du(this.query,e.tu,s,l,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=st(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new TD(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new AD(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=st();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zw="SyncEngine";class jq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cq{constructor(e){this.key=e,this.hu=!1}}class Oq{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new vc((u=>HM(u)),Pv),this.Iu=new Map,this.Eu=new Set,this.du=new en(De.comparator),this.Au=new Map,this.Ru=new zw,this.Vu={},this.mu=new Map,this.fu=Mu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Iq(t,e,n=!0){const r=PD(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ND(r,e,n,!0),i}async function Pq(t,e){const n=PD(t);await ND(n,e,!0,!1)}async function ND(t,e,n,r){const i=await Z$(t.localStore,Oa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await Rq(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&bD(t.remoteStore,i),u}async function Rq(t,e,n,r,i){t.pu=(g,b,w)=>(async function(S,A,I,L){let k=A.view.ru(I);k.Cs&&(k=await iC(S.localStore,A.query,!1).then((({documents:j})=>A.view.ru(j,k))));const B=L&&L.targetChanges.get(A.targetId),M=L&&L.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(k,S.isPrimaryClient,B,M);return mC(S,A.targetId,q.au),q.snapshot})(t,g,b,w);const s=await iC(t.localStore,e,!0),l=new Nq(e,s.Qs),u=l.ru(s.documents),d=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,d);mC(t,n,m.au);const p=new jq(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function kq(t,e,n){const r=Ge(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!Pv(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await o_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$w(r.remoteStore,i.targetId),u_(r,i.targetId)})).catch(Ju)):(u_(r,i.targetId),await o_(r.localStore,i.targetId,!0))}async function Mq(t,e){const n=Ge(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$w(n.remoteStore,r.targetId))}async function Dq(t,e,n){const r=qq(t);try{const i=await(function(l,u){const d=Ge(l),m=Mt.now(),p=u.reduce(((w,T)=>w.add(T.key)),st());let g,b;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=Os(),S=st();return d.Ns.getEntries(w,p).next((A=>{T=A,T.forEach(((I,L)=>{L.isValidDocument()||(S=S.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,T))).next((A=>{g=A;const I=[];for(const L of u){const k=QB(L,g.get(L.key).overlayedDocument);k!=null&&I.push(new sl(L.key,k,LM(k.value.mapValue),Ir.exists(!0)))}return d.mutationQueue.addMutationBatch(w,m,I,u)})).next((A=>{b=A;const I=A.applyToLocalDocumentSet(g,S);return d.documentOverlayCache.saveOverlays(w,A.batchId,I)}))})).then((()=>({batchId:b.batchId,changes:YM(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let m=l.Vu[l.currentUser.toKey()];m||(m=new en(at)),m=m.insert(u,d),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await xh(r,i.changes),await Uv(r.remoteStore)}catch(i){const s=Gw(i,"Failed to persist write");n.reject(s)}}async function jD(t,e){const n=Ge(t);try{const r=await W$(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?yt(l.hu,14607):i.removedDocuments.size>0&&(yt(l.hu,42227),l.hu=!1))})),await xh(n,r,e)}catch(r){await Ju(r)}}function hC(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ge(l);d.onlineState=u;let m=!1;d.queries.forEach(((p,g)=>{for(const b of g.Sa)b.va(u)&&(m=!0)})),m&&Xw(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lq(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new en(De.comparator);l=l.insert(s,yr.newNoDocument(s,Fe.min()));const u=st().add(s),d=new Lv(Fe.min(),new Map,new en(at),l,u);await jD(r,d),r.du=r.du.remove(s),r.Au.delete(e),Jw(r)}else await o_(r.localStore,e,!1).then((()=>u_(r,e,n))).catch(Ju)}async function zq(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=await Y$(n.localStore,e);OD(n,r,null),CD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xh(n,i)}catch(i){await Ju(i)}}async function Vq(t,e,n){const r=Ge(t);try{const i=await(function(l,u){const d=Ge(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let p;return d.mutationQueue.lookupMutationBatch(m,u).next((g=>(yt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(m,g)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p))).next((()=>d.localDocuments.getDocuments(m,p)))}))})(r.localStore,e);OD(r,e,n),CD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xh(r,i)}catch(i){await Ju(i)}}function CD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function OD(t,e,n){const r=Ge(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function u_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||ID(t,r)}))}function ID(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($w(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Jw(t))}function mC(t,e,n){for(const r of n)r instanceof AD?(t.Ru.addReference(r.key,e),Uq(t,r)):r instanceof TD?(Ce(Zw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ID(t,r.key)):Ue(19791,{wu:r})}function Uq(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(Zw,"New document in limbo: "+n),t.Eu.add(r),Jw(t))}function Jw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new De(Ut.fromString(e)),r=t.fu.next();t.Au.set(r,new Cq(n)),t.du=t.du.insert(n,r),bD(t.remoteStore,new Uo(Oa(Iv(n.path)),r,"TargetPurposeLimboResolution",jv.ce))}}async function xh(t,e,n){const r=Ge(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,d)=>{l.push(r.pu(d,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const p=m?!m.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(m){i.push(m);const p=Uw.As(d.targetId,m);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,m){const p=Ge(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>be.forEach(m,(b=>be.forEach(b.Es,(w=>p.persistence.referenceDelegate.addReference(g,b.targetId,w))).next((()=>be.forEach(b.ds,(w=>p.persistence.referenceDelegate.removeReference(g,b.targetId,w)))))))))}catch(g){if(!ed(g))throw g;Ce(Bw,"Failed to update sequence numbers: "+g)}for(const g of m){const b=g.targetId;if(!g.fromCache){const w=p.Ms.get(b),T=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(b,S)}}})(r.localStore,s))}async function Bq(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce(Zw,"User change. New user:",e.toKey());const r=await pD(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((u=>{u.forEach((d=>{d.reject(new Ae(ge.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xh(n,r.Ls)}}function $q(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return st().add(r.key);{let i=st();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function PD(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lq.bind(null,e),e.Pu.H_=Aq.bind(null,e.eventManager),e.Pu.yu=Tq.bind(null,e.eventManager),e}function qq(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vq.bind(null,e),e}class Sg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G$(this.persistence,new F$,e.initialUser,this.serializer)}Cu(e){return new mD(Vw.mi,this.serializer)}Du(e){return new eq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sg.provider={build:()=>new Sg};class Fq extends Sg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){yt(this.persistence.referenceDelegate instanceof _g,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new mD((r=>_g.mi(r,n)),this.serializer)}}class d_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bq.bind(null,this.syncEngine),await wq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Eq})()}createDatastore(e){const n=zv(e.databaseInfo.databaseId),r=(function(s){return new aq(s)})(e.databaseInfo);return(function(s,l,u,d){return new cq(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,u){return new dq(r,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>hC(this.syncEngine,n,0)),(function(){return oC.v()?new oC:new tq})())}createSyncEngine(e,n){return(function(i,s,l,u,d,m,p){const g=new Oq(i,s,l,u,d,m);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ge(n);Ce(sc,"RemoteStore shutting down."),r.Ea.add(5),await bh(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}d_.provider={build:()=>new d_};class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Jo="FirestoreClient";class Hq{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ce(Jo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ce(Jo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gw(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ix(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(Jo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await pD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function pC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kq(t);Ce(Jo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>cC(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>cC(e.remoteStore,i))),t._onlineComponents=e}async function Kq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(Jo,"Using user provided OfflineComponentProvider");try{await ix(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Iu("Error using user provided cache. Falling back to memory cache: "+n),await ix(t,new Sg)}}else Ce(Jo,"Using default OfflineComponentProvider"),await ix(t,new Fq(void 0));return t._offlineComponents}async function RD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(Jo,"Using user provided OnlineComponentProvider"),await pC(t,t._uninitializedComponentsProvider._online)):(Ce(Jo,"Using default OnlineComponentProvider"),await pC(t,new d_))),t._onlineComponents}function Gq(t){return RD(t).then((e=>e.syncEngine))}async function Eg(t){const e=await RD(t),n=e.eventManager;return n.onListen=Iq.bind(null,e.syncEngine),n.onUnlisten=kq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Mq.bind(null,e.syncEngine),n}function Yq(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new eS({next:b=>{p.Nu(),l.enqueueAndForget((()=>Ww(s,g)));const w=b.docs.has(u);!w&&b.fromCache?m.reject(new Ae(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&d&&d.source==="server"?m.reject(new Ae(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new Qw(Iv(u.path),p,{includeMetadataChanges:!0,qa:!0});return Yw(s,g)})(await Eg(t),t.asyncQueue,e,n,r))),r.promise}function Wq(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,m){const p=new eS({next:b=>{p.Nu(),l.enqueueAndForget((()=>Ww(s,g))),b.fromCache&&d.source==="server"?m.reject(new Ae(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),g=new Qw(u,p,{includeMetadataChanges:!0,qa:!0});return Yw(s,g)})(await Eg(t),t.asyncQueue,e,n,r))),r.promise}function kD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const gC=new Map;const MD="firestore.googleapis.com",vC=!0;class yC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MD,this.ssl=vC}else this.host=e.host,this.ssl=e.ssl??vC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hD;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<N$)throw new Ae(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new J7;switch(r.type){case"firstParty":return new rB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=gC.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),gC.delete(n),r.terminate())})(this),Promise.resolve()}}function Xq(t,e,n,r={}){t=Or(t,Bv);const i=Wu(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(Rk(`https://${u}`),kk("Firestore",!0)),s.host!==MD&&s.host!==u&&Iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:u,ssl:i,emulatorOptions:r};if(!nc(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=vr.MOCK_USER;else{m=w9(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ae(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new vr(g)}t._authCredentials=new eB(new AM(m,p))}}class Bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bs(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}toJSON(){return{type:on._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gh(n,on._jsonSchema))return new on(e,r||null,new De(Ut.fromString(n.referencePath)))}}on._jsonSchemaVersion="firestore/documentReference/1.0",on._jsonSchema={type:Cn("string",on._jsonSchemaVersion),referencePath:Cn("string")};class Ko extends Bs{constructor(e,n,r){super(e,n,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new De(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function oi(t,e,...n){if(t=Dn(t),TM("collection","path",e),t instanceof Bv){const r=Ut.fromString(e,...n);return Ij(r),new Ko(t,null,r)}{if(!(t instanceof on||t instanceof Ko))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return Ij(r),new Ko(t.firestore,null,r)}}function lt(t,e,...n){if(t=Dn(t),arguments.length===1&&(e=jw.newId()),TM("doc","path",e),t instanceof Bv){const r=Ut.fromString(e,...n);return Oj(r),new on(t,null,new De(r))}{if(!(t instanceof on||t instanceof Ko))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ut.fromString(e,...n));return Oj(r),new on(t.firestore,t instanceof Ko?t.converter:null,new De(r))}}const bC="AsyncQueue";class xC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vD(this,"async_queue_retry"),this._c=()=>{const r=rx();r&&Ce(bC,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ed(e))throw e;Ce(bC,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Cs("INTERNAL UNHANDLED ERROR: ",_C(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Kw.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Ue(47125,{Pc:_C(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _C(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function wC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Da extends Bv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xC,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xC(e),this._firestoreClient=void 0,await e}}}function Qq(t,e){const n=typeof t=="object"?t:zk(),r=typeof t=="string"?t:pg,i=yw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=x9("firestore");s&&Xq(i,...s)}return i}function _h(t){if(t._terminated)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Zq(t),t._firestoreClient}function Zq(t){const e=t._freezeSettings(),n=(function(i,s,l,u){return new _B(i,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,kD(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Hq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Pi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pi(hr.fromBase64String(e))}catch(n){throw new Ae(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pi(hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,Pi._jsonSchema))return Pi.fromBase64String(e.bytes)}}Pi._jsonSchemaVersion="firestore/bytes/1.0",Pi._jsonSchema={type:Cn("string",Pi._jsonSchemaVersion),bytes:Cn("string")};class wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $v{constructor(e){this._methodName=e}}class Pa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pa._jsonSchemaVersion}}static fromJSON(e){if(gh(e,Pa._jsonSchema))return new Pa(e.latitude,e.longitude)}}Pa._jsonSchemaVersion="firestore/geoPoint/1.0",Pa._jsonSchema={type:Cn("string",Pa._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};class Ra{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,Ra._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ra(e.vectorValues);throw new Ae(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ra._jsonSchemaVersion="firestore/vectorValue/1.0",Ra._jsonSchema={type:Cn("string",Ra._jsonSchemaVersion),vectorValues:Cn("object")};const Jq=/^__.*__$/;class eF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new vh(e,this.data,n,this.fieldTransforms)}}class DD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:t})}}class tS{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ag(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LD(this.Ac)&&Jq.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zv(e)}Cc(e,n,r,i=!1){return new tS({Ac:e,methodName:n,Dc:r,path:fr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sh(t){const e=t._freezeSettings(),n=zv(t._databaseId);return new tF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nS(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);iS("Data must be an object, but it was:",l,r);const u=UD(r,l);let d,m;if(s.merge)d=new ui(l.fieldMask),m=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const b=f_(e,g,n);if(!l.contains(b))throw new Ae(ge.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$D(p,b)||p.push(b)}d=new ui(p),m=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,m=l.fieldTransforms;return new eF(new Kr(u),d,m)}class qv extends $v{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qv}}class rS extends $v{_toFieldTransform(e){return new GB(e.path,new Ff)}isEqual(e){return e instanceof rS}}function zD(t,e,n,r){const i=t.Cc(1,e,n);iS("Data must be an object, but it was:",i,r);const s=[],l=Kr.empty();al(r,((d,m)=>{const p=aS(e,d,n);m=Dn(m);const g=i.yc(p);if(m instanceof qv)s.push(p);else{const b=Eh(m,g);b!=null&&(s.push(p),l.set(p,b))}}));const u=new ui(s);return new DD(l,u,i.fieldTransforms)}function VD(t,e,n,r,i,s){const l=t.Cc(1,e,n),u=[f_(e,r,n)],d=[i];if(s.length%2!=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)u.push(f_(e,s[b])),d.push(s[b+1]);const m=[],p=Kr.empty();for(let b=u.length-1;b>=0;--b)if(!$D(m,u[b])){const w=u[b];let T=d[b];T=Dn(T);const S=l.yc(w);if(T instanceof qv)m.push(w);else{const A=Eh(T,S);A!=null&&(m.push(w),p.set(w,A))}}const g=new ui(m);return new DD(p,g,l.fieldTransforms)}function nF(t,e,n,r=!1){return Eh(n,t.Cc(r?4:3,e))}function Eh(t,e){if(BD(t=Dn(t)))return iS("Unsupported field value:",e,t),UD(t,e);if(t instanceof $v)return(function(r,i){if(!LD(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const u of r){let d=Eh(u,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Mt.fromDate(r);return{timestampValue:xg(i.serializer,s)}}if(r instanceof Mt){const s=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xg(i.serializer,s)}}if(r instanceof Pa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pi)return{bytesValue:sD(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Lw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ra)return(function(l,u){return{mapValue:{fields:{[MM]:{stringValue:DM},[gg]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return kw(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Nv(r)}`)})(t,e)}function UD(t,e){const n={};return CM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):al(t,((r,i)=>{const s=Eh(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function BD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Pa||t instanceof Pi||t instanceof on||t instanceof $v||t instanceof Ra)}function iS(t,e,n){if(!BD(n)||!NM(n)){const r=Nv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function f_(t,e,n){if((e=Dn(e))instanceof wh)return e._internalPath;if(typeof e=="string")return aS(t,e);throw Ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const rF=new RegExp("[~\\*/\\[\\]]");function aS(t,e,n){if(e.search(rF)>=0)throw Ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wh(...e.split("."))._internalPath}catch{throw Ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ag(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ae(ge.INVALID_ARGUMENT,u+t+d)}function $D(t,e){return t.some((n=>n.isEqual(e)))}class qD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iF extends qD{data(){return super.data()}}function Fv(t,e){return typeof e=="string"?aS(t,e):e instanceof wh?e._internalPath:e._delegate._internalPath}function FD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sS{}class oS extends sS{}function Lu(t,e,...n){let r=[];e instanceof sS&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof lS)).length,u=s.filter((d=>d instanceof Hv)).length;if(l>1||l>0&&u>0)throw new Ae(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Hv extends oS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){const n=this._parse(e);return KD(e._query,n),new Bs(e.firestore,e.converter,n_(e._query,n))}_parse(e){const n=Sh(e.firestore);return(function(s,l,u,d,m,p,g){let b;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){EC(g,p);const T=[];for(const S of g)T.push(SC(d,s,S));b={arrayValue:{values:T}}}else b=SC(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||EC(g,p),b=nF(u,l,g,p==="in"||p==="not-in");return jn.create(m,p,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ql(t,e,n){const r=e,i=Fv("where",t);return Hv._create(i,r,n)}class lS extends sS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lS(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:na.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)KD(l,d),l=n_(l,d)})(e._query,n),new Bs(e.firestore,e.converter,n_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cS extends oS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cS(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qf(s,l)})(e._query,this._field,this._direction);return new Bs(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new td(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Tg(t,e="asc"){const n=e,r=Fv("orderBy",t);return cS._create(r,n)}class uS extends oS{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new uS(e,n,r)}_apply(e){return new Bs(e.firestore,e.converter,yg(e._query,this._limit,this._limitType))}}function HD(t){return uB("limit",t),uS._create("limit",t,"F")}function SC(t,e,n){if(typeof(n=Dn(n))=="string"){if(n==="")throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FM(e)&&n.indexOf("/")!==-1)throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ut.fromString(n));if(!De.isDocumentKey(r))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vj(t,new De(r))}if(n instanceof on)return Vj(t,n._key);throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nv(n)}.`)}function EC(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KD(t,e){const n=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aF{convertValue(e,n="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return al(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[gg].arrayValue?.values?.map((r=>gn(r.doubleValue)));return new Ra(n)}convertGeoPoint(e){return new Pa(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uf(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ut.fromString(e);yt(fD(r),9688,{name:e});const i=new Bf(r.get(1),r.get(3)),s=new De(r.popFirst(5));return i.isEqual(n)||Cs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function dS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Tf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends qD{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:Cn("string",Yl._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Jp extends Yl{data(e={}){return super.data(e)}}class Wl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jp(this._firestore,this._userDataWriter,r.key,r,new Tf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Jp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:sF(u.type),doc:d,oldIndex:m,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:t})}}Wl._jsonSchemaVersion="firestore/querySnapshot/1.0",Wl._jsonSchema={type:Cn("string",Wl._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class fS extends aF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function AC(t){t=Or(t,on);const e=Or(t.firestore,Da);return Yq(_h(e),t._key,{source:"server"}).then((n=>YD(e,t,n)))}function h_(t){t=Or(t,Bs);const e=Or(t.firestore,Da),n=_h(e),r=new fS(e);return FD(t._query),Wq(n,t._query).then((i=>new Wl(e,r,t,i)))}function Rn(t,e,n){t=Or(t,on);const r=Or(t.firestore,Da),i=dS(t.converter,e,n);return Ah(r,[nS(Sh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Ng(t,e,n,...r){t=Or(t,on);const i=Or(t.firestore,Da),s=Sh(i);let l;return l=typeof(e=Dn(e))=="string"||e instanceof wh?VD(s,"updateDoc",t._key,e,n,r):zD(s,"updateDoc",t._key,e),Ah(i,[l.toMutation(t._key,Ir.exists(!0))])}function GD(t){return Ah(Or(t.firestore,Da),[new Dv(t._key,Ir.none())])}function hS(t,e){const n=Or(t.firestore,Da),r=lt(t),i=dS(t.converter,e);return Ah(n,[nS(Sh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Fr(t,...e){t=Dn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||wC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wC(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,l,u;if(t instanceof on)l=Or(t.firestore,Da),u=Iv(t._key.path),s={next:d=>{e[r]&&e[r](YD(l,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Or(t,Bs);l=Or(d.firestore,Da),u=d._query;const m=new fS(l);s={next:p=>{e[r]&&e[r](new Wl(l,m,d,p))},error:e[r+1],complete:e[r+2]},FD(t._query)}return(function(m,p,g,b){const w=new eS(b),T=new Qw(p,w,g);return m.asyncQueue.enqueueAndForget((async()=>Yw(await Eg(m),T))),()=>{w.Nu(),m.asyncQueue.enqueueAndForget((async()=>Ww(await Eg(m),T)))}})(_h(l),u,i,s)}function Ah(t,e){return(function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget((async()=>Dq(await Gq(r),i,s))),s.promise})(_h(t),e)}function YD(t,e,n){const r=n.docs.get(e._key),i=new fS(t);return new Yl(t,i,e._key,r,new Tf(n.hasPendingWrites,n.fromCache),e.converter)}class oF{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sh(e)}set(e,n,r){this._verifyNotCommitted();const i=ax(e,this._firestore),s=dS(i.converter,n,r),l=nS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ax(e,this._firestore);let l;return l=typeof(n=Dn(n))=="string"||n instanceof wh?VD(this._dataReader,"WriteBatch.update",s._key,n,r,i):zD(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ax(e,this._firestore);return this._mutations=this._mutations.concat(new Dv(n._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ax(t,e){if((t=Dn(t)).firestore!==e)throw new Ae(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function rd(){return new rS("serverTimestamp")}function lF(t){return _h(t=Or(t,Da)),new oF(t,(e=>Ah(t,e)))}(function(e,n=!0){(function(i){Zu=i})(Xu),Ou(new rc("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Da(new tB(r.getProvider("auth-internal")),new iB(l,r.getProvider("app-check-internal")),(function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ae(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(m.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),Fo(Tj,Nj,e),Fo(Tj,Nj,"esm2020")})();const cF={apiKey:"AIzaSyDqeHT2J9Z69k88-clPwKyuywg1TSpojYM",authDomain:"cyjsituation-analysis.firebaseapp.com",projectId:"cyjsituation-analysis",storageBucket:"cyjsituation-analysis.firebasestorage.app",messagingSenderId:"139860745126",appId:"1:139860745126:web:4539176a4cf73ae4480d67",measurementId:"G-L9DVME64VK"},uF=typeof window<"u"&&window.__firebase_config?JSON.parse(window.__firebase_config):typeof __firebase_config<"u"?JSON.parse(__firebase_config):cF,WD=Lk(uF),sx=Q7(WD),Be=Qq(WD),dF=typeof window<"u"&&window.__app_id?window.__app_id:typeof __app_id<"u"?__app_id:"default-app-id",ze=dF.replace(/\//g,"_");function XD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=XD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ut(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=XD(t))&&(r&&(r+=" "),r+=e);return r}var fF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mS(t){if(typeof t!="string")return!1;var e=fF;return e.includes(t)}var hF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mF=new Set(hF);function QD(t){return typeof t!="string"?!1:mF.has(t)}function ZD(t){return typeof t=="string"&&t.startsWith("data-")}function Pr(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(QD(n)||ZD(n))&&(e[n]=t[n]);return e}function oc(t){if(t==null)return null;if(_.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Pr(e)}return typeof t=="object"&&!Array.isArray(t)?Pr(t):null}function wr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(QD(n)||ZD(n)||mS(n))&&(e[n]=t[n]);return e}function pF(t){return t==null?null:_.isValidElement(t)?wr(t.props):typeof t=="object"&&!Array.isArray(t)?wr(t):null}var gF=["children","width","height","viewBox","className","style","title","desc"];function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(null,arguments)}function vF(t,e){if(t==null)return{};var n,r,i=yF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pS=_.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:u,title:d,desc:m}=t,p=vF(t,gF),g=s||{width:r,height:i,x:0,y:0},b=ut("recharts-surface",l);return _.createElement("svg",m_({},wr(p),{className:b,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),_.createElement("title",null,d),_.createElement("desc",null,m),n)}),bF=["children","className"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(null,arguments)}function xF(t,e){if(t==null)return{};var n,r,i=_F(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _F(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ln=_.forwardRef((t,e)=>{var{children:n,className:r}=t,i=xF(t,bF),s=ut("recharts-layer",r);return _.createElement("g",p_({className:s},wr(i),{ref:e}),n)}),gS=Tk(),JD=_.createContext(null),wF=()=>_.useContext(JD);function Vt(t){return function(){return t}}const e4=Math.cos,jg=Math.sin,ia=Math.sqrt,Cg=Math.PI,Kv=2*Cg,g_=Math.PI,v_=2*g_,Vl=1e-6,SF=v_-Vl;function t4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function EF(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return t4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class AF{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?t4:EF(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,d=r-e,m=i-n,p=l-e,g=u-n,b=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>Vl)if(!(Math.abs(g*d-m*p)>Vl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let w=r-l,T=i-u,S=d*d+m*m,A=w*w+T*T,I=Math.sqrt(S),L=Math.sqrt(b),k=s*Math.tan((g_-Math.acos((S+b-A)/(2*I*L)))/2),B=k/L,M=k/I;Math.abs(B-1)>Vl&&this._append`L${e+B*p},${n+B*g}`,this._append`A${s},${s},0,0,${+(g*w>p*T)},${this._x1=e+M*d},${this._y1=n+M*m}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),m=e+u,p=n+d,g=1^l,b=l?i-s:s-i;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Vl||Math.abs(this._y1-p)>Vl)&&this._append`L${m},${p}`,r&&(b<0&&(b=b%v_+v_),b>SF?this._append`A${r},${r},0,1,${g},${e-u},${n-d}A${r},${r},0,1,${g},${this._x1=m},${this._y1=p}`:b>Vl&&this._append`A${r},${r},0,${+(b>=g_)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vS(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new AF(e)}function yS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function n4(t){this._context=t}n4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gv(t){return new n4(t)}function r4(t){return t[0]}function i4(t){return t[1]}function a4(t,e){var n=Vt(!0),r=null,i=Gv,s=null,l=vS(u);t=typeof t=="function"?t:t===void 0?r4:Vt(t),e=typeof e=="function"?e:e===void 0?i4:Vt(e);function u(d){var m,p=(d=yS(d)).length,g,b=!1,w;for(r==null&&(s=i(w=l())),m=0;m<=p;++m)!(m<p&&n(g=d[m],m,d))===b&&((b=!b)?s.lineStart():s.lineEnd()),b&&s.point(+t(g,m,d),+e(g,m,d));if(w)return s=null,w+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Vt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Vt(+d),u):e},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Vt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),u):r},u}function Tp(t,e,n){var r=null,i=Vt(!0),s=null,l=Gv,u=null,d=vS(m);t=typeof t=="function"?t:t===void 0?r4:Vt(+t),e=typeof e=="function"?e:Vt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?i4:Vt(+n);function m(g){var b,w,T,S=(g=yS(g)).length,A,I=!1,L,k=new Array(S),B=new Array(S);for(s==null&&(u=l(L=d())),b=0;b<=S;++b){if(!(b<S&&i(A=g[b],b,g))===I)if(I=!I)w=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=b-1;T>=w;--T)u.point(k[T],B[T]);u.lineEnd(),u.areaEnd()}I&&(k[b]=+t(A,b,g),B[b]=+e(A,b,g),u.point(r?+r(A,b,g):k[b],n?+n(A,b,g):B[b]))}if(L)return u=null,L+""||null}function p(){return a4().defined(i).curve(l).context(s)}return m.x=function(g){return arguments.length?(t=typeof g=="function"?g:Vt(+g),r=null,m):t},m.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Vt(+g),m):t},m.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Vt(+g),m):r},m.y=function(g){return arguments.length?(e=typeof g=="function"?g:Vt(+g),n=null,m):e},m.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Vt(+g),m):e},m.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Vt(+g),m):n},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(n)},m.lineX1=function(){return p().x(r).y(e)},m.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Vt(!!g),m):i},m.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),m):l},m.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),m):s},m}class s4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function TF(t){return new s4(t,!0)}function NF(t){return new s4(t,!1)}const bS={draw(t,e){const n=ia(e/Cg);t.moveTo(n,0),t.arc(0,0,n,0,Kv)}},jF={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},o4=ia(1/3),CF=o4*2,OF={draw(t,e){const n=ia(e/CF),r=n*o4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IF={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},PF=.8908130915292852,l4=jg(Cg/10)/jg(7*Cg/10),RF=jg(Kv/10)*l4,kF=-e4(Kv/10)*l4,MF={draw(t,e){const n=ia(e*PF),r=RF*n,i=kF*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Kv*s/5,u=e4(l),d=jg(l);t.lineTo(d*n,-u*n),t.lineTo(u*r-d*i,d*r+u*i)}t.closePath()}},ox=ia(3),DF={draw(t,e){const n=-ia(e/(ox*3));t.moveTo(0,n*2),t.lineTo(-ox*n,-n),t.lineTo(ox*n,-n),t.closePath()}},Ni=-.5,ji=ia(3)/2,y_=1/ia(12),LF=(y_/2+1)*3,zF={draw(t,e){const n=ia(e/LF),r=n/2,i=n*y_,s=r,l=n*y_+n,u=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(u,d),t.lineTo(Ni*r-ji*i,ji*r+Ni*i),t.lineTo(Ni*s-ji*l,ji*s+Ni*l),t.lineTo(Ni*u-ji*d,ji*u+Ni*d),t.lineTo(Ni*r+ji*i,Ni*i-ji*r),t.lineTo(Ni*s+ji*l,Ni*l-ji*s),t.lineTo(Ni*u+ji*d,Ni*d-ji*u),t.closePath()}};function VF(t,e){let n=null,r=vS(i);t=typeof t=="function"?t:Vt(t||bS),e=typeof e=="function"?e:Vt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Vt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Og(){}function Ig(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function c4(t){this._context=t}c4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ig(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UF(t){return new c4(t)}function u4(t){this._context=t}u4.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BF(t){return new u4(t)}function d4(t){this._context=t}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ig(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $F(t){return new d4(t)}function f4(t){this._context=t}f4.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qF(t){return new f4(t)}function TC(t){return t<0?-1:1}function NC(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(s*i+l*r)/(r+i);return(TC(s)+TC(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function jC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,i+u*e,s-u,l-u*n,s,l)}function Pg(t){this._context=t}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lx(this,this._t0,jC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lx(this,jC(this,n=NC(this,t,e)),n);break;default:lx(this,this._t0,n=NC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function h4(t){this._context=new m4(t)}(h4.prototype=Object.create(Pg.prototype)).point=function(t,e){Pg.prototype.point.call(this,e,t)};function m4(t){this._context=t}m4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function FF(t){return new Pg(t)}function HF(t){return new h4(t)}function p4(t){this._context=t}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=CC(t),i=CC(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CC(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function KF(t){return new p4(t)}function Yv(t,e){this._context=t,this._t=e}Yv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function GF(t){return new Yv(t,.5)}function YF(t){return new Yv(t,0)}function WF(t){return new Yv(t,1)}function lc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,u=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function b_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function XF(t,e){return t[e]}function QF(t){const e=[];return e.key=t,e}function ZF(){var t=Vt([]),e=b_,n=lc,r=XF;function i(s){var l=Array.from(t.apply(this,arguments),QF),u,d=l.length,m=-1,p;for(const g of s)for(u=0,++m;u<d;++u)(l[u][m]=[0,+r(g,l[u].key,m,s)]).data=g;for(u=0,p=yS(e(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Vt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Vt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?b_:typeof s=="function"?s:Vt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??lc,i):n},i}function JF(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}lc(t,e)}}function eH(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}lc(t,e)}}function tH(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var u=0,d=0,m=0;u<l;++u){for(var p=t[e[u]],g=p[r][1]||0,b=p[r-1][1]||0,w=(g-b)/2,T=0;T<u;++T){var S=t[e[T]],A=S[r][1]||0,I=S[r-1][1]||0;w+=A-I}d+=g,m+=w*g}i[r-1][1]+=i[r-1][0]=n,d&&(n-=m/d)}i[r-1][1]+=i[r-1][0]=n,lc(t,e)}}var cx={},ux={},OC;function nH(){return OC||(OC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(ux)),ux}var dx={},IC;function g4(){return IC||(IC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(dx)),dx}var fx={},PC;function xS(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(fx)),fx}var hx={},mx={},RC;function rH(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(mx)),mx}var kC;function _S(){return kC||(kC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rH(),n=xS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let u=0,d="",m="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=i[u];m?g==="\\"&&u+1<l?(u++,d+=i[u]):g===m?m="":d+=g:p?g==='"'||g==="'"?m=g:g==="]"?(p=!1,s.push(d),d=""):d+=g:g==="["?(p=!0,d&&(s.push(d),d="")):g==="."?d&&(s.push(d),d=""):d+=g,u++}return d&&s.push(d),s}t.toPath=r})(hx)),hx}var MC;function wS(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nH(),n=g4(),r=xS(),i=_S();function s(u,d,m){if(u==null)return m;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?n.isDeepKey(d)?s(u,i.toPath(d),m):m:p}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const p=u[d];return p===void 0?m:p}default:{if(Array.isArray(d))return l(u,d,m);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return m;const p=u[d];return p===void 0?m:p}}}function l(u,d,m){if(d.length===0)return m;let p=u;for(let g=0;g<d.length;g++){if(p==null||e.isUnsafeProperty(d[g]))return m;p=p[d[g]]}return p===void 0?m:p}t.get=s})(cx)),cx}var px,DC;function iH(){return DC||(DC=1,px=wS().get),px}var aH=iH();const cc=Vs(aH);var sH=4;function Bo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sH,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function an(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,l)=>{var u=n[l-1];return typeof u=="string"?i+u+s:u!==void 0?i+Bo(u)+s:i+s},"")}var Qn=t=>t===0?0:t>0?1:-1,Mi=t=>typeof t=="number"&&t!=+t,Is=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!Mi(t),La=t=>Ne(t)||typeof t=="string",oH=0,Gf=t=>{var e=++oH;return"".concat(t||"").concat(e)},xr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return r;var s;if(Is(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Mi(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},v4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function gt(t,e,n){return Ne(t)&&Ne(e)?Bo(t+n*(e-t)):e}function y4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):cc(r,e))===n)}var Gt=t=>t===null||typeof t>"u",Th=t=>Gt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function lH(t){return t!=null}function Nh(){}var cH=["type","size","sizeType"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}function LC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(n),!0).forEach(function(r){uH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uH(t,e,n){return(e=dH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dH(t){var e=fH(t,"string");return typeof e=="symbol"?e:e+""}function fH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hH(t,e){if(t==null)return{};var n,r,i=mH(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mH(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var b4={symbolCircle:bS,symbolCross:jF,symbolDiamond:OF,symbolSquare:IF,symbolStar:MF,symbolTriangle:DF,symbolWye:zF},pH=Math.PI/180,gH=t=>{var e="symbol".concat(Th(t));return b4[e]||bS},vH=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*pH;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yH=(t,e)=>{b4["symbol".concat(Th(t))]=e},SS=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=hH(t,cH),s=zC(zC({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var b=gH(l),w=VF().type(b).size(vH(n,r,l)),T=w();if(T!==null)return T},{className:d,cx:m,cy:p}=s,g=wr(s);return Ne(m)&&Ne(p)&&Ne(n)?_.createElement("path",x_({},g,{className:ut("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(p,")"),d:u()})):null};SS.registerSymbol=yH;var x4=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,ES=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(_.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{mS(i)&&(r[i]=(s=>n[i](n,s)))}),r},bH=(t,e,n)=>r=>(t(e,n,r),null),jh=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];mS(i)&&typeof s=="function"&&(r||(r={}),r[i]=bH(s,e,n))}),r};function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){_H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _H(t,e,n){return(e=wH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=SH(t,"string");return typeof e=="symbol"?e:e+""}function SH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e){var n=xH({},t),r=e,i=Object.keys(e),s=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return s}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(null,arguments)}function UC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return(e=TH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TH(t){var e=NH(t,"string");return typeof e=="symbol"?e:e+""}function NH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oi=32,jH={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function CH(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Oi/2,s=Oi/6,l=Oi/3,u=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var m;return _.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(m=e.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:i,x2:Oi,y2:i,className:"recharts-legend-icon"})}if(d==="line")return _.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Oi,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return _.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(_.isValidElement(e.legendIcon)){var p=EH({},e);return delete p.legendIcon,_.cloneElement(e.legendIcon,p)}return _.createElement(SS,{fill:u,cx:i,cy:i,size:Oi,sizeType:"diameter",type:d})}function OH(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,u={x:0,y:0,width:Oi,height:Oi},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((p,g)=>{var b=p.formatter||i,w=ut({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:p.inactive});if(p.type==="none")return null;var T=p.inactive?s:p.color,S=b?b(p.value,p,g):p.value;return _.createElement("li",Rg({className:w,style:d,key:"legend-item-".concat(g)},jh(t,p,g)),_.createElement(pS,{width:n,height:n,viewBox:u,style:m,"aria-label":"".concat(S," legend icon")},_.createElement(CH,{data:p,iconType:l,inactiveColor:s})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},S))})}var IH=t=>{var e=cn(t,jH),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:s},_.createElement(OH,Rg({},e,{payload:n})))},gx={},vx={},BC;function PH(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(vx)),vx}var yx={},$C;function _4(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(yx)),yx}var bx={},xx={},_x={},qC;function RH(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(_x)),_x}var FC;function AS(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RH();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(xx)),xx}var wx={},HC;function kH(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(wx)),wx}var KC;function MH(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AS(),n=kH();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(bx)),bx}var Sx={},Ex={},GC;function DH(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Ex)),Ex}var Ax={},Tx={},Nx={},jx={},YC;function w4(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(jx)),jx}var Cx={},WC;function S4(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Cx)),Cx}var Ox={},XC;function E4(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Ox)),Ox}var QC;function LH(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w4(),n=S4(),r=E4();function i(p,g,b){return typeof b!="function"?i(p,g,()=>{}):s(p,g,function w(T,S,A,I,L,k){const B=b(T,S,A,I,L,k);return B!==void 0?!!B:s(T,S,w,k)},new Map)}function s(p,g,b,w){if(g===p)return!0;switch(typeof g){case"object":return l(p,g,b,w);case"function":return Object.keys(g).length>0?s(p,{...g},b,w):r.eq(p,g);default:return e.isObject(p)?typeof g=="string"?g==="":!0:r.eq(p,g)}}function l(p,g,b,w){if(g==null)return!0;if(Array.isArray(g))return d(p,g,b,w);if(g instanceof Map)return u(p,g,b,w);if(g instanceof Set)return m(p,g,b,w);const T=Object.keys(g);if(p==null||n.isPrimitive(p))return T.length===0;if(T.length===0)return!0;if(w?.has(g))return w.get(g)===p;w?.set(g,p);try{for(let S=0;S<T.length;S++){const A=T[S];if(!n.isPrimitive(p)&&!(A in p)||g[A]===void 0&&p[A]!==void 0||g[A]===null&&p[A]!==null||!b(p[A],g[A],A,p,g,w))return!1}return!0}finally{w?.delete(g)}}function u(p,g,b,w){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[T,S]of g.entries()){const A=p.get(T);if(b(A,S,T,p,g,w)===!1)return!1}return!0}function d(p,g,b,w){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const T=new Set;for(let S=0;S<g.length;S++){const A=g[S];let I=!1;for(let L=0;L<p.length;L++){if(T.has(L))continue;const k=p[L];let B=!1;if(b(k,A,S,p,g,w)&&(B=!0),B){T.add(L),I=!0;break}}if(!I)return!1}return!0}function m(p,g,b,w){return g.size===0?!0:p instanceof Set?d([...p],[...g],b,w):!1}t.isMatchWith=i,t.isSetMatch=m})(Nx)),Nx}var ZC;function A4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LH();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Tx)),Tx}var Ix={},Px={},Rx={},JC;function zH(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Rx)),Rx}var kx={},eO;function T4(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(kx)),kx}var Mx={},tO;function N4(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",m="[object Set]",p="[object Array]",g="[object Function]",b="[object ArrayBuffer]",w="[object Object]",T="[object Error]",S="[object DataView]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",k="[object Uint32Array]",B="[object BigUint64Array]",M="[object Int8Array]",q="[object Int16Array]",j="[object Int32Array]",E="[object BigInt64Array]",O="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=b,t.arrayTag=p,t.bigInt64ArrayTag=E,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=S,t.dateTag=u,t.errorTag=T,t.float32ArrayTag=O,t.float64ArrayTag=R,t.functionTag=g,t.int16ArrayTag=q,t.int32ArrayTag=j,t.int8ArrayTag=M,t.mapTag=d,t.numberTag=r,t.objectTag=w,t.regexpTag=e,t.setTag=m,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=L,t.uint32ArrayTag=k,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=I})(Mx)),Mx}var Dx={},nO;function VH(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Dx)),Dx}var rO;function j4(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zH(),n=T4(),r=N4(),i=S4(),s=VH();function l(p,g){return u(p,void 0,p,new Map,g)}function u(p,g,b,w=new Map,T=void 0){const S=T?.(p,g,b,w);if(S!==void 0)return S;if(i.isPrimitive(p))return p;if(w.has(p))return w.get(p);if(Array.isArray(p)){const A=new Array(p.length);w.set(p,A);for(let I=0;I<p.length;I++)A[I]=u(p[I],I,b,w,T);return Object.hasOwn(p,"index")&&(A.index=p.index),Object.hasOwn(p,"input")&&(A.input=p.input),A}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const A=new RegExp(p.source,p.flags);return A.lastIndex=p.lastIndex,A}if(p instanceof Map){const A=new Map;w.set(p,A);for(const[I,L]of p)A.set(I,u(L,I,b,w,T));return A}if(p instanceof Set){const A=new Set;w.set(p,A);for(const I of p)A.add(u(I,void 0,b,w,T));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const A=new(Object.getPrototypeOf(p)).constructor(p.length);w.set(p,A);for(let I=0;I<p.length;I++)A[I]=u(p[I],I,b,w,T);return A}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const A=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return w.set(p,A),d(A,p,b,w,T),A}if(typeof File<"u"&&p instanceof File){const A=new File([p],p.name,{type:p.type});return w.set(p,A),d(A,p,b,w,T),A}if(typeof Blob<"u"&&p instanceof Blob){const A=new Blob([p],{type:p.type});return w.set(p,A),d(A,p,b,w,T),A}if(p instanceof Error){const A=new p.constructor;return w.set(p,A),A.message=p.message,A.name=p.name,A.stack=p.stack,A.cause=p.cause,d(A,p,b,w,T),A}if(p instanceof Boolean){const A=new Boolean(p.valueOf());return w.set(p,A),d(A,p,b,w,T),A}if(p instanceof Number){const A=new Number(p.valueOf());return w.set(p,A),d(A,p,b,w,T),A}if(p instanceof String){const A=new String(p.valueOf());return w.set(p,A),d(A,p,b,w,T),A}if(typeof p=="object"&&m(p)){const A=Object.create(Object.getPrototypeOf(p));return w.set(p,A),d(A,p,b,w,T),A}return p}function d(p,g,b=p,w,T){const S=[...Object.keys(g),...e.getSymbols(g)];for(let A=0;A<S.length;A++){const I=S[A],L=Object.getOwnPropertyDescriptor(p,I);(L==null||L.writable)&&(p[I]=u(g[I],I,b,w,T))}}function m(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=d})(Px)),Px}var iO;function UH(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Ix)),Ix}var aO;function BH(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4(),n=UH();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(Ax)),Ax}var Lx={},zx={},Vx={},sO;function $H(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j4(),n=N4();function r(i,s){return e.cloneDeepWith(i,(l,u,d,m)=>{const p=s?.(l,u,d,m);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return e.copyProperties(g,i),g}case n.argumentsTag:{const g={};return e.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Vx)),Vx}var oO;function qH(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$H();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(zx)),zx}var Ux={},Bx={},lO;function C4(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Bx)),Bx}var $x={},cO;function FH(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T4();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})($x)),$x}var uO;function HH(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g4(),n=C4(),r=FH(),i=_S();function s(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?d=i.toPath(u):d=[u],d.length===0)return!1;let m=l;for(let p=0;p<d.length;p++){const g=d[p];if((m==null||!Object.hasOwn(m,g))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(g)&&g<m.length))return!1;m=m[g]}return!0}t.has=s})(Ux)),Ux}var dO;function KH(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A4(),n=xS(),r=qH(),i=wS(),s=HH();function l(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(m){const p=i.get(m,u);return p===void 0?s.has(m,u):d===void 0?p===void 0:e.isMatch(p,d)}}t.matchesProperty=l})(Lx)),Lx}var fO;function GH(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_4(),n=DH(),r=BH(),i=KH();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Sx)),Sx}var hO;function YH(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PH(),n=_4(),r=MH(),i=GH();function s(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=s})(gx)),gx}var qx,mO;function WH(){return mO||(mO=1,qx=YH().uniqBy),qx}var XH=WH();const pO=Vs(XH);function O4(t,e,n){return e===!0?pO(t,n):typeof e=="function"?pO(t,e):t}var Fx={exports:{}},Hx={},Kx={exports:{}},Gx={};var gO;function QH(){if(gO)return Gx;gO=1;var t=Yu();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function u(g,b){var w=b(),T=r({inst:{value:w,getSnapshot:b}}),S=T[0].inst,A=T[1];return s(function(){S.value=w,S.getSnapshot=b,d(S)&&A({inst:S})},[g,w,b]),i(function(){return d(S)&&A({inst:S}),g(function(){d(S)&&A({inst:S})})},[g]),l(w),w}function d(g){var b=g.getSnapshot;g=g.value;try{var w=b();return!n(g,w)}catch{return!0}}function m(g,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Gx.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Gx}var vO;function ZH(){return vO||(vO=1,Kx.exports=QH()),Kx.exports}var yO;function JH(){if(yO)return Hx;yO=1;var t=Yu(),e=ZH();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Hx.useSyncExternalStoreWithSelector=function(m,p,g,b,w){var T=s(null);if(T.current===null){var S={hasValue:!1,value:null};T.current=S}else S=T.current;T=u(function(){function I(q){if(!L){if(L=!0,k=q,q=b(q),w!==void 0&&S.hasValue){var j=S.value;if(w(j,q))return B=j}return B=q}if(j=B,r(k,q))return j;var E=b(q);return w!==void 0&&w(j,E)?(k=q,j):(k=q,B=E)}var L=!1,k,B,M=g===void 0?null:g;return[function(){return I(p())},M===null?void 0:function(){return I(M())}]},[p,g,b,w]);var A=i(m,T[0],T[1]);return l(function(){S.hasValue=!0,S.value=A},[A]),d(A),A},Hx}var bO;function eK(){return bO||(bO=1,Fx.exports=JH()),Fx.exports}var tK=eK(),TS=_.createContext(null),nK=t=>t,Bt=()=>{var t=_.useContext(TS);return t?t.store.dispatch:nK},eg=()=>{},rK=()=>eg,iK=(t,e)=>t===e;function Re(t){var e=_.useContext(TS);return tK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rK,e?e.store.getState:eg,e?e.store.getState:eg,e?t:eg,iK)}function aK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function sK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function oK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var xO=t=>Array.isArray(t)?t:[t];function lK(t){const e=Array.isArray(t[0])?t[0]:t;return oK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cK(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var uK=class{constructor(t){this.value=t}deref(){return this.value}},dK=typeof WeakRef<"u"?WeakRef:uK,fK=0,_O=1;function Np(){return{s:fK,v:void 0,o:null,p:null}}function I4(t,e={}){let n=Np();const{resultEqualityCheck:r}=e;let i,s=0;function l(){let u=n;const{length:d}=arguments;for(let g=0,b=d;g<b;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let T=u.o;T===null&&(u.o=T=new WeakMap);const S=T.get(w);S===void 0?(u=Np(),T.set(w,u)):u=S}else{let T=u.p;T===null&&(u.p=T=new Map);const S=T.get(w);S===void 0?(u=Np(),T.set(w,u)):u=S}}const m=u;let p;if(u.s===_O)p=u.v;else if(p=t.apply(null,arguments),s++,r){const g=i?.deref?.()??i;g!=null&&r(g,p)&&(p=g,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new dK(p):p}return m.s=_O,m.v=p,p}return l.clearCache=()=>{n=Np(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function hK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,u,d={},m=i.pop();typeof m=="object"&&(d=m,m=i.pop()),aK(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const p={...n,...d},{memoize:g,memoizeOptions:b=[],argsMemoize:w=I4,argsMemoizeOptions:T=[]}=p,S=xO(b),A=xO(T),I=lK(i),L=g(function(){return s++,m.apply(null,arguments)},...S),k=w(function(){l++;const M=cK(I,arguments);return u=L.apply(null,M),u},...A);return Object.assign(k,{resultFunc:m,memoizedResultFunc:L,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:w})};return Object.assign(r,{withTypes:()=>r}),r}var re=hK(I4),mK=Object.assign((t,e=re)=>{sK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>mK}),Yx={},Wx={},Xx={},wO;function pK(){return wO||(wO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};t.compareValues=n})(Xx)),Xx}var Qx={},Zx={},SO;function P4(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Zx)),Zx}var EO;function gK(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Qx)),Qx}var AO;function vK(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pK(),n=gK(),r=_S();function i(s,l,u,d){if(s==null)return[];u=d?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(w=>String(w));const m=(w,T)=>{let S=w;for(let A=0;A<T.length&&S!=null;++A)S=S[T[A]];return S},p=(w,T)=>T==null||w==null?T:typeof w=="object"&&"key"in w?Object.hasOwn(T,w.key)?T[w.key]:m(T,w.path):typeof w=="function"?w(T):Array.isArray(w)?m(T,w):typeof T=="object"?T[w]:T,g=l.map(w=>(Array.isArray(w)&&w.length===1&&(w=w[0]),w==null||typeof w=="function"||Array.isArray(w)||n.isKey(w)?w:{key:w,path:r.toPath(w)}));return s.map(w=>({original:w,criteria:g.map(T=>p(T,w))})).slice().sort((w,T)=>{for(let S=0;S<g.length;S++){const A=e.compareValues(w.criteria[S],T.criteria[S],u[S]);if(A!==0)return A}return 0}).map(w=>w.original)}t.orderBy=i})(Wx)),Wx}var Jx={},TO;function yK(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(u,d)=>{for(let m=0;m<u.length;m++){const p=u[m];Array.isArray(p)&&d<s?l(p,d+1):i.push(p)}};return l(n,0),i}t.flatten=e})(Jx)),Jx}var e1={},NO;function R4(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=C4(),n=AS(),r=w4(),i=E4();function s(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&e.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}t.isIterateeCall=s})(e1)),e1}var jO;function bK(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vK(),n=yK(),r=R4();function i(s,...l){const u=l.length;return u>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(Yx)),Yx}var t1,CO;function xK(){return CO||(CO=1,t1=bK().sortBy),t1}var _K=xK();const Wv=Vs(_K);var k4=t=>t.legend.settings,wK=t=>t.legend.size,SK=t=>t.legend.payload,EK=re([SK,k4],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Wv(r,n):r});function AK(){return Re(EK)}var jp=1;function M4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=_.useState({height:0,left:0,top:0,width:0}),r=_.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>jp||Math.abs(l.left-e.left)>jp||Math.abs(l.top-e.top)>jp||Math.abs(l.width-e.width)>jp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function or(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TK=typeof Symbol=="function"&&Symbol.observable||"@@observable",OO=TK,n1=()=>Math.random().toString(36).substring(7).split("").join("."),NK={INIT:`@@redux/INIT${n1()}`,REPLACE:`@@redux/REPLACE${n1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${n1()}`},kg=NK;function NS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function D4(t,e,n){if(typeof t!="function")throw new Error(or(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(or(1));return n(D4)(t,e)}let r=t,i=e,s=new Map,l=s,u=0,d=!1;function m(){l===s&&(l=new Map,s.forEach((A,I)=>{l.set(I,A)}))}function p(){if(d)throw new Error(or(3));return i}function g(A){if(typeof A!="function")throw new Error(or(4));if(d)throw new Error(or(5));let I=!0;m();const L=u++;return l.set(L,A),function(){if(I){if(d)throw new Error(or(6));I=!1,m(),l.delete(L),s=null}}}function b(A){if(!NS(A))throw new Error(or(7));if(typeof A.type>"u")throw new Error(or(8));if(typeof A.type!="string")throw new Error(or(17));if(d)throw new Error(or(9));try{d=!0,i=r(i,A)}finally{d=!1}return(s=l).forEach(L=>{L()}),A}function w(A){if(typeof A!="function")throw new Error(or(10));r=A,b({type:kg.REPLACE})}function T(){const A=g;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(or(11));function L(){const B=I;B.next&&B.next(p())}return L(),{unsubscribe:A(L)}},[OO](){return this}}}return b({type:kg.INIT}),{dispatch:b,subscribe:g,getState:p,replaceReducer:w,[OO]:T}}function jK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:kg.INIT})>"u")throw new Error(or(12));if(typeof n(void 0,{type:kg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function L4(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{jK(n)}catch(s){i=s}return function(l={},u){if(i)throw i;let d=!1;const m={};for(let p=0;p<r.length;p++){const g=r[p],b=n[g],w=l[g],T=b(w,u);if(typeof T>"u")throw u&&u.type,new Error(or(14));m[g]=T,d=d||T!==w}return d=d||r.length!==Object.keys(l).length,d?m:l}}function Mg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function CK(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(or(15))};const l={getState:i.getState,dispatch:(d,...m)=>s(d,...m)},u=t.map(d=>d(l));return s=Mg(...u)(i.dispatch),{...i,dispatch:s}}}function z4(t){return NS(t)&&"type"in t&&typeof t.type=="string"}var V4=Symbol.for("immer-nothing"),IO=Symbol.for("immer-draftable"),Rr=Symbol.for("immer-state");function Xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var di=Object,zu=di.getPrototypeOf,Dg="constructor",Xv="prototype",__="configurable",Lg="enumerable",tg="writable",Yf="value",Ps=t=>!!t&&!!t[Rr];function ra(t){return t?U4(t)||Zv(t)||!!t[IO]||!!t[Dg]?.[IO]||Jv(t)||e0(t):!1}var OK=di[Xv][Dg].toString(),PO=new WeakMap;function U4(t){if(!t||!jS(t))return!1;const e=zu(t);if(e===null||e===di[Xv])return!0;const n=di.hasOwnProperty.call(e,Dg)&&e[Dg];if(n===Object)return!0;if(!gu(n))return!1;let r=PO.get(n);return r===void 0&&(r=Function.toString.call(n),PO.set(n,r)),r===OK}function Qv(t,e,n=!0){Ch(t)===0?(n?Reflect.ownKeys(t):di.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Ch(t){const e=t[Rr];return e?e.type_:Zv(t)?1:Jv(t)?2:e0(t)?3:0}var RO=(t,e,n=Ch(t))=>n===2?t.has(e):di[Xv].hasOwnProperty.call(t,e),w_=(t,e,n=Ch(t))=>n===2?t.get(e):t[e],zg=(t,e,n,r=Ch(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function IK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Zv=Array.isArray,Jv=t=>t instanceof Map,e0=t=>t instanceof Set,jS=t=>typeof t=="object",gu=t=>typeof t=="function",r1=t=>typeof t=="boolean";function PK(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ms=t=>t.copy_||t.base_,CS=t=>t.modified_?t.copy_:t.base_;function S_(t,e){if(Jv(t))return new Map(t);if(e0(t))return new Set(t);if(Zv(t))return Array[Xv].slice.call(t);const n=U4(t);if(e===!0||e==="class_only"&&!n){const r=di.getOwnPropertyDescriptors(t);delete r[Rr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u[tg]===!1&&(u[tg]=!0,u[__]=!0),(u.get||u.set)&&(r[l]={[__]:!0,[tg]:!0,[Lg]:u[Lg],[Yf]:t[l]})}return di.create(zu(t),r)}else{const r=zu(t);if(r!==null&&n)return{...t};const i=di.create(r);return di.assign(i,t)}}function OS(t,e=!1){return t0(t)||Ps(t)||!ra(t)||(Ch(t)>1&&di.defineProperties(t,{set:Cp,add:Cp,clear:Cp,delete:Cp}),di.freeze(t),e&&Qv(t,(n,r)=>{OS(r,!0)},!1)),t}function RK(){Xi(2)}var Cp={[Yf]:RK};function t0(t){return t===null||!jS(t)?!0:di.isFrozen(t)}var Vg="MapSet",E_="Patches",kO="ArrayMethods",B4={};function uc(t){const e=B4[t];return e||Xi(0,t),e}var MO=t=>!!B4[t],Wf,$4=()=>Wf,kK=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MO(Vg)?uc(Vg):void 0,arrayMethodsPlugin_:MO(kO)?uc(kO):void 0});function DO(t,e){e&&(t.patchPlugin_=uc(E_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function A_(t){T_(t),t.drafts_.forEach(MK),t.drafts_=null}function T_(t){t===Wf&&(Wf=t.parent_)}var LO=t=>Wf=kK(Wf,t);function MK(t){const e=t[Rr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Rr].modified_&&(A_(e),Xi(4)),ra(t)&&(t=VO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Rr].base_,t,e)}else t=VO(e,n);return DK(e,t,!0),A_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==V4?t:void 0}function VO(t,e){if(t0(e))return e;const n=e[Rr];if(!n)return Ug(e,t.handledSet_,t);if(!n0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);H4(n,t)}return n.copy_}function DK(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&OS(e,n)}function q4(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var n0=(t,e)=>t.scope_===e,LK=[];function F4(t,e,n,r){const i=ms(t),s=t.type_;if(r!==void 0&&w_(i,r,s)===e){zg(i,r,n,s);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Qv(i,(d,m)=>{if(Ps(m)){const p=u.get(m)||[];p.push(d),u.set(m,p)}})}const l=t.draftLocations_.get(e)??LK;for(const u of l)zg(i,u,n,s)}function zK(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!n0(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const l=CS(s);F4(t,s.draft_??s,l,n),H4(s,i)})}function H4(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}q4(t)}}function VK(t,e,n){const{scope_:r}=t;if(Ps(n)){const i=n[Rr];n0(i,r)&&i.callbacks_.push(function(){ng(t);const l=CS(i);F4(t,n,l,e)})}else ra(n)&&t.callbacks_.push(function(){const s=ms(t);t.type_===3?s.has(n)&&Ug(n,r.handledSet_,r):w_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Ug(w_(t.copy_,e,t.type_),r.handledSet_,r)})}function Ug(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ps(t)||e.has(t)||!ra(t)||t0(t)||(e.add(t),Qv(t,(r,i)=>{if(Ps(i)){const s=i[Rr];if(n0(s,n)){const l=CS(s);zg(t,r,l,t.type_),q4(s)}}else ra(i)&&Ug(i,e,n)})),t}function UK(t,e){const n=Zv(t),r={type_:n?1:0,scope_:e?e.scope_:$4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=Bg;n&&(i=[r],s=Xf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,[u,r]}var Bg={get(t,e){if(e===Rr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ms(t);if(!RO(i,e,t.type_))return BK(t,i,e);const s=i[e];if(t.finalized_||!ra(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&PK(e))return s;if(s===i1(t.base_,e)){ng(t);const l=t.type_===1?+e:e,u=j_(t.scope_,s,t,l);return t.copy_[l]=u}return s},has(t,e){return e in ms(t)},ownKeys(t){return Reflect.ownKeys(ms(t))},set(t,e,n){const r=K4(ms(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=i1(ms(t),e),s=i?.[Rr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(IK(n,i)&&(n!==void 0||RO(t.base_,e,t.type_)))return!0;ng(t),N_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),VK(t,e,n)),!0},deleteProperty(t,e){return ng(t),i1(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),N_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ms(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[tg]:!0,[__]:t.type_!==1||e!=="length",[Lg]:r[Lg],[Yf]:n[e]}},defineProperty(){Xi(11)},getPrototypeOf(t){return zu(t.base_)},setPrototypeOf(){Xi(12)}},Xf={};for(let t in Bg){let e=Bg[t];Xf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Xf.deleteProperty=function(t,e){return Xf.set.call(this,t,e,void 0)};Xf.set=function(t,e,n){return Bg.set.call(this,t[0],e,n,t[0])};function i1(t,e){const n=t[Rr];return(n?ms(n):t)[e]}function BK(t,e,n){const r=K4(e,n);return r?Yf in r?r[Yf]:r.get?.call(t.draft_):void 0}function K4(t,e){if(!(e in t))return;let n=zu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zu(n)}}function N_(t){t.modified_||(t.modified_=!0,t.parent_&&N_(t.parent_))}function ng(t){t.copy_||(t.assigned_=new Map,t.copy_=S_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $K=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(gu(n)&&!gu(r)){const l=r;r=n;const u=this;return function(m=l,...p){return u.produce(m,g=>r.call(this,g,...p))}}gu(r)||Xi(6),i!==void 0&&!gu(i)&&Xi(7);let s;if(ra(n)){const l=LO(this),u=j_(l,n,void 0);let d=!0;try{s=r(u),d=!1}finally{d?A_(l):T_(l)}return DO(l,i),zO(s,l)}else if(!n||!jS(n)){if(s=r(n),s===void 0&&(s=n),s===V4&&(s=void 0),this.autoFreeze_&&OS(s,!0),i){const l=[],u=[];uc(E_).generateReplacementPatches_(n,s,{patches_:l,inversePatches_:u}),i(l,u)}return s}else Xi(1,n)},this.produceWithPatches=(n,r)=>{if(gu(n))return(u,...d)=>this.produceWithPatches(u,m=>n(m,...d));let i,s;return[this.produce(n,r,(u,d)=>{i=u,s=d}),i,s]},r1(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),r1(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),r1(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ra(e)||Xi(8),Ps(e)&&(e=ta(e));const n=LO(this),r=j_(n,e,void 0);return r[Rr].isManual_=!0,T_(n),r}finishDraft(e,n){const r=e&&e[Rr];(!r||!r.isManual_)&&Xi(9);const{scope_:i}=r;return DO(i,n),zO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=uc(E_).applyPatches_;return Ps(e)?i(e,n):this.produce(e,s=>i(s,n))}};function j_(t,e,n,r){const[i,s]=Jv(e)?uc(Vg).proxyMap_(e,n):e0(e)?uc(Vg).proxySet_(e,n):UK(e,n);return(n?.scope_??$4()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?zK(n,s,r):s.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:m}=d;s.modified_&&m&&m.generatePatches_(s,[],d)}),i}function ta(t){return Ps(t)||Xi(10,t),G4(t)}function G4(t){if(!ra(t)||t0(t))return t;const e=t[Rr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=S_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=S_(t,!0);return Qv(n,(i,s)=>{zg(n,i,G4(s))},r),e&&(e.finalized_=!1),n}var qK=new $K,Y4=qK.produce;function W4(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var FK=W4(),HK=W4,KK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mg:Mg.apply(null,arguments)};function Di(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>z4(r)&&r.type===t,n}var X4=class Nf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Nf.prototype)}static get[Symbol.species](){return Nf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Nf(...e[0].concat(this)):new Nf(...e.concat(this))}};function UO(t){return ra(t)?Y4(t,()=>{}):t}function Op(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function GK(t){return typeof t=="boolean"}var YK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new X4;return n&&(GK(n)?l.push(FK):l.push(HK(n.extraArgument))),l},Q4="RTK_autoBatch",Qt=()=>t=>({payload:t,meta:{[Q4]:!0}}),BO=t=>e=>{setTimeout(e,t)},Z4=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const u=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BO(10):t.type==="callback"?t.queueNotification:BO(t.timeout),m=()=>{l=!1,s&&(s=!1,u.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const g=()=>i&&p(),b=r.subscribe(g);return u.add(p),()=>{b(),u.delete(p)}},dispatch(p){try{return i=!p?.meta?.[Q4],s=!i,s&&(l||(l=!0,d(m))),r.dispatch(p)}finally{i=!0}}})},WK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new X4(t);return r&&i.push(Z4(typeof r=="object"?r:void 0)),i};function XK(t){const e=YK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(NS(n))u=L4(n);else throw new Error(fi(1));let d;typeof r=="function"?d=r(e):d=e();let m=Mg;i&&(m=KK({trace:!1,...typeof i=="object"&&i}));const p=CK(...d),g=WK(p);let b=typeof l=="function"?l(g):g();const w=m(...b);return D4(u,s,w)}function J4(t){const e={},n=[];let r;const i={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(fi(28));if(u in e)throw new Error(fi(29));return e[u]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function QK(t){return typeof t=="function"}function ZK(t,e){let[n,r,i]=J4(e),s;if(QK(t))s=()=>UO(t());else{const u=UO(t);s=()=>u}function l(u=s(),d){let m=[n[d.type],...r.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return m.filter(p=>!!p).length===0&&(m=[i]),m.reduce((p,g)=>{if(g)if(Ps(p)){const w=g(p,d);return w===void 0?p:w}else{if(ra(p))return Y4(p,b=>g(b,d));{const b=g(p,d);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},u)}return l.getInitialState=s,l}var JK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eG=(t=21)=>{let e="",n=t;for(;n--;)e+=JK[Math.random()*64|0];return e},tG=Symbol.for("rtk-slice-createasyncthunk");function nG(t,e){return`${t}/${e}`}function rG({creators:t}={}){const e=t?.asyncThunk?.[tG];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(fi(11));const l=(typeof r.reducers=="function"?r.reducers(aG()):r.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(k,B){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(fi(12));if(M in d.sliceCaseReducersByType)throw new Error(fi(13));return d.sliceCaseReducersByType[M]=B,m},addMatcher(k,B){return d.sliceMatchers.push({matcher:k,reducer:B}),m},exposeAction(k,B){return d.actionCreators[k]=B,m},exposeCaseReducer(k,B){return d.sliceCaseReducersByName[k]=B,m}};u.forEach(k=>{const B=l[k],M={reducerName:k,type:nG(i,k),createNotation:typeof r.reducers=="function"};oG(B)?cG(M,B,m,e):sG(M,B,m)});function p(){const[k={},B=[],M=void 0]=typeof r.extraReducers=="function"?J4(r.extraReducers):[r.extraReducers],q={...k,...d.sliceCaseReducersByType};return ZK(r.initialState,j=>{for(let E in q)j.addCase(E,q[E]);for(let E of d.sliceMatchers)j.addMatcher(E.matcher,E.reducer);for(let E of B)j.addMatcher(E.matcher,E.reducer);M&&j.addDefaultCase(M)})}const g=k=>k,b=new Map,w=new WeakMap;let T;function S(k,B){return T||(T=p()),T(k,B)}function A(){return T||(T=p()),T.getInitialState()}function I(k,B=!1){function M(j){let E=j[k];return typeof E>"u"&&B&&(E=Op(w,M,A)),E}function q(j=g){const E=Op(b,B,()=>new WeakMap);return Op(E,j,()=>{const O={};for(const[R,D]of Object.entries(r.selectors??{}))O[R]=iG(D,j,()=>Op(w,j,A),B);return O})}return{reducerPath:k,getSelectors:q,get selectors(){return q(M)},selectSlice:M}}const L={name:i,reducer:S,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:A,...I(s),injectInto(k,{reducerPath:B,...M}={}){const q=B??s;return k.inject({reducerPath:q,reducer:S},M),{...L,...I(q,!0)}}};return L}}function iG(t,e,n,r){function i(s,...l){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Wr=rG();function aG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sG({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!lG(r))throw new Error(fi(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?Di(t,l):Di(t))}function oG(t){return t._reducerDefinitionType==="asyncThunk"}function lG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fi(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:d,settled:m,options:p}=n,g=i(t,s,p);r.exposeAction(e,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),d&&r.addCase(g.rejected,d),m&&r.addMatcher(g.settled,m),r.exposeCaseReducer(e,{fulfilled:l||Ip,pending:u||Ip,rejected:d||Ip,settled:m||Ip})}function Ip(){}var uG="task",e5="listener",t5="completed",IS="cancelled",dG=`task-${IS}`,fG=`task-${t5}`,C_=`${e5}-${IS}`,hG=`${e5}-${t5}`,r0=class{constructor(t){this.code=t,this.message=`${uG} ${IS} (reason: ${t})`}name="TaskAbortError";message},PS=(t,e)=>{if(typeof t!="function")throw new TypeError(fi(32))},$g=()=>{},n5=(t,e=$g)=>(t.catch(e),t),r5=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Xl=t=>{if(t.aborted)throw new r0(t.reason)};function i5(t,e){let n=$g;return new Promise((r,i)=>{const s=()=>i(new r0(t.reason));if(t.aborted){s();return}n=r5(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=$g})}var mG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof r0?"cancelled":"rejected",error:n}}finally{e?.()}},qg=t=>e=>n5(i5(t,e).then(n=>(Xl(t),n))),a5=t=>{const e=qg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Au}=Object,$O={},i0="listenerMiddleware",pG=(t,e)=>{const n=r=>r5(t,()=>r.abort(t.reason));return(r,i)=>{PS(r);const s=new AbortController;n(s);const l=mG(async()=>{Xl(t),Xl(s.signal);const u=await r({pause:qg(s.signal),delay:a5(s.signal),signal:s.signal});return Xl(s.signal),u},()=>s.abort(fG));return i?.autoJoin&&e.push(l.catch($g)),{result:qg(t)(l),cancel(){s.abort(dG)}}}},gG=(t,e)=>{const n=async(r,i)=>{Xl(e);let s=()=>{};const u=[new Promise((d,m)=>{let p=t({predicate:r,effect:(g,b)=>{b.unsubscribe(),d([g,b.getState(),b.getOriginalState()])}});s=()=>{p(),m()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await i5(e,Promise.race(u));return Xl(e),d}finally{s()}};return(r,i)=>n5(n(r,i))},s5=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Di(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(fi(21));return PS(s),{predicate:i,type:e,effect:s}},o5=Au(t=>{const{type:e,predicate:n,effect:r}=s5(t);return{id:eG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>o5}),qO=(t,e)=>{const{type:n,effect:r,predicate:i}=s5(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},O_=t=>{t.pending.forEach(e=>{e.abort(C_)})},vG=(t,e)=>()=>{for(const n of e.keys())O_(n);t.clear()},FO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},l5=Au(Di(`${i0}/add`),{withTypes:()=>l5}),yG=Di(`${i0}/removeAll`),c5=Au(Di(`${i0}/remove`),{withTypes:()=>c5}),bG=(...t)=>{console.error(`${i0}/error`,...t)},Oh=(t={})=>{const e=new Map,n=new Map,r=w=>{const T=n.get(w)??0;n.set(w,T+1)},i=w=>{const T=n.get(w)??1;T===1?n.delete(w):n.set(w,T-1)},{extra:s,onError:l=bG}=t;PS(l);const u=w=>(w.unsubscribe=()=>e.delete(w.id),e.set(w.id,w),T=>{w.unsubscribe(),T?.cancelActive&&O_(w)}),d=w=>{const T=qO(e,w)??o5(w);return u(T)};Au(d,{withTypes:()=>d});const m=w=>{const T=qO(e,w);return T&&(T.unsubscribe(),w.cancelActive&&O_(T)),!!T};Au(m,{withTypes:()=>m});const p=async(w,T,S,A)=>{const I=new AbortController,L=gG(d,I.signal),k=[];try{w.pending.add(I),r(w),await Promise.resolve(w.effect(T,Au({},S,{getOriginalState:A,condition:(B,M)=>L(B,M).then(Boolean),take:L,delay:a5(I.signal),pause:qg(I.signal),extra:s,signal:I.signal,fork:pG(I.signal,k),unsubscribe:w.unsubscribe,subscribe:()=>{e.set(w.id,w)},cancelActiveListeners:()=>{w.pending.forEach((B,M,q)=>{B!==I&&(B.abort(C_),q.delete(B))})},cancel:()=>{I.abort(C_),w.pending.delete(I)},throwIfCancelled:()=>{Xl(I.signal)}})))}catch(B){B instanceof r0||FO(l,B,{raisedBy:"effect"})}finally{await Promise.all(k),I.abort(hG),i(w),w.pending.delete(I)}},g=vG(e,n);return{middleware:w=>T=>S=>{if(!z4(S))return T(S);if(l5.match(S))return d(S.payload);if(yG.match(S)){g();return}if(c5.match(S))return m(S.payload);let A=w.getState();const I=()=>{if(A===$O)throw new Error(fi(23));return A};let L;try{if(L=T(S),e.size>0){const k=w.getState(),B=Array.from(e.values());for(const M of B){let q=!1;try{q=M.predicate(S,k,A)}catch(j){q=!1,FO(l,j,{raisedBy:"predicate"})}q&&p(M,S,w,I)}}}finally{A=$O}return L},startListening:d,stopListening:m,clearListeners:g}};function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},u5=Wr({name:"chartLayout",initialState:xG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:_G,setLayout:wG,setChartSize:SG,setScale:EG}=u5.actions,AG=u5.reducer;function d5(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Lt(t){return Number.isFinite(t)}function za(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){TG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TG(t,e,n){return(e=NG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NG(t){var e=jG(t,"string");return typeof e=="symbol"?e:e+""}function jG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vt(t,e,n){return Gt(t)||Gt(e)?n:La(e)?cc(t,e,n):typeof e=="function"?e(t):n}var CG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&Ne(t[s]))return yu(yu({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&Ne(t[l]))return yu(yu({},t),{},{[l]:t[l]+(i||0)})}return t},$a=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",f5=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,s,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||l.push(e),s||l.push(n),l},h5=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:m,tickCount:p,ticks:g,niceTicks:b,axisType:w}=t;if(!l)return null;var T=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(S=w==="angleAxis"&&s&&s.length>=2?Qn(s[0]-s[1])*2*S:S,g||b){var A=(g||b||[]).map((I,L)=>{var k=r?r.indexOf(I):I;return{coordinate:l(k)+S,value:I,offset:S,index:L}});return A.filter(I=>!Mi(I.coordinate))}return d&&m?m.map((I,L)=>({coordinate:l(I)+S,value:I,index:L,offset:S})):l.ticks&&p!=null?l.ticks(p).map((I,L)=>({coordinate:l(I)+S,value:I,offset:S,index:L})):l.domain().map((I,L)=>({coordinate:l(I)+S,value:r?r[I]:I,index:L,offset:S}))},KO=1e-4,OG=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-KO,s=Math.max(r[0],r[1])+KO,l=t(e[0]),u=t(e[n-1]);(l<i||l>s||u<i||u>s)&&t.domain([e[0],e[n-1]])}},IG=(t,e)=>{if(!e||e.length!==2||!Ne(e[0])||!Ne(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ne(t[0])||t[0]<n)&&(i[0]=n),(!Ne(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},PG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0,u=0;u<n;++u){var d=t[u],m=d?.[i];if(m!=null){var p=m[1],g=m[0],b=Mi(p)?g:p;b>=0?(m[0]=s,m[1]=s+b,s=p):(m[0]=l,m[1]=l+b,l=p)}}}},RG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,l=0;l<n;++l){var u=t[l],d=u?.[i];if(d!=null){var m=Mi(d[1])?d[0]:d[1];m>=0?(d[0]=s,d[1]=s+m,s=d[1]):(d[0]=0,d[1]=0)}}}},kG={sign:PG,expand:JF,none:lc,silhouette:eH,wiggle:tH,positive:RG},MG=(t,e,n)=>{var r,i=(r=kG[n])!==null&&r!==void 0?r:lc,s=ZF().keys(e).value((u,d)=>Number(vt(u,d,0))).order(b_).offset(i),l=s(t);return l.forEach((u,d)=>{u.forEach((m,p)=>{var g=vt(t[p],e[d],0);Array.isArray(g)&&g.length===2&&Ne(g[0])&&Ne(g[1])&&(m[0]=g[0],m[1]=g[1])})}),l};function m5(t){return t==null?void 0:String(t)}function Fg(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Gt(i[e.dataKey])){var u=y4(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=vt(i,Gt(l)?e.dataKey:l);return Gt(d)?null:e.scale(d)}var GO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=vt(s,e.dataKey,e.scale.domain()[l]);return Gt(u)?null:e.scale(u)-i/2+r},DG=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},LG=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},zG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],VG=(t,e,n)=>{if(t!=null)return zG(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:l}=s,u=l.reduce((d,m)=>{var p=d5(m,e,n),g=LG(p);return!Lt(g[0])||!Lt(g[1])?d:[Math.min(d[0],g[0]),Math.max(d[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},YO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,el=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Wv(e,p=>p.coordinate),s=1/0,l=1,u=i.length;l<u;l++){var d=i[l],m=i[l-1];s=Math.min((d?.coordinate||0)-(m?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function XO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return yu(yu({},e),{},{dataKey:n,payload:r,value:i,name:s})}function ol(t,e){if(t)return String(t);if(typeof e=="string")return e}var UG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},BG=(t,e)=>e==="centric"?t.angle:t.radius,$s=t=>t.layout.width,qs=t=>t.layout.height,$G=t=>t.layout.scale,p5=t=>t.layout.margin,a0=re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),s0=re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),g5="data-recharts-item-index",v5="data-recharts-item-id",Ih=60;function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=FG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KG=t=>t.brush.height;function GG(t){var e=s0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ih;return n+i}return n},0)}function YG(t){var e=s0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ih;return n+i}return n},0)}function WG(t){var e=a0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function XG(t){var e=a0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ln=re([$s,qs,p5,KG,GG,YG,WG,XG,k4,wK],(t,e,n,r,i,s,l,u,d,m)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},b=Pp(Pp({},g),p),w=b.bottom;b.bottom+=r,b=CG(b,d,m);var T=t-b.left-b.right,S=e-b.top-b.bottom;return Pp(Pp({brushBottom:w},b),{},{width:Math.max(T,0),height:Math.max(S,0)})}),QG=re(Ln,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),RS=re($s,qs,(t,e)=>({x:0,y:0,width:t,height:e})),ZG=_.createContext(null),Zn=()=>_.useContext(ZG)!=null,o0=t=>t.brush,l0=re([o0,Ln,p5],(t,e,n)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ne(t.width)?t.width:e.width})),a1={},s1={},o1={},ZO;function JG(){return ZO||(ZO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,u=null;const d=s!=null&&s.includes("leading"),m=s==null||s.includes("trailing"),p=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{m&&p(),S()};let b=null;const w=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},T=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{T(),l=void 0,u=null},A=()=>{p()},I=function(...L){if(i?.aborted)return;l=this,u=L;const k=b==null;w(),d&&k&&p()};return I.schedule=w,I.cancel=S,I.flush=A,i?.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(o1)),o1}var JO;function eY(){return JO||(JO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JG();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:d}=s,m=Array(2);l&&(m[0]="leading"),u&&(m[1]="trailing");let p,g=null;const b=e.debounce(function(...S){p=r.apply(this,S),g=null},i,{edges:m}),w=function(...S){return d!=null&&(g===null&&(g=Date.now()),Date.now()-g>=d)?(p=r.apply(this,S),g=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,S),p)},T=()=>(b.flush(),p);return w.cancel=b.cancel,w.flush=T,w}t.debounce=n})(s1)),s1}var eI;function tY(){return eI||(eI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eY();function n(r,i=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(a1)),a1}var l1,tI;function nY(){return tI||(tI=1,l1=tY().throttle),l1}var rY=nY();const iY=Vs(rY);var Hg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},y5=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,u=Is(r)?t:Number(r),d=Is(i)?e:Number(i);return s&&s>0&&(u?d=u/s:d&&(u=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},aY={width:0,height:0,overflow:"visible"},sY={width:0,overflowX:"visible"},oY={height:0,overflowY:"visible"},lY={},cY=t=>{var{width:e,height:n}=t,r=Is(e),i=Is(n);return r&&i?aY:r?sY:i?oY:lY};function uY(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(null,arguments)}function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){dY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dY(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=hY(t,"string");return typeof e=="symbol"?e:e+""}function hY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b5=_.createContext({width:-1,height:-1});function mY(t){return za(t.width)&&za(t.height)}function x5(t){var{children:e,width:n,height:r}=t,i=_.useMemo(()=>({width:n,height:r}),[n,r]);return mY(i)?_.createElement(b5.Provider,{value:i},e):null}var kS=()=>_.useContext(b5),pY=_.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:u,maxHeight:d,children:m,debounce:p=0,id:g,className:b,onResize:w,style:T={}}=t,S=_.useRef(null),A=_.useRef();A.current=w,_.useImperativeHandle(e,()=>S.current);var[I,L]=_.useState({containerWidth:r.width,containerHeight:r.height}),k=_.useCallback((E,O)=>{L(R=>{var D=Math.round(E),V=Math.round(O);return R.containerWidth===D&&R.containerHeight===V?R:{containerWidth:D,containerHeight:V}})},[]);_.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Nh;var E=V=>{var z,{width:X,height:ce}=V[0].contentRect;k(X,ce),(z=A.current)===null||z===void 0||z.call(A,X,ce)};p>0&&(E=iY(E,p,{trailing:!0,leading:!1}));var O=new ResizeObserver(E),{width:R,height:D}=S.current.getBoundingClientRect();return k(R,D),O.observe(S.current),()=>{O.disconnect()}},[k,p]);var{containerWidth:B,containerHeight:M}=I;Hg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:q,calculatedHeight:j}=y5(B,M,{width:i,height:s,aspect:n,maxHeight:d});return Hg(q!=null&&q>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,j,i,s,l,u,n),_.createElement("div",{id:g?"".concat(g):void 0,className:ut("recharts-responsive-container",b),style:rI(rI({},T),{},{width:i,height:s,minWidth:l,minHeight:u,maxHeight:d}),ref:S},_.createElement("div",{style:cY({width:i,height:s})},_.createElement(x5,{width:q,height:j},m)))}),c0=_.forwardRef((t,e)=>{var n=kS();if(za(n.width)&&za(n.height))return t.children;var{width:r,height:i}=uY({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=y5(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(s)&&Ne(l)?_.createElement(x5,{width:s,height:l},t.children):_.createElement(pY,I_({},t,{width:r,height:i,ref:e}))});function _5(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var u0=()=>{var t,e=Zn(),n=Re(QG),r=Re(l0),i=(t=Re(o0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},gY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},w5=()=>{var t;return(t=Re(Ln))!==null&&t!==void 0?t:gY},MS=()=>Re($s),DS=()=>Re(qs),vY=()=>Re(t=>t.layout.margin),tt=t=>t.layout.layoutType,ll=()=>Re(tt),yY=()=>{var t=ll();if(t==="horizontal"||t==="vertical")return t},bY=()=>{var t=ll();return t!==void 0},d0=t=>{var e=Bt(),n=Zn(),{width:r,height:i}=t,s=kS(),l=r,u=i;return s&&(l=s.width>0?s.width:r,u=s.height>0?s.height:i),_.useEffect(()=>{!n&&za(l)&&za(u)&&e(SG({width:l,height:u}))},[e,n,l,u]),null},S5=Symbol.for("immer-nothing"),iI=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function Qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Qf=Object.getPrototypeOf;function Vu(t){return!!t&&!!t[hi]}function dc(t){return t?E5(t)||Array.isArray(t)||!!t[iI]||!!t.constructor?.[iI]||Ph(t)||h0(t):!1}var xY=Object.prototype.constructor.toString(),aI=new WeakMap;function E5(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=aI.get(n);return r===void 0&&(r=Function.toString.call(n),aI.set(n,r)),r===xY}function Kg(t,e,n=!0){f0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function f0(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:Ph(t)?2:h0(t)?3:0}function P_(t,e){return f0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A5(t,e,n){const r=f0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function _Y(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ph(t){return t instanceof Map}function h0(t){return t instanceof Set}function Ul(t){return t.copy_||t.base_}function R_(t,e){if(Ph(t))return new Map(t);if(h0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=E5(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[hi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(Qf(t),r)}else{const r=Qf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function LS(t,e=!1){return m0(t)||Vu(t)||!dc(t)||(f0(t)>1&&Object.defineProperties(t,{set:Rp,add:Rp,clear:Rp,delete:Rp}),Object.freeze(t),e&&Object.values(t).forEach(n=>LS(n,!0))),t}function wY(){Qi(2)}var Rp={value:wY};function m0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var SY={};function fc(t){const e=SY[t];return e||Qi(0,t),e}var Zf;function T5(){return Zf}function EY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sI(t,e){e&&(fc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function k_(t){M_(t),t.drafts_.forEach(AY),t.drafts_=null}function M_(t){t===Zf&&(Zf=t.parent_)}function oI(t){return Zf=EY(Zf,t)}function AY(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[hi].modified_&&(k_(e),Qi(4)),dc(t)&&(t=Gg(e,t),e.parent_||Yg(e,t)),e.patches_&&fc("Patches").generateReplacementPatches_(n[hi].base_,t,e.patches_,e.inversePatches_)):t=Gg(e,n,[]),k_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==S5?t:void 0}function Gg(t,e,n){if(m0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[hi];if(!i)return Kg(e,(s,l)=>cI(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Yg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,u=!1;i.type_===3&&(l=new Set(s),s.clear(),u=!0),Kg(l,(d,m)=>cI(t,i,s,d,m,n,u),r),Yg(t,s,!1),n&&t.patches_&&fc("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function cI(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const u=m0(i);if(!(u&&!l)){if(Vu(i)){const d=s&&e&&e.type_!==3&&!P_(e.assigned_,r)?s.concat(r):void 0,m=Gg(t,i,d);if(A5(n,r,m),Vu(m))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(dc(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;Gg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ph(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Yg(t,i)}}}function Yg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LS(e,n)}function TY(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:T5(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=zS;n&&(i=[r],s=Jf);const{revoke:l,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=l,u}var zS={get(t,e){if(e===hi)return t;const n=Ul(t);if(!P_(n,e))return NY(t,n,e);const r=n[e];return t.finalized_||!dc(r)?r:r===c1(t.base_,e)?(u1(t),t.copy_[e]=L_(r,t)):r},has(t,e){return e in Ul(t)},ownKeys(t){return Reflect.ownKeys(Ul(t))},set(t,e,n){const r=N5(Ul(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=c1(Ul(t),e),s=i?.[hi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(_Y(n,i)&&(n!==void 0||P_(t.base_,e)))return!0;u1(t),D_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return c1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,u1(t),D_(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ul(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Qi(11)},getPrototypeOf(t){return Qf(t.base_)},setPrototypeOf(){Qi(12)}},Jf={};Kg(zS,(t,e)=>{Jf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jf.deleteProperty=function(t,e){return Jf.set.call(this,t,e,void 0)};Jf.set=function(t,e,n){return zS.set.call(this,t[0],e,n,t[0])};function c1(t,e){const n=t[hi];return(n?Ul(n):t)[e]}function NY(t,e,n){const r=N5(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function N5(t,e){if(!(e in t))return;let n=Qf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Qf(n)}}function D_(t){t.modified_||(t.modified_=!0,t.parent_&&D_(t.parent_))}function u1(t){t.copy_||(t.copy_=R_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var jY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...m){return l.produce(d,p=>n.call(this,p,...m))}}typeof n!="function"&&Qi(6),r!==void 0&&typeof r!="function"&&Qi(7);let i;if(dc(e)){const s=oI(this),l=L_(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?k_(s):M_(s)}return sI(s,r),lI(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===S5&&(i=void 0),this.autoFreeze_&&LS(i,!0),r){const s=[],l=[];fc("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else Qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,d=>e(d,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){dc(t)||Qi(8),Vu(t)&&(t=CY(t));const e=oI(this),n=L_(t,void 0);return n[hi].isManual_=!0,M_(e),n}finishDraft(t,e){const n=t&&t[hi];(!n||!n.isManual_)&&Qi(9);const{scope_:r}=n;return sI(r,e),lI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=fc("Patches").applyPatches_;return Vu(t)?r(t,e):this.produce(t,i=>r(i,e))}};function L_(t,e){const n=Ph(t)?fc("MapSet").proxyMap_(t,e):h0(t)?fc("MapSet").proxySet_(t,e):TY(t,e);return(e?e.scope_:T5()).drafts_.push(n),n}function CY(t){return Vu(t)||Qi(10,t),j5(t)}function j5(t){if(!dc(t)||m0(t))return t;const e=t[hi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=R_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=R_(t,!0);return Kg(n,(i,s)=>{A5(n,i,j5(s))},r),e&&(e.finalized_=!1),n}var OY=new jY;OY.produce;var IY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},C5=Wr({name:"legend",initialState:IY,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Qt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Qt()},removeLegendPayload:{reducer(t,e){var n=ta(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Qt()}}}),{setLegendSize:uI,setLegendSettings:PY,addLegendPayload:O5,replaceLegendPayload:I5,removeLegendPayload:P5}=C5.actions,RY=C5.reducer,kY=["contextPayload"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(null,arguments)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){MY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MY(t,e,n){return(e=DY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zY(t,e){if(t==null)return{};var n,r,i=VY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UY(t){return t.value}function BY(t){var{contextPayload:e}=t,n=zY(t,kY),r=O4(e,t.payloadUniqBy,UY),i=Uu(Uu({},n),{},{payload:r});return _.isValidElement(t.content)?_.cloneElement(t.content,i):typeof t.content=="function"?_.createElement(t.content,i):_.createElement(IH,i)}function $Y(t,e,n,r,i,s){var{layout:l,align:u,verticalAlign:d}=e,m,p;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&l==="vertical"?m={left:((r||0)-s.width)/2}:m=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?p={top:((i||0)-s.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Uu(Uu({},m),p)}function qY(t){var e=Bt();return _.useEffect(()=>{e(PY(t))},[e,t]),null}function FY(t){var e=Bt();return _.useEffect(()=>(e(uI(t)),()=>{e(uI({width:0,height:0}))}),[e,t]),null}function HY(t,e,n,r){return t==="vertical"&&Ne(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var KY={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function p0(t){var e=cn(t,KY),n=AK(),r=wF(),i=vY(),{width:s,height:l,wrapperStyle:u,portal:d}=e,[m,p]=M4([n]),g=MS(),b=DS();if(g==null||b==null)return null;var w=g-(i?.left||0)-(i?.right||0),T=HY(e.layout,l,s,w),S=d?u:Uu(Uu({position:"absolute",width:T?.width||s||"auto",height:T?.height||l||"auto"},$Y(u,e,i,g,b,m)),u),A=d??r;if(A==null||n==null)return null;var I=_.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:p},_.createElement(qY,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!d&&_.createElement(FY,{width:m.width,height:m.height}),_.createElement(BY,z_({},e,T,{margin:i,chartWidth:g,chartHeight:b,contextPayload:n})));return gS.createPortal(I,A)}p0.displayName="Legend";function V_(){return V_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V_.apply(null,arguments)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){GY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GY(t,e,n){return(e=YY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=WY(t,"string");return typeof e=="symbol"?e:e+""}function WY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XY(t){return Array.isArray(t)&&La(t[0])&&La(t[1])?t.join(" ~ "):t}var QY=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:m,label:p,labelFormatter:g,accessibilityLayer:b=!1}=t,w=()=>{if(s&&s.length){var M={padding:0,margin:0},q=(u?Wv(s,u):s).map((j,E)=>{if(j.type==="none")return null;var O=j.formatter||l||XY,{value:R,name:D}=j,V=R,z=D;if(O){var X=O(R,D,j,E,s);if(Array.isArray(X))[V,z]=X;else if(X!=null)V=X;else return null}var ce=d1({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ce},La(z)?_.createElement("span",{className:"recharts-tooltip-item-name"},z):null,La(z)?_.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,_.createElement("span",{className:"recharts-tooltip-item-value"},V),_.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:M},q)}return null},T=d1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=d1({margin:0},i),A=!Gt(p),I=A?p:"",L=ut("recharts-default-tooltip",d),k=ut("recharts-tooltip-label",m);A&&g&&s!==void 0&&s!==null&&(I=g(p,s));var B=b?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",V_({className:L,style:T},B),_.createElement("p",{className:k,style:S},_.isValidElement(I)?I:"".concat(I)),w())},pf="recharts-tooltip-wrapper",ZY={visibility:"hidden"};function JY(t){var{coordinate:e,translateX:n,translateY:r}=t;return ut(pf,{["".concat(pf,"-right")]:Ne(n)&&e&&Ne(e.x)&&n>=e.x,["".concat(pf,"-left")]:Ne(n)&&e&&Ne(e.x)&&n<e.x,["".concat(pf,"-bottom")]:Ne(r)&&e&&Ne(e.y)&&r>=e.y,["".concat(pf,"-top")]:Ne(r)&&e&&Ne(e.y)&&r<e.y})}function hI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:m}=t;if(s&&Ne(s[r]))return s[r];var p=n[r]-u-(i>0?i:0),g=n[r]+i;if(e[r])return l[r]?p:g;var b=d[r];if(b==null)return 0;if(l[r]){var w=p,T=b;return w<T?Math.max(g,b):Math.max(p,b)}if(m==null)return 0;var S=g+u,A=b+m;return S>A?Math.max(p,b):Math.max(g,b)}function eW(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function tW(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:u,viewBox:d}=t,m,p,g;return l.height>0&&l.width>0&&n?(p=hI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=hI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),m=eW({translateX:p,translateY:g,useTranslate3d:u})):m=ZY,{cssProperties:m,cssClasses:JY({translateX:p,translateY:g,coordinate:n})}}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return(e=nW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nW(t){var e=rW(t,"string");return typeof e=="symbol"?e:e+""}function rW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class iW extends _.PureComponent{constructor(){super(...arguments),U_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),U_(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:u,isAnimationActive:d,offset:m,position:p,reverseDirection:g,useTranslate3d:b,viewBox:w,wrapperStyle:T,lastBoundingBox:S,innerRef:A,hasPortalFromProps:I}=this.props,{cssClasses:L,cssProperties:k}=tW({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:m,position:p,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:w}),B=I?{}:kp(kp({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=kp(kp({},B),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},T);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:L,style:M,ref:A},s)}}var R5=()=>{var t;return(t=Re(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(null,arguments)}function pI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pI(Object(n),!0).forEach(function(r){aW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aW(t,e,n){return(e=sW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sW(t){var e=oW(t,"string");return typeof e=="symbol"?e:e+""}function oW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vI={curveBasisClosed:BF,curveBasisOpen:$F,curveBasis:UF,curveBumpX:TF,curveBumpY:NF,curveLinearClosed:qF,curveLinear:Gv,curveMonotoneX:FF,curveMonotoneY:HF,curveNatural:KF,curveStep:GF,curveStepAfter:WF,curveStepBefore:YF},Wg=t=>Lt(t.x)&&Lt(t.y),yI=t=>t.base!=null&&Wg(t.base)&&Wg(t),gf=t=>t.x,vf=t=>t.y,lW=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Th(t));return(n==="curveMonotone"||n==="curveBump")&&e?vI["".concat(n).concat(e==="vertical"?"Y":"X")]:vI[n]||Gv},cW=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=lW(e,i),u=s?n.filter(Wg):n,d;if(Array.isArray(r)){var m=n.map((w,T)=>gI(gI({},w),{},{base:r[T]}));i==="vertical"?d=Tp().y(vf).x1(gf).x0(w=>w.base.x):d=Tp().x(gf).y1(vf).y0(w=>w.base.y);var p=d.defined(yI).curve(l),g=s?m.filter(yI):m;return p(g)}i==="vertical"&&Ne(r)?d=Tp().y(vf).x1(gf).x0(r):Ne(r)?d=Tp().x(gf).y1(vf).y0(r):d=a4().x(gf).y(vf);var b=d.defined(Wg).curve(l);return b(u)},Tu=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=ll();if((!n||!n.length)&&!r)return null;var l={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},u=n&&n.length?cW(l):r;return _.createElement("path",B_({},Pr(t),ES(t),{className:ut("recharts-curve",e),d:u===null?void 0:u,ref:i}))},uW=["x","y","top","left","width","height","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(null,arguments)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){fW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fW(t,e,n){return(e=hW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=mW(t,"string");return typeof e=="symbol"?e:e+""}function mW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pW(t,e){if(t==null)return{};var n,r,i=gW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vW=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),yW=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:u}=t,d=pW(t,uW),m=dW({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ne(e)||!Ne(n)||!Ne(s)||!Ne(l)||!Ne(r)||!Ne(i)?null:_.createElement("path",$_({},wr(m),{className:ut("recharts-cross",u),d:vW(e,n,s,l,r,i)}))};function bW(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){xW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xW(t,e,n){return(e=_W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SW=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),k5=(t,e,n)=>t.map(r=>"".concat(SW(r)," ").concat(e,"ms ").concat(n)).join(","),EW=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),eh=(t,e)=>Object.keys(e).reduce((n,r)=>_I(_I({},n),{},{[r]:t(r,e[r])}),{});function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){AW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AW(t,e,n){return(e=TW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xg=(t,e,n)=>t+(e-t)*n,q_=t=>{var{from:e,to:n}=t;return e!==n},M5=(t,e,n)=>{var r=eh((i,s)=>{if(q_(s)){var[l,u]=t(s.from,s.to,s.velocity);return kn(kn({},s),{},{from:l,velocity:u})}return s},e);return n<1?eh((i,s)=>q_(s)&&r[i]!=null?kn(kn({},s),{},{velocity:Xg(s.velocity,r[i].velocity,n),from:Xg(s.from,r[i].from,n)}):s,e):M5(t,r,n-1)};function jW(t,e,n,r,i,s){var l,u=r.reduce((b,w)=>kn(kn({},b),{},{[w]:{from:t[w],velocity:0,to:e[w]}}),{}),d=()=>eh((b,w)=>w.from,u),m=()=>!Object.values(u).filter(q_).length,p=null,g=b=>{l||(l=b);var w=b-l,T=w/n.dt;u=M5(n,u,T),i(kn(kn(kn({},t),e),d())),l=b,m()||(p=s.setTimeout(g))};return()=>(p=s.setTimeout(g),()=>{var b;(b=p)===null||b===void 0||b()})}function CW(t,e,n,r,i,s,l){var u=null,d=i.reduce((g,b)=>{var w=t[b],T=e[b];return w==null||T==null?g:kn(kn({},g),{},{[b]:[w,T]})},{}),m,p=g=>{m||(m=g);var b=(g-m)/r,w=eh((S,A)=>Xg(...A,n(b)),d);if(s(kn(kn(kn({},t),e),w)),b<1)u=l.setTimeout(p);else{var T=eh((S,A)=>Xg(...A,n(1)),d);s(kn(kn(kn({},t),e),T))}};return()=>(u=l.setTimeout(p),()=>{var g;(g=u)===null||g===void 0||g()})}const OW=(t,e,n,r,i,s)=>{var l=EW(t,e);return n==null?()=>(i(kn(kn({},t),e)),()=>{}):n.isStepper===!0?jW(t,e,n,l,i,s):CW(t,e,n,r,l,i,s)};var Qg=1e-4,D5=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],L5=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),SI=(t,e)=>n=>{var r=D5(t,e);return L5(r,n)},IW=(t,e)=>n=>{var r=D5(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return L5(i,n)},PW=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},RW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=PW(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},kW=(t,e,n,r)=>{var i=SI(t,n),s=SI(e,r),l=IW(t,n),u=m=>m>1?1:m<0?0:m,d=m=>{for(var p=m>1?1:m,g=p,b=0;b<8;++b){var w=i(g)-p,T=l(g);if(Math.abs(w-p)<Qg||T<Qg)return s(g);g=u(g-w/T)}return s(g)};return d.isStepper=!1,d},EI=function(){return kW(...RW(...arguments))},MW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,u,d)=>{var m=-(l-u)*n,p=d*r,g=d+(m-p)*i/1e3,b=d*i/1e3+l;return Math.abs(b-u)<Qg&&Math.abs(g)<Qg?[u,0]:[b,g]};return s.isStepper=!0,s.dt=i,s},DW=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EI(t);case"spring":return MW();default:if(t.split("(")[0]==="cubic-bezier")return EI(t)}return typeof t=="function"?t:null};function LW(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...m]=u;if(typeof d=="number"){i=t.setTimeout(s.bind(null,m),d);return}s(d),i=t.setTimeout(s.bind(null,m));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class zW{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function VW(){return LW(new zW)}var UW=_.createContext(VW);function BW(t,e){var n=_.useContext(UW);return _.useMemo(()=>e??n(t),[t,e,n])}var $W=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rh={isSsr:$W()},qW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},AI={t:0},f1={t:1};function id(t){var e=cn(t,qW),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:d,children:m}=e,p=n==="auto"?!Rh.isSsr:n,g=BW(e.animationId,e.animationManager),[b,w]=_.useState(p?AI:f1),T=_.useRef(null);return _.useEffect(()=>{p||w(f1)},[p]),_.useEffect(()=>{if(!p||!r)return Nh;var S=OW(AI,f1,DW(s),i,w,g.getTimeoutController()),A=()=>{T.current=S()};return g.start([d,l,A,i,u]),()=>{g.stop(),T.current&&T.current(),u()}},[p,r,i,s,l,d,u,g]),m(b.t)}function ad(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=_.useRef(Gf(e)),r=_.useRef(t);return r.current!==t&&(n.current=Gf(e),r.current=t),n.current}var FW=["radius"],HW=["radius"],TI,NI,jI,CI,OI,II,PI,RI,kI,MI;function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){KW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KW(t,e,n){return(e=GW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GW(t){var e=YW(t,"string");return typeof e=="symbol"?e:e+""}function YW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zg.apply(null,arguments)}function zI(t,e){if(t==null)return{};var n,r,i=WW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ea(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var VI=(t,e,n,r,i)=>{var s=Bo(n),l=Bo(r),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),d=l>=0?1:-1,m=s>=0?1:-1,p=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&i instanceof Array){for(var b=[0,0,0,0],w=0,T=4;w<T;w++)b[w]=i[w]>u?u:i[w];g=an(TI||(TI=Ea(["M",",",""])),t,e+d*b[0]),b[0]>0&&(g+=an(NI||(NI=Ea(["A ",",",",0,0,",",",",",""])),b[0],b[0],p,t+m*b[0],e)),g+=an(jI||(jI=Ea(["L ",",",""])),t+n-m*b[1],e),b[1]>0&&(g+=an(CI||(CI=Ea(["A ",",",",0,0,",`,
        `,",",""])),b[1],b[1],p,t+n,e+d*b[1])),g+=an(OI||(OI=Ea(["L ",",",""])),t+n,e+r-d*b[2]),b[2]>0&&(g+=an(II||(II=Ea(["A ",",",",0,0,",`,
        `,",",""])),b[2],b[2],p,t+n-m*b[2],e+r)),g+=an(PI||(PI=Ea(["L ",",",""])),t+m*b[3],e+r),b[3]>0&&(g+=an(RI||(RI=Ea(["A ",",",",0,0,",`,
        `,",",""])),b[3],b[3],p,t,e+r-d*b[3])),g+="Z"}else if(u>0&&i===+i&&i>0){var S=Math.min(u,i);g=an(kI||(kI=Ea(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+d*S,S,S,p,t+m*S,e,t+n-m*S,e,S,S,p,t+n,e+d*S,t+n,e+r-d*S,S,S,p,t+n-m*S,e+r,t+m*S,e+r,S,S,p,t,e+r-d*S)}else g=an(MI||(MI=Ea(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return g},UI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z5=t=>{var e=cn(t,UI),n=_.useRef(null),[r,i]=_.useState(-1);_.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:s,y:l,width:u,height:d,radius:m,className:p}=e,{animationEasing:g,animationDuration:b,animationBegin:w,isAnimationActive:T,isUpdateAnimationActive:S}=e,A=_.useRef(u),I=_.useRef(d),L=_.useRef(s),k=_.useRef(l),B=_.useMemo(()=>({x:s,y:l,width:u,height:d,radius:m}),[s,l,u,d,m]),M=ad(B,"rectangle-");if(s!==+s||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var q=ut("recharts-rectangle",p);if(!S){var j=wr(e),{radius:E}=j,O=zI(j,FW);return _.createElement("path",Zg({},O,{x:Bo(s),y:Bo(l),width:Bo(u),height:Bo(d),radius:typeof m=="number"?m:void 0,className:q,d:VI(s,l,u,d,m)}))}var R=A.current,D=I.current,V=L.current,z=k.current,X="0px ".concat(r===-1?1:r,"px"),ce="".concat(r,"px 0px"),K=k5(["strokeDasharray"],b,typeof g=="string"?g:UI.animationEasing);return _.createElement(id,{animationId:M,key:M,canBegin:r>0,duration:b,easing:g,isActive:S,begin:w},Z=>{var he=gt(R,u,Z),me=gt(D,d,Z),ee=gt(V,s,Z),$=gt(z,l,Z);n.current&&(A.current=he,I.current=me,L.current=ee,k.current=$);var Y;T?Z>0?Y={transition:K,strokeDasharray:ce}:Y={strokeDasharray:X}:Y={strokeDasharray:ce};var Q=wr(e),{radius:ne}=Q,_e=zI(Q,HW);return _.createElement("path",Zg({},_e,{radius:typeof m=="number"?m:void 0,className:q,d:VI(ee,$,he,me,m),ref:n,style:LI(LI({},Y),e.style)}))})};function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return(e=QW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QW(t){var e=ZW(t,"string");return typeof e=="symbol"?e:e+""}function ZW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jg=Math.PI/180,JW=t=>t*180/Math.PI,On=(t,e,n,r)=>({x:t+Math.cos(-Jg*r)*n,y:e+Math.sin(-Jg*r)*n}),V5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},eX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},tX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=eX({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>s&&(d=2*Math.PI-d),{radius:l,angle:JW(d),angleInRadian:d}},nX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},rX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},iX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=tX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:m}=nX(e),p=s,g;if(d<=m){for(;p>m;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=m}else{for(;p>d;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=d}return g?$I($I({},e),{},{radius:i,angle:rX(p,e)}):null};function U5(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=On(e,n,r,i),u=On(e,n,r,s);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var qI,FI,HI,KI,GI,YI,WI;function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(null,arguments)}function Fl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var aX=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Mp=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:d}=t,m=u*(l?1:-1)+r,p=Math.asin(u/m)/Jg,g=d?i:i+s*p,b=On(e,n,m,g),w=On(e,n,r,g),T=d?i-s*p:i,S=On(e,n,m*Math.cos(p*Jg),T);return{center:b,circleTangency:w,lineTangency:S,theta:p}},B5=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,u=aX(s,l),d=s+u,m=On(e,n,i,s),p=On(e,n,i,d),g=an(qI||(qI=Fl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,i,i,+(Math.abs(u)>180),+(s>d),p.x,p.y);if(r>0){var b=On(e,n,r,s),w=On(e,n,r,d);g+=an(FI||(FI=Fl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),w.x,w.y,r,r,+(Math.abs(u)>180),+(s<=d),b.x,b.y)}else g+=an(HI||(HI=Fl(["L ",","," Z"])),e,n);return g},sX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:m}=t,p=Qn(m-d),{circleTangency:g,lineTangency:b,theta:w}=Mp({cx:e,cy:n,radius:i,angle:d,sign:p,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:S,theta:A}=Mp({cx:e,cy:n,radius:i,angle:m,sign:-p,cornerRadius:s,cornerIsExternal:u}),I=u?Math.abs(d-m):Math.abs(d-m)-w-A;if(I<0)return l?an(KI||(KI=Fl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),b.x,b.y,s,s,s*2,s,s,-s*2):B5({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:m});var L=an(GI||(GI=Fl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),b.x,b.y,s,s,+(p<0),g.x,g.y,i,i,+(I>180),+(p<0),T.x,T.y,s,s,+(p<0),S.x,S.y);if(r>0){var{circleTangency:k,lineTangency:B,theta:M}=Mp({cx:e,cy:n,radius:r,angle:d,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:q,lineTangency:j,theta:E}=Mp({cx:e,cy:n,radius:r,angle:m,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),O=u?Math.abs(d-m):Math.abs(d-m)-M-E;if(O<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=an(YI||(YI=Fl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,s,s,+(p<0),q.x,q.y,r,r,+(O>180),+(p>0),k.x,k.y,s,s,+(p<0),B.x,B.y)}else L+=an(WI||(WI=Fl(["L",",","Z"])),e,n);return L},oX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$5=t=>{var e=cn(t,oX),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p,className:g}=e;if(s<i||m===p)return null;var b=ut("recharts-sector",g),w=s-i,T=xr(l,w,0,!0),S;return T>0&&Math.abs(m-p)<360?S=sX({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(T,w/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:m,endAngle:p}):S=B5({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:m,endAngle:p}),_.createElement("path",F_({},wr(e),{className:b,d:S}))};function lX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(x4(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:u}=e,d=On(r,i,s,u),m=On(r,i,l,u);return[{x:d.x,y:d.y},{x:m.x,y:m.y}]}return U5(e)}}var h1={},m1={},p1={},XI;function cX(){return XI||(XI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P4();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(p1)),p1}var QI;function uX(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(m1)),m1}var ZI;function dX(){return ZI||(ZI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R4(),n=uX();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(u);for(let m=0;m<u;m++)d[m]=i,i+=l;return d}t.range=r})(h1)),h1}var g1,JI;function fX(){return JI||(JI=1,g1=dX().range),g1}var hX=fX();const q5=Vs(hX);function Go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function VS(t){let e,n,r;t.length!==2?(e=Go,n=(u,d)=>Go(t(u),d),r=(u,d)=>t(u)-d):(e=t===Go||t===mX?t:pX,n=t,r=t);function i(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<0?m=g+1:p=g}while(m<p)}return m}function s(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const g=m+p>>>1;n(u[g],d)<=0?m=g+1:p=g}while(m<p)}return m}function l(u,d,m=0,p=u.length){const g=i(u,d,m,p-1);return g>m&&r(u[g-1],d)>-r(u[g],d)?g-1:g}return{left:i,center:l,right:s}}function pX(){return 0}function F5(t){return t===null?NaN:+t}function*gX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vX=VS(Go),kh=vX.right;VS(F5).center;class eP extends Map{constructor(e,n=xX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tP(this,e))}has(e){return super.has(tP(this,e))}set(e,n){return super.set(yX(this,e),n)}delete(e){return super.delete(bX(this,e))}}function tP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function yX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xX(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _X(t=Go){if(t===Go)return H5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wX=Math.sqrt(50),SX=Math.sqrt(10),EX=Math.sqrt(2);function ev(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=wX?10:s>=SX?5:s>=EX?2:1;let u,d,m;return i<0?(m=Math.pow(10,-i)/l,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,i)*l,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=n&&n<2?ev(t,e,n*2):[u,d,m]}function H_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?ev(e,t,n):ev(t,e,n);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(r)if(l<0)for(let m=0;m<u;++m)d[m]=(s-m)/-l;else for(let m=0;m<u;++m)d[m]=(s-m)*l;else if(l<0)for(let m=0;m<u;++m)d[m]=(i+m)/-l;else for(let m=0;m<u;++m)d[m]=(i+m)*l;return d}function K_(t,e,n){return e=+e,t=+t,n=+n,ev(t,e,n)[2]}function G_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?K_(e,t,n):K_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function K5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H5:_X(i);r>n;){if(r-n>600){const d=r-n+1,m=e-n+1,p=Math.log(d),g=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*g*(d-g)/d)*(m-d/2<0?-1:1),w=Math.max(n,Math.floor(e-m*g/d+b)),T=Math.min(r,Math.floor(e+(d-m)*g/d+b));K5(t,e,w,T,i)}const s=t[e];let l=n,u=r;for(yf(t,n,e),i(t[r],s)>0&&yf(t,n,r);l<u;){for(yf(t,l,u),++l,--u;i(t[l],s)<0;)++l;for(;i(t[u],s)>0;)--u}i(t[n],s)===0?yf(t,n,u):(++u,yf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function yf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AX(t,e,n){if(t=Float64Array.from(gX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rP(t);if(e>=1)return nP(t);var r,i=(r-1)*e,s=Math.floor(i),l=nP(K5(t,s).subarray(0,s+1)),u=rP(t.subarray(s+1));return l+(u-l)*(i-s)}}function TX(t,e,n=F5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return l+(u-l)*(i-s)}}function NX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Y_=Symbol("implicit");function US(){var t=new eP,e=[],n=[],r=Y_;function i(s){let l=t.get(s);if(l===void 0){if(r!==Y_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new eP;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return US(e,n).unknown(r)},zi.apply(i,arguments),i}function BS(){var t=US().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,u=!1,d=0,m=0,p=.5;delete t.unknown;function g(){var b=e().length,w=i<r,T=w?i:r,S=w?r:i;s=(S-T)/Math.max(1,b-d+m*2),u&&(s=Math.floor(s)),T+=(S-T-s*(b-d))*p,l=s*(1-d),u&&(T=Math.round(T),l=Math.round(l));var A=NX(b).map(function(I){return T+s*I});return n(w?A.reverse():A)}return t.domain=function(b){return arguments.length?(e(b),g()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,u=!0,g()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(b){return arguments.length?(u=!!b,g()):u},t.padding=function(b){return arguments.length?(d=Math.min(1,m=+b),g()):d},t.paddingInner=function(b){return arguments.length?(d=Math.min(1,b),g()):d},t.paddingOuter=function(b){return arguments.length?(m=+b,g()):m},t.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),g()):p},t.copy=function(){return BS(e(),[r,i]).round(u).paddingInner(d).paddingOuter(m).align(p)},zi.apply(g(),arguments)}function G5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return G5(e())},t}function jX(){return G5(BS.apply(null,arguments).paddingInner(1))}function $S(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Y5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mh(){}var th=.7,tv=1/th,Nu="\\s*([+-]?\\d+)\\s*",nh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CX=/^#([0-9a-f]{3,8})$/,OX=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),IX=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),PX=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${nh}\\)$`),RX=new RegExp(`^rgba\\(${ka},${ka},${ka},${nh}\\)$`),kX=new RegExp(`^hsl\\(${nh},${ka},${ka}\\)$`),MX=new RegExp(`^hsla\\(${nh},${ka},${ka},${nh}\\)$`),iP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$S(Mh,rh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aP,formatHex:aP,formatHex8:DX,formatHsl:LX,formatRgb:sP,toString:sP});function aP(){return this.rgb().formatHex()}function DX(){return this.rgb().formatHex8()}function LX(){return W5(this).formatHsl()}function sP(){return this.rgb().formatRgb()}function rh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=CX.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?oP(e):n===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Dp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Dp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OX.exec(t))?new Gr(e[1],e[2],e[3],1):(e=IX.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=PX.exec(t))?Dp(e[1],e[2],e[3],e[4]):(e=RX.exec(t))?Dp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kX.exec(t))?uP(e[1],e[2]/100,e[3]/100,1):(e=MX.exec(t))?uP(e[1],e[2]/100,e[3]/100,e[4]):iP.hasOwnProperty(t)?oP(iP[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function oP(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function Dp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gr(t,e,n,r)}function zX(t){return t instanceof Mh||(t=rh(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function W_(t,e,n,r){return arguments.length===1?zX(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$S(Gr,W_,Y5(Mh,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?th:Math.pow(th,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(Ql(this.r),Ql(this.g),Ql(this.b),nv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lP,formatHex:lP,formatHex8:VX,formatRgb:cP,toString:cP}));function lP(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function VX(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cP(){const t=nv(this.opacity);return`${t===1?"rgb(":"rgba("}${Ql(this.r)}, ${Ql(this.g)}, ${Ql(this.b)}${t===1?")":`, ${t})`}`}function nv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ql(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Hl(t){return t=Ql(t),(t<16?"0":"")+t.toString(16)}function uP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function W5(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Mh||(t=rh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,u=s-i,d=(s+i)/2;return u?(e===s?l=(n-r)/u+(n<r)*6:n===s?l=(r-e)/u+2:l=(e-n)/u+4,u/=d<.5?s+i:2-s-i,l*=60):u=d>0&&d<1?0:l,new Zi(l,u,d,t.opacity)}function UX(t,e,n,r){return arguments.length===1?W5(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$S(Zi,UX,Y5(Mh,{brighter(t){return t=t==null?tv:Math.pow(tv,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?th:Math.pow(th,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gr(v1(t>=240?t-240:t+120,i,r),v1(t,i,r),v1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(dP(this.h),Lp(this.s),Lp(this.l),nv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nv(this.opacity);return`${t===1?"hsl(":"hsla("}${dP(this.h)}, ${Lp(this.s)*100}%, ${Lp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function dP(t){return t=(t||0)%360,t<0?t+360:t}function Lp(t){return Math.max(0,Math.min(1,t||0))}function v1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qS=t=>()=>t;function BX(t,e){return function(n){return t+n*e}}function $X(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qX(t){return(t=+t)==1?X5:function(e,n){return n-e?$X(e,n,t):qS(isNaN(e)?n:e)}}function X5(t,e){var n=e-t;return n?BX(t,n):qS(isNaN(t)?e:t)}const fP=(function t(e){var n=qX(e);function r(i,s){var l=n((i=W_(i)).r,(s=W_(s)).r),u=n(i.g,s.g),d=n(i.b,s.b),m=X5(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=u(p),i.b=d(p),i.opacity=m(p),i+""}}return r.gamma=t,r})(1);function FX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function HX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=sd(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(u){for(l=0;l<r;++l)s[l]=i[l](u);return s}}function GX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function rv(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function YX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=sd(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var X_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y1=new RegExp(X_.source,"g");function WX(t){return function(){return t}}function XX(t){return function(e){return t(e)+""}}function QX(t,e){var n=X_.lastIndex=y1.lastIndex=0,r,i,s,l=-1,u=[],d=[];for(t=t+"",e=e+"";(r=X_.exec(t))&&(i=y1.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),u[l]?u[l]+=s:u[++l]=s),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:rv(r,i)})),n=y1.lastIndex;return n<e.length&&(s=e.slice(n),u[l]?u[l]+=s:u[++l]=s),u.length<2?d[0]?XX(d[0].x):WX(e):(e=d.length,function(m){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(m);return u.join("")})}function sd(t,e){var n=typeof e,r;return e==null||n==="boolean"?qS(e):(n==="number"?rv:n==="string"?(r=rh(e))?(e=r,fP):QX:e instanceof rh?fP:e instanceof Date?GX:HX(e)?FX:Array.isArray(e)?KX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YX:rv)(t,e)}function FS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZX(t,e){e===void 0&&(e=t,t=sd);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[u](l-u)}}function JX(t){return function(){return t}}function iv(t){return+t}var hP=[0,1];function Cr(t){return t}function Q_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JX(isNaN(e)?NaN:.5)}function eQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tQ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=Q_(i,r),s=n(l,s)):(r=Q_(r,i),s=n(s,l)),function(u){return s(r(u))}}function nQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=Q_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(u){var d=kh(t,u,1,r)-1;return s[d](i[d](u))}}function Dh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function g0(){var t=hP,e=hP,n=sd,r,i,s,l=Cr,u,d,m;function p(){var b=Math.min(t.length,e.length);return l!==Cr&&(l=eQ(t[0],t[b-1])),u=b>2?nQ:tQ,d=m=null,g}function g(b){return b==null||isNaN(b=+b)?s:(d||(d=u(t.map(r),e,n)))(r(l(b)))}return g.invert=function(b){return l(i((m||(m=u(e,t.map(r),rv)))(b)))},g.domain=function(b){return arguments.length?(t=Array.from(b,iv),p()):t.slice()},g.range=function(b){return arguments.length?(e=Array.from(b),p()):e.slice()},g.rangeRound=function(b){return e=Array.from(b),n=FS,p()},g.clamp=function(b){return arguments.length?(l=b?!0:Cr,p()):l!==Cr},g.interpolate=function(b){return arguments.length?(n=b,p()):n},g.unknown=function(b){return arguments.length?(s=b,g):s},function(b,w){return r=b,i=w,p()}}function HS(){return g0()(Cr,Cr)}function rQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function av(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bu(t){return t=av(Math.abs(t)),t?t[1]:NaN}function iQ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),s.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=t[l=(l+1)%t.length];return s.reverse().join(e)}}function aQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ih(t){if(!(e=sQ.exec(t)))throw new Error("invalid format: "+t);var e;return new KS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ih.prototype=KS.prototype;function KS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}KS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Q5;function lQ(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Q5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+av(t,Math.max(0,e+s-1))[0]}function mP(t,e){var n=av(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mP(t*100,e),r:mP,s:lQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gP(t){return t}var vP=Array.prototype.map,yP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cQ(t){var e=t.grouping===void 0||t.thousands===void 0?gP:iQ(vP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?gP:aQ(vP.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(g){g=ih(g);var b=g.fill,w=g.align,T=g.sign,S=g.symbol,A=g.zero,I=g.width,L=g.comma,k=g.precision,B=g.trim,M=g.type;M==="n"?(L=!0,M="g"):pP[M]||(k===void 0&&(k=12),B=!0,M="g"),(A||b==="0"&&w==="=")&&(A=!0,b="0",w="=");var q=S==="$"?n:S==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",j=S==="$"?r:/[%p]/.test(M)?l:"",E=pP[M],O=/[defgprs%]/.test(M);k=k===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function R(D){var V=q,z=j,X,ce,K;if(M==="c")z=E(D)+z,D="";else{D=+D;var Z=D<0||1/D<0;if(D=isNaN(D)?d:E(Math.abs(D),k),B&&(D=oQ(D)),Z&&+D==0&&T!=="+"&&(Z=!1),V=(Z?T==="("?T:u:T==="-"||T==="("?"":T)+V,z=(M==="s"?yP[8+Q5/3]:"")+z+(Z&&T==="("?")":""),O){for(X=-1,ce=D.length;++X<ce;)if(K=D.charCodeAt(X),48>K||K>57){z=(K===46?i+D.slice(X+1):D.slice(X))+z,D=D.slice(0,X);break}}}L&&!A&&(D=e(D,1/0));var he=V.length+D.length+z.length,me=he<I?new Array(I-he+1).join(b):"";switch(L&&A&&(D=e(me+D,me.length?I-z.length:1/0),me=""),w){case"<":D=V+D+z+me;break;case"=":D=V+me+D+z;break;case"^":D=me.slice(0,he=me.length>>1)+V+D+z+me.slice(he);break;default:D=me+V+D+z;break}return s(D)}return R.toString=function(){return g+""},R}function p(g,b){var w=m((g=ih(g),g.type="f",g)),T=Math.max(-8,Math.min(8,Math.floor(Bu(b)/3)))*3,S=Math.pow(10,-T),A=yP[8+T/3];return function(I){return w(S*I)+A}}return{format:m,formatPrefix:p}}var zp,GS,Z5;uQ({thousands:",",grouping:[3],currency:["$",""]});function uQ(t){return zp=cQ(t),GS=zp.format,Z5=zp.formatPrefix,zp}function dQ(t){return Math.max(0,-Bu(Math.abs(t)))}function fQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(e)/3)))*3-Bu(Math.abs(t)))}function hQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bu(e)-Bu(t))+1}function J5(t,e,n,r){var i=G_(t,e,n),s;switch(r=ih(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=fQ(i,l))&&(r.precision=s),Z5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=hQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=dQ(i))&&(r.precision=s-(r.type==="%")*2);break}}return GS(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return H_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return J5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],u=r[s],d,m,p=10;for(u<l&&(m=l,l=u,u=m,m=i,i=s,s=m);p-- >0;){if(m=K_(l,u,n),m===d)return r[i]=l,r[s]=u,e(r);if(m>0)l=Math.floor(l/m)*m,u=Math.ceil(u/m)*m;else if(m<0)l=Math.ceil(l*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function e3(){var t=HS();return t.copy=function(){return Dh(t,e3())},zi.apply(t,arguments),cl(t)}function t3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,iv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return t3(t).unknown(e)},t=arguments.length?Array.from(t,iv):[0,1],cl(n)}function n3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function bP(t){return Math.log(t)}function xP(t){return Math.exp(t)}function mQ(t){return-Math.log(-t)}function pQ(t){return-Math.exp(-t)}function gQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vQ(t){return t===10?gQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _P(t){return(e,n)=>-t(-e,n)}function YS(t){const e=t(bP,xP),n=e.domain;let r=10,i,s;function l(){return i=yQ(r),s=vQ(r),n()[0]<0?(i=_P(i),s=_P(s),t(mQ,pQ)):t(bP,xP),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const d=n();let m=d[0],p=d[d.length-1];const g=p<m;g&&([m,p]=[p,m]);let b=i(m),w=i(p),T,S;const A=u==null?10:+u;let I=[];if(!(r%1)&&w-b<A){if(b=Math.floor(b),w=Math.ceil(w),m>0){for(;b<=w;++b)for(T=1;T<r;++T)if(S=b<0?T/s(-b):T*s(b),!(S<m)){if(S>p)break;I.push(S)}}else for(;b<=w;++b)for(T=r-1;T>=1;--T)if(S=b>0?T/s(-b):T*s(b),!(S<m)){if(S>p)break;I.push(S)}I.length*2<A&&(I=H_(m,p,A))}else I=H_(b,w,Math.min(w-b,A)).map(s);return g?I.reverse():I},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ih(d)).precision==null&&(d.trim=!0),d=GS(d)),u===1/0)return d;const m=Math.max(1,r*u/e.ticks().length);return p=>{let g=p/s(Math.round(i(p)));return g*r<r-.5&&(g*=r),g<=m?d(p):""}},e.nice=()=>n(n3(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function r3(){const t=YS(g0()).domain([1,10]);return t.copy=()=>Dh(t,r3()).base(t.base()),zi.apply(t,arguments),t}function wP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WS(t){var e=1,n=t(wP(e),SP(e));return n.constant=function(r){return arguments.length?t(wP(e=+r),SP(e)):e},cl(n)}function i3(){var t=WS(g0());return t.copy=function(){return Dh(t,i3()).constant(t.constant())},zi.apply(t,arguments)}function EP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xQ(t){return t<0?-t*t:t*t}function XS(t){var e=t(Cr,Cr),n=1;function r(){return n===1?t(Cr,Cr):n===.5?t(bQ,xQ):t(EP(n),EP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cl(e)}function QS(){var t=XS(g0());return t.copy=function(){return Dh(t,QS()).exponent(t.exponent())},zi.apply(t,arguments),t}function _Q(){return QS.apply(null,arguments).exponent(.5)}function AP(t){return Math.sign(t)*t*t}function wQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a3(){var t=HS(),e=[0,1],n=!1,r;function i(s){var l=wQ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(AP(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,iv)).map(AP)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),cl(i)}function s3(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=TX(t,l/u);return s}function s(l){return l==null||isNaN(l=+l)?r:e[kh(n,l)]}return s.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Go),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return s3().domain(t).range(e).unknown(r)},zi.apply(s,arguments)}function o3(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[kh(r,d,0,n)]:s}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var m=i.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,r[0]]:m>=n?[r[n-1],e]:[r[m-1],r[m]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return o3().domain([t,e]).range(i).unknown(s)},zi.apply(cl(l),arguments)}function l3(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[kh(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return l3().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const b1=new Date,x1=new Date;function zn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),u=i.ceil(s);return s-l<u-s?l:u},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return d;let m;do d.push(m=new Date(+s)),e(s,u),t(s);while(m<s&&s<l);return d},i.filter=s=>zn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!s(l););else for(;--u>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(b1.setTime(+s),x1.setTime(+l),t(b1),t(x1),Math.floor(n(b1,x1))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const sv=zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);sv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):sv);sv.range;const bs=1e3,Ri=bs*60,xs=Ri*60,Rs=xs*24,ZS=Rs*7,TP=Rs*30,_1=Rs*365,Kl=zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCSeconds());Kl.range;const JS=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getMinutes());JS.range;const eE=zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCMinutes());eE.range;const tE=zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*bs-t.getMinutes()*Ri)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getHours());tE.range;const nE=zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xs)},(t,e)=>(e-t)/xs,t=>t.getUTCHours());nE.range;const Lh=zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/Rs,t=>t.getDate()-1);Lh.range;const v0=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>t.getUTCDate()-1);v0.range;const c3=zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rs,t=>Math.floor(t/Rs));c3.range;function bc(t){return zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/ZS)}const y0=bc(0),ov=bc(1),SQ=bc(2),EQ=bc(3),$u=bc(4),AQ=bc(5),TQ=bc(6);y0.range;ov.range;SQ.range;EQ.range;$u.range;AQ.range;TQ.range;function xc(t){return zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ZS)}const b0=xc(0),lv=xc(1),NQ=xc(2),jQ=xc(3),qu=xc(4),CQ=xc(5),OQ=xc(6);b0.range;lv.range;NQ.range;jQ.range;qu.range;CQ.range;OQ.range;const rE=zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rE.range;const iE=zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iE.range;const ks=zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ks.range;const Ms=zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ms.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ms.range;function u3(t,e,n,r,i,s){const l=[[Kl,1,bs],[Kl,5,5*bs],[Kl,15,15*bs],[Kl,30,30*bs],[s,1,Ri],[s,5,5*Ri],[s,15,15*Ri],[s,30,30*Ri],[i,1,xs],[i,3,3*xs],[i,6,6*xs],[i,12,12*xs],[r,1,Rs],[r,2,2*Rs],[n,1,ZS],[e,1,TP],[e,3,3*TP],[t,1,_1]];function u(m,p,g){const b=p<m;b&&([m,p]=[p,m]);const w=g&&typeof g.range=="function"?g:d(m,p,g),T=w?w.range(m,+p+1):[];return b?T.reverse():T}function d(m,p,g){const b=Math.abs(p-m)/g,w=VS(([,,A])=>A).right(l,b);if(w===l.length)return t.every(G_(m/_1,p/_1,g));if(w===0)return sv.every(Math.max(G_(m,p,g),1));const[T,S]=l[b/l[w-1][2]<l[w][2]/b?w-1:w];return T.every(S)}return[u,d]}const[IQ,PQ]=u3(Ms,iE,b0,c3,nE,eE),[RQ,kQ]=u3(ks,rE,y0,Lh,tE,JS);function w1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function S1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function MQ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,u=t.months,d=t.shortMonths,m=xf(i),p=_f(i),g=xf(s),b=_f(s),w=xf(l),T=_f(l),S=xf(u),A=_f(u),I=xf(d),L=_f(d),k={a:Z,A:he,b:me,B:ee,c:null,d:PP,e:PP,f:iZ,g:mZ,G:gZ,H:tZ,I:nZ,j:rZ,L:d3,m:aZ,M:sZ,p:$,q:Y,Q:MP,s:DP,S:oZ,u:lZ,U:cZ,V:uZ,w:dZ,W:fZ,x:null,X:null,y:hZ,Y:pZ,Z:vZ,"%":kP},B={a:Q,A:ne,b:_e,B:oe,c:null,d:RP,e:RP,f:_Z,g:IZ,G:RZ,H:yZ,I:bZ,j:xZ,L:h3,m:wZ,M:SZ,p:we,q:je,Q:MP,s:DP,S:EZ,u:AZ,U:TZ,V:NZ,w:jZ,W:CZ,x:null,X:null,y:OZ,Y:PZ,Z:kZ,"%":kP},M={a:R,A:D,b:V,B:z,c:X,d:OP,e:OP,f:QQ,g:CP,G:jP,H:IP,I:IP,j:GQ,L:XQ,m:KQ,M:YQ,p:O,q:HQ,Q:JQ,s:eZ,S:WQ,u:UQ,U:BQ,V:$Q,w:VQ,W:qQ,x:ce,X:K,y:CP,Y:jP,Z:FQ,"%":ZQ};k.x=q(n,k),k.X=q(r,k),k.c=q(e,k),B.x=q(n,B),B.X=q(r,B),B.c=q(e,B);function q(le,Te){return function(Ve){var xe=[],bt=-1,qe=0,zt=le.length,$t,Bn,Sr;for(Ve instanceof Date||(Ve=new Date(+Ve));++bt<zt;)le.charCodeAt(bt)===37&&(xe.push(le.slice(qe,bt)),(Bn=NP[$t=le.charAt(++bt)])!=null?$t=le.charAt(++bt):Bn=$t==="e"?" ":"0",(Sr=Te[$t])&&($t=Sr(Ve,Bn)),xe.push($t),qe=bt+1);return xe.push(le.slice(qe,bt)),xe.join("")}}function j(le,Te){return function(Ve){var xe=bf(1900,void 0,1),bt=E(xe,le,Ve+="",0),qe,zt;if(bt!=Ve.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Te&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(qe=S1(bf(xe.y,0,1)),zt=qe.getUTCDay(),qe=zt>4||zt===0?lv.ceil(qe):lv(qe),qe=v0.offset(qe,(xe.V-1)*7),xe.y=qe.getUTCFullYear(),xe.m=qe.getUTCMonth(),xe.d=qe.getUTCDate()+(xe.w+6)%7):(qe=w1(bf(xe.y,0,1)),zt=qe.getDay(),qe=zt>4||zt===0?ov.ceil(qe):ov(qe),qe=Lh.offset(qe,(xe.V-1)*7),xe.y=qe.getFullYear(),xe.m=qe.getMonth(),xe.d=qe.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),zt="Z"in xe?S1(bf(xe.y,0,1)).getUTCDay():w1(bf(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(zt+5)%7:xe.w+xe.U*7-(zt+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,S1(xe)):w1(xe)}}function E(le,Te,Ve,xe){for(var bt=0,qe=Te.length,zt=Ve.length,$t,Bn;bt<qe;){if(xe>=zt)return-1;if($t=Te.charCodeAt(bt++),$t===37){if($t=Te.charAt(bt++),Bn=M[$t in NP?Te.charAt(bt++):$t],!Bn||(xe=Bn(le,Ve,xe))<0)return-1}else if($t!=Ve.charCodeAt(xe++))return-1}return xe}function O(le,Te,Ve){var xe=m.exec(Te.slice(Ve));return xe?(le.p=p.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function R(le,Te,Ve){var xe=w.exec(Te.slice(Ve));return xe?(le.w=T.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function D(le,Te,Ve){var xe=g.exec(Te.slice(Ve));return xe?(le.w=b.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function V(le,Te,Ve){var xe=I.exec(Te.slice(Ve));return xe?(le.m=L.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function z(le,Te,Ve){var xe=S.exec(Te.slice(Ve));return xe?(le.m=A.get(xe[0].toLowerCase()),Ve+xe[0].length):-1}function X(le,Te,Ve){return E(le,e,Te,Ve)}function ce(le,Te,Ve){return E(le,n,Te,Ve)}function K(le,Te,Ve){return E(le,r,Te,Ve)}function Z(le){return l[le.getDay()]}function he(le){return s[le.getDay()]}function me(le){return d[le.getMonth()]}function ee(le){return u[le.getMonth()]}function $(le){return i[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function Q(le){return l[le.getUTCDay()]}function ne(le){return s[le.getUTCDay()]}function _e(le){return d[le.getUTCMonth()]}function oe(le){return u[le.getUTCMonth()]}function we(le){return i[+(le.getUTCHours()>=12)]}function je(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Te=q(le+="",k);return Te.toString=function(){return le},Te},parse:function(le){var Te=j(le+="",!1);return Te.toString=function(){return le},Te},utcFormat:function(le){var Te=q(le+="",B);return Te.toString=function(){return le},Te},utcParse:function(le){var Te=j(le+="",!0);return Te.toString=function(){return le},Te}}}var NP={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,DQ=/^%/,LQ=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function zQ(t){return t.replace(LQ,"\\$&")}function xf(t){return new RegExp("^(?:"+t.map(zQ).join("|")+")","i")}function _f(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function VQ(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function UQ(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function BQ(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $Q(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qQ(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jP(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function CP(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FQ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HQ(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function KQ(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OP(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function GQ(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function YQ(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function WQ(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function XQ(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function QQ(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZQ(t,e,n){var r=DQ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function JQ(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eZ(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PP(t,e){return ht(t.getDate(),e,2)}function tZ(t,e){return ht(t.getHours(),e,2)}function nZ(t,e){return ht(t.getHours()%12||12,e,2)}function rZ(t,e){return ht(1+Lh.count(ks(t),t),e,3)}function d3(t,e){return ht(t.getMilliseconds(),e,3)}function iZ(t,e){return d3(t,e)+"000"}function aZ(t,e){return ht(t.getMonth()+1,e,2)}function sZ(t,e){return ht(t.getMinutes(),e,2)}function oZ(t,e){return ht(t.getSeconds(),e,2)}function lZ(t){var e=t.getDay();return e===0?7:e}function cZ(t,e){return ht(y0.count(ks(t)-1,t),e,2)}function f3(t){var e=t.getDay();return e>=4||e===0?$u(t):$u.ceil(t)}function uZ(t,e){return t=f3(t),ht($u.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function dZ(t){return t.getDay()}function fZ(t,e){return ht(ov.count(ks(t)-1,t),e,2)}function hZ(t,e){return ht(t.getFullYear()%100,e,2)}function mZ(t,e){return t=f3(t),ht(t.getFullYear()%100,e,2)}function pZ(t,e){return ht(t.getFullYear()%1e4,e,4)}function gZ(t,e){var n=t.getDay();return t=n>=4||n===0?$u(t):$u.ceil(t),ht(t.getFullYear()%1e4,e,4)}function vZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function RP(t,e){return ht(t.getUTCDate(),e,2)}function yZ(t,e){return ht(t.getUTCHours(),e,2)}function bZ(t,e){return ht(t.getUTCHours()%12||12,e,2)}function xZ(t,e){return ht(1+v0.count(Ms(t),t),e,3)}function h3(t,e){return ht(t.getUTCMilliseconds(),e,3)}function _Z(t,e){return h3(t,e)+"000"}function wZ(t,e){return ht(t.getUTCMonth()+1,e,2)}function SZ(t,e){return ht(t.getUTCMinutes(),e,2)}function EZ(t,e){return ht(t.getUTCSeconds(),e,2)}function AZ(t){var e=t.getUTCDay();return e===0?7:e}function TZ(t,e){return ht(b0.count(Ms(t)-1,t),e,2)}function m3(t){var e=t.getUTCDay();return e>=4||e===0?qu(t):qu.ceil(t)}function NZ(t,e){return t=m3(t),ht(qu.count(Ms(t),t)+(Ms(t).getUTCDay()===4),e,2)}function jZ(t){return t.getUTCDay()}function CZ(t,e){return ht(lv.count(Ms(t)-1,t),e,2)}function OZ(t,e){return ht(t.getUTCFullYear()%100,e,2)}function IZ(t,e){return t=m3(t),ht(t.getUTCFullYear()%100,e,2)}function PZ(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function RZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?qu(t):qu.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function kZ(){return"+0000"}function kP(){return"%"}function MP(t){return+t}function DP(t){return Math.floor(+t/1e3)}var cu,p3,g3;MZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MZ(t){return cu=MQ(t),p3=cu.format,cu.parse,g3=cu.utcFormat,cu.utcParse,cu}function DZ(t){return new Date(t)}function LZ(t){return t instanceof Date?+t:+new Date(+t)}function aE(t,e,n,r,i,s,l,u,d,m){var p=HS(),g=p.invert,b=p.domain,w=m(".%L"),T=m(":%S"),S=m("%I:%M"),A=m("%I %p"),I=m("%a %d"),L=m("%b %d"),k=m("%B"),B=m("%Y");function M(q){return(d(q)<q?w:u(q)<q?T:l(q)<q?S:s(q)<q?A:r(q)<q?i(q)<q?I:L:n(q)<q?k:B)(q)}return p.invert=function(q){return new Date(g(q))},p.domain=function(q){return arguments.length?b(Array.from(q,LZ)):b().map(DZ)},p.ticks=function(q){var j=b();return t(j[0],j[j.length-1],q??10)},p.tickFormat=function(q,j){return j==null?M:m(j)},p.nice=function(q){var j=b();return(!q||typeof q.range!="function")&&(q=e(j[0],j[j.length-1],q??10)),q?b(n3(j,q)):p},p.copy=function(){return Dh(p,aE(t,e,n,r,i,s,l,u,d,m))},p}function zZ(){return zi.apply(aE(RQ,kQ,ks,rE,y0,Lh,tE,JS,Kl,p3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VZ(){return zi.apply(aE(IQ,PQ,Ms,iE,b0,v0,nE,eE,Kl,g3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x0(){var t=0,e=1,n,r,i,s,l=Cr,u=!1,d;function m(g){return g==null||isNaN(g=+g)?d:l(i===0?.5:(g=(s(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),m):[t,e]},m.clamp=function(g){return arguments.length?(u=!!g,m):u},m.interpolator=function(g){return arguments.length?(l=g,m):l};function p(g){return function(b){var w,T;return arguments.length?([w,T]=b,l=g(w,T),m):[l(0),l(1)]}}return m.range=p(sd),m.rangeRound=p(FS),m.unknown=function(g){return arguments.length?(d=g,m):d},function(g){return s=g,n=g(t),r=g(e),i=n===r?0:1/(r-n),m}}function ul(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v3(){var t=cl(x0()(Cr));return t.copy=function(){return ul(t,v3())},Fs.apply(t,arguments)}function y3(){var t=YS(x0()).domain([1,10]);return t.copy=function(){return ul(t,y3()).base(t.base())},Fs.apply(t,arguments)}function b3(){var t=WS(x0());return t.copy=function(){return ul(t,b3()).constant(t.constant())},Fs.apply(t,arguments)}function sE(){var t=XS(x0());return t.copy=function(){return ul(t,sE()).exponent(t.exponent())},Fs.apply(t,arguments)}function UZ(){return sE.apply(null,arguments).exponent(.5)}function x3(){var t=[],e=Cr;function n(r){if(r!=null&&!isNaN(r=+r))return e((kh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Go),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>AX(t,s/r))},n.copy=function(){return x3(e).domain(t)},Fs.apply(n,arguments)}function _0(){var t=0,e=.5,n=1,r=1,i,s,l,u,d,m=Cr,p,g=!1,b;function w(S){return isNaN(S=+S)?b:(S=.5+((S=+p(S))-s)*(r*S<r*s?u:d),m(g?Math.max(0,Math.min(1,S)):S))}w.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w):[t,e,n]},w.clamp=function(S){return arguments.length?(g=!!S,w):g},w.interpolator=function(S){return arguments.length?(m=S,w):m};function T(S){return function(A){var I,L,k;return arguments.length?([I,L,k]=A,m=ZX(S,[I,L,k]),w):[m(0),m(.5),m(1)]}}return w.range=T(sd),w.rangeRound=T(FS),w.unknown=function(S){return arguments.length?(b=S,w):b},function(S){return p=S,i=S(t),s=S(e),l=S(n),u=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,w}}function _3(){var t=cl(_0()(Cr));return t.copy=function(){return ul(t,_3())},Fs.apply(t,arguments)}function w3(){var t=YS(_0()).domain([.1,1,10]);return t.copy=function(){return ul(t,w3()).base(t.base())},Fs.apply(t,arguments)}function S3(){var t=WS(_0());return t.copy=function(){return ul(t,S3()).constant(t.constant())},Fs.apply(t,arguments)}function oE(){var t=XS(_0());return t.copy=function(){return ul(t,oE()).exponent(t.exponent())},Fs.apply(t,arguments)}function BZ(){return oE.apply(null,arguments).exponent(.5)}const jf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:BS,scaleDiverging:_3,scaleDivergingLog:w3,scaleDivergingPow:oE,scaleDivergingSqrt:BZ,scaleDivergingSymlog:S3,scaleIdentity:t3,scaleImplicit:Y_,scaleLinear:e3,scaleLog:r3,scaleOrdinal:US,scalePoint:jX,scalePow:QS,scaleQuantile:s3,scaleQuantize:o3,scaleRadial:a3,scaleSequential:v3,scaleSequentialLog:y3,scaleSequentialPow:sE,scaleSequentialQuantile:x3,scaleSequentialSqrt:UZ,scaleSequentialSymlog:b3,scaleSqrt:_Q,scaleSymlog:i3,scaleThreshold:l3,scaleTime:zZ,scaleUtc:VZ,tickFormat:J5},Symbol.toStringTag,{value:"Module"}));var Hs=t=>t.chartData,w0=re([Hs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),lE=(t,e,n,r)=>r?w0(t):Hs(t),E3=(t,e,n)=>n?w0(t):Hs(t);function tl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Lt(e)&&Lt(n))return!0}return!1}function LP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function A3(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Lt(n))i=n;else if(typeof n=="function")return;if(Lt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(tl(l))return l}}function $Z(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(tl(r))return LP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ne(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&YO.test(i)){var d=YO.exec(i);if(d==null||d[1]==null||e==null)l=void 0;else{var m=+d[1];l=e[0]-m}}else l=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(Ne(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&WO.test(s)){var p=WO.exec(s);if(p==null||p[1]==null||e==null)u=void 0;else{var g=+p[1];u=e[1]+g}}else u=e?.[1];var b=[l,u];if(tl(b))return e==null?b:LP(b,e,n)}}}var od=1e9,qZ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uE,Zt=!0,Li="[DecimalError] ",Zl=Li+"Invalid argument: ",cE=Li+"Exponent out of range: ",ld=Math.floor,Bl=Math.pow,FZ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Xn=1e7,Kt=7,T3=9007199254740991,cv=ld(T3/Kt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Kt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Ss(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return Dt(Ss(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return In(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ci))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(ci)?new r(0):(Zt=!1,e=Ss(ah(n,s),ah(t,s),s),Zt=!0,Dt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?C3(e,t):N3(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(Zt=!1,e=Ss(n,t,0,1).times(t),Zt=!0,n.minus(e)):Dt(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return j3(this)};Ie.naturalLogarithm=Ie.ln=function(){return ah(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N3(e,t):C3(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Zl+t);if(e=In(i)+1,r=i.d.length-1,n=r*Kt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,s,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Li+"NaN")}for(t=In(u),Zt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Na(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ld((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ss(u,s,l+2)).times(.5),Na(s.d).slice(0,l)===(e=Na(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;l+=4}return Zt=!0,Dt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,s,l,u,d,m,p=this,g=p.constructor,b=p.d,w=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,n=p.e+t.e,d=b.length,m=w.length,d<m&&(s=b,b=w,w=s,l=d,d=m,m=l),s=[],l=d+m,r=l;r--;)s.push(0);for(r=m;--r>=0;){for(e=0,i=d+r;i>r;)u=s[i]+w[r]*b[i-r-1]+e,s[i--]=u%Xn|0,e=u/Xn|0;s[i]=(s[i]+e)%Xn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Zt?Dt(t,g.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Va(t,0,od),e===void 0?e=r.rounding:Va(e,0,8),Dt(n,t+In(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=hc(r,!0):(Va(t,0,od),e===void 0?e=i.rounding:Va(e,0,8),r=Dt(new i(r),t+1,e),n=hc(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?hc(i):(Va(t,0,od),e===void 0?e=s.rounding:Va(e,0,8),r=Dt(new s(i),t+In(i)+1,e),n=hc(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),In(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,s,l,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(ci);if(u=new d(u),!u.s){if(t.s<1)throw Error(Li+"Infinity");return u}if(u.eq(ci))return u;if(r=d.precision,t.eq(ci))return Dt(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=u.s,l){if((n=p<0?-p:p)<=T3){for(i=new d(ci),e=Math.ceil(r/Kt+4),Zt=!1;n%2&&(i=i.times(u),VP(i.d,e)),n=ld(n/2),n!==0;)u=u.times(u),VP(u.d,e);return Zt=!0,t.s<0?new d(ci).div(i):Dt(i,r)}}else if(s<0)throw Error(Li+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Zt=!1,i=t.times(ah(u,r+m)),Zt=!0,i=j3(i),i.s=s,i};Ie.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=In(i),r=hc(i,n<=s.toExpNeg||n>=s.toExpPos)):(Va(t,1,od),e===void 0?e=s.rounding:Va(e,0,8),i=Dt(new s(i),t,e),n=In(i),r=hc(i,t<=n||n<=s.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Va(t,1,od),e===void 0?e=r.rounding:Va(e,0,8)),Dt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return hc(t,e<=n.toExpNeg||e>=n.toExpPos)};function N3(t,e){var n,r,i,s,l,u,d,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Zt?Dt(e,g):e;if(d=t.d,m=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,u=m.length):(r=m,i=l,u=d.length),l=Math.ceil(g/Kt),u=l>u?l+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,r=m,m=d,d=r),n=0;s;)n=(d[--s]=d[s]+m[s]+n)/Xn|0,d[s]%=Xn;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Zt?Dt(e,g):e}function Va(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Zl+t)}function Na(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Kt-r.length,n&&(s+=Po(n)),s+=r;l=t[e],r=l+"",n=Kt-r.length,n&&(s+=Po(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ss=(function(){function t(r,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+l,r[u]=s%Xn|0,l=s/Xn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var u,d;if(s!=l)d=s>l?1:-1;else for(u=d=0;u<s;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Xn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var u,d,m,p,g,b,w,T,S,A,I,L,k,B,M,q,j,E,O=r.constructor,R=r.s==i.s?1:-1,D=r.d,V=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Li+"Division by zero");for(d=r.e-i.e,j=V.length,M=D.length,w=new O(R),T=w.d=[],m=0;V[m]==(D[m]||0);)++m;if(V[m]>(D[m]||0)&&--d,s==null?L=s=O.precision:l?L=s+(In(r)-In(i))+1:L=s,L<0)return new O(0);if(L=L/Kt+2|0,m=0,j==1)for(p=0,V=V[0],L++;(m<M||p)&&L--;m++)k=p*Xn+(D[m]||0),T[m]=k/V|0,p=k%V|0;else{for(p=Xn/(V[0]+1)|0,p>1&&(V=t(V,p),D=t(D,p),j=V.length,M=D.length),B=j,S=D.slice(0,j),A=S.length;A<j;)S[A++]=0;E=V.slice(),E.unshift(0),q=V[0],V[1]>=Xn/2&&++q;do p=0,u=e(V,S,j,A),u<0?(I=S[0],j!=A&&(I=I*Xn+(S[1]||0)),p=I/q|0,p>1?(p>=Xn&&(p=Xn-1),g=t(V,p),b=g.length,A=S.length,u=e(g,S,b,A),u==1&&(p--,n(g,j<b?E:V,b))):(p==0&&(u=p=1),g=V.slice()),b=g.length,b<A&&g.unshift(0),n(S,g,A),u==-1&&(A=S.length,u=e(V,S,j,A),u<1&&(p++,n(S,j<A?E:V,A))),A=S.length):u===0&&(p++,S=[0]),T[m++]=p,u&&S[0]?S[A++]=D[B]||0:(S=[D[B]],A=1);while((B++<M||S[0]!==void 0)&&L--)}return T[0]||T.shift(),w.e=d,Dt(w,l?s+In(w)+1:s)}})();function j3(t,e){var n,r,i,s,l,u,d=0,m=0,p=t.constructor,g=p.precision;if(In(t)>16)throw Error(cE+In(t));if(!t.s)return new p(ci);for(Zt=!1,u=g,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),m+=5;for(r=Math.log(Bl(2,m))/Math.LN10*2+5|0,u+=r,n=i=s=new p(ci),p.precision=u;;){if(i=Dt(i.times(t),u),n=n.times(++d),l=s.plus(Ss(i,n,u)),Na(l.d).slice(0,u)===Na(s.d).slice(0,u)){for(;m--;)s=Dt(s.times(s),u);return p.precision=g,e==null?(Zt=!0,Dt(s,g)):s}s=l}}function In(t){for(var e=t.e*Kt,n=t.d[0];n>=10;n/=10)e++;return e}function E1(t,e,n){if(e>t.LN10.sd())throw Zt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Po(t){for(var e="";t--;)e+="0";return e}function ah(t,e){var n,r,i,s,l,u,d,m,p,g=1,b=10,w=t,T=w.d,S=w.constructor,A=S.precision;if(w.s<1)throw Error(Li+(w.s?"NaN":"-Infinity"));if(w.eq(ci))return new S(0);if(e==null?(Zt=!1,m=A):m=e,w.eq(10))return e==null&&(Zt=!0),E1(S,m);if(m+=b,S.precision=m,n=Na(T),r=n.charAt(0),s=In(w),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(t),n=Na(w.d),r=n.charAt(0),g++;s=In(w),r>1?(w=new S("0."+n),s++):w=new S(r+"."+n.slice(1))}else return d=E1(S,m+2,A).times(s+""),w=ah(new S(r+"."+n.slice(1)),m-b).plus(d),S.precision=A,e==null?(Zt=!0,Dt(w,A)):w;for(u=l=w=Ss(w.minus(ci),w.plus(ci),m),p=Dt(w.times(w),m),i=3;;){if(l=Dt(l.times(p),m),d=u.plus(Ss(l,new S(i),m)),Na(d.d).slice(0,m)===Na(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(E1(S,m+2,A).times(s+""))),u=Ss(u,new S(g),m),S.precision=A,e==null?(Zt=!0,Dt(u,A)):u;u=d,i+=2}}function zP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ld(n/Kt),t.d=[],r=(n+1)%Kt,n<0&&(r+=Kt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Kt;r<i;)t.d.push(+e.slice(r,r+=Kt));e=e.slice(r),r=Kt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Zt&&(t.e>cv||t.e<-cv))throw Error(cE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,s,l,u,d,m,p,g=t.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Kt,i=e,m=g[p=0];else{if(p=Math.ceil((r+1)/Kt),s=g.length,p>=s)return t;for(m=s=g[p],l=1;s>=10;s/=10)l++;r%=Kt,i=r-Kt+l}if(n!==void 0&&(s=Bl(10,l-i-1),u=m/s%10|0,d=e<0||g[p+1]!==void 0||m%s,d=n<4?(u||d)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?m/Bl(10,l-i):0:g[p-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return d?(s=In(t),g.length=1,e=e-s-1,g[0]=Bl(10,(Kt-e%Kt)%Kt),t.e=ld(-e/Kt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=p,s=1,p--):(g.length=p+1,s=Bl(10,Kt-r),g[p]=i>0?(m/Bl(10,l-i)%Bl(10,i)|0)*s:0),d)for(;;)if(p==0){(g[0]+=s)==Xn&&(g[0]=1,++t.e);break}else{if(g[p]+=s,g[p]!=Xn)break;g[p--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(Zt&&(t.e>cv||t.e<-cv))throw Error(cE+In(t));return t}function C3(t,e){var n,r,i,s,l,u,d,m,p,g,b=t.constructor,w=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),Zt?Dt(e,w):e;if(d=t.d,g=e.d,r=e.e,m=t.e,d=d.slice(),l=m-r,l){for(p=l<0,p?(n=d,l=-l,u=g.length):(n=g,r=m,u=d.length),i=Math.max(Math.ceil(w/Kt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}l=0}for(p&&(n=d,d=g,g=n,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>l;){if(d[--i]<g[i]){for(s=i;s&&d[--s]===0;)d[s]=Xn-1;--d[s],d[i]+=Xn}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Zt?Dt(e,w):e):new b(0)}function hc(t,e,n){var r,i=In(t),s=Na(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Po(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Po(-i-1)+s,n&&(r=n-l)>0&&(s+=Po(r))):i>=l?(s+=Po(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Po(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Po(r))),t.s<0?"-"+s:s}function VP(t,e){if(t.length>e)return t.length=e,!0}function O3(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Zl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return zP(l,s.toString())}else if(typeof s!="string")throw Error(Zl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,FZ.test(s))zP(l,s);else throw Error(Zl+s)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O3,i.config=i.set=HZ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function HZ(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ld(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Zl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Zl+n+": "+r);return this}var uE=O3(qZ);ci=new uE(1);const At=uE;var KZ=t=>t,I3={},P3=t=>t===I3,UP=t=>function e(){return arguments.length===0||arguments.length===1&&P3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},R3=(t,e)=>t===1?e:UP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==I3).length;return s>=t?e(...r):R3(t-s,UP(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var m=r.map(p=>P3(p)?u.shift():p);return e(...m,...u)}))}),GZ=t=>R3(t.length,t),Z_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},YZ=GZ((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),WZ=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return KZ;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),s(...arguments))}};function k3(t){var e;return t===0?e=1:e=Math.floor(new At(t).abs().log(10).toNumber())+1,e}function M3(t,e,n){for(var r=new At(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var D3=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},L3=(t,e,n)=>{if(t.lte(0))return new At(0);var r=k3(t.toNumber()),i=new At(10).pow(r),s=t.div(i),l=r!==1?.05:.1,u=new At(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return e?new At(d.toNumber()):new At(Math.ceil(d.toNumber()))},XZ=(t,e,n)=>{var r=new At(1),i=new At(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new At(10).pow(k3(t)-1),i=new At(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new At(Math.floor(t)))}else t===0?i=new At(Math.floor((e-1)/2)):n||(i=new At(Math.floor(t)));var l=Math.floor((e-1)/2),u=WZ(YZ(d=>i.add(new At(d-l).mul(r)).toNumber()),Z_);return u(0,e)},z3=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var l=L3(new At(n).sub(e).div(r-1),i,s),u;e<=0&&n>=0?u=new At(0):(u=new At(e).add(n).div(2),u=u.sub(new At(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),m=Math.ceil(new At(n).sub(u).div(l).toNumber()),p=d+m+1;return p>r?z3(e,n,r,i,s+1):(p<r&&(m=n>0?m+(r-p):m,d=n>0?d:d+(r-p)),{step:l,tickMin:u.sub(new At(d).mul(l)),tickMax:u.add(new At(m).mul(l))})},QZ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=D3([n,r]);if(u===-1/0||d===1/0){var m=d===1/0?[u,...Z_(0,i-1).map(()=>1/0)]:[...Z_(0,i-1).map(()=>-1/0),d];return n>r?m.reverse():m}if(u===d)return XZ(u,i,s);var{step:p,tickMin:g,tickMax:b}=z3(u,d,l,s,0),w=M3(g,b.add(new At(.1).mul(p)),p);return n>r?w.reverse():w},ZZ=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=D3([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),m=L3(new At(u).sub(l).div(d-1),s,0),p=[...M3(new At(l),new At(u),m),u];return s===!1&&(p=p.map(g=>Math.round(g))),r>i?p.reverse():p},V3=t=>t.rootProps.maxBarSize,JZ=t=>t.rootProps.barGap,U3=t=>t.rootProps.barCategoryGap,eJ=t=>t.rootProps.barSize,zh=t=>t.rootProps.stackOffset,B3=t=>t.rootProps.reverseStackOrder,dE=t=>t.options.chartName,fE=t=>t.rootProps.syncId,$3=t=>t.rootProps.syncMethod,hE=t=>t.options.eventEmitter,tJ=t=>t.rootProps.baseValue,vn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},li={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},S0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},nJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ps.angleAxisId,includeHidden:!1,name:void 0,reversed:ps.reversed,scale:ps.scale,tick:ps.tick,tickCount:void 0,ticks:void 0,type:ps.type,unit:void 0},rJ={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:li.type,unit:void 0},iJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ps.scale,tick:ps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aJ={allowDataOverflow:li.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:li.tickCount,ticks:void 0,type:"category",unit:void 0},mE=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?iJ:nJ,pE=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?aJ:rJ,E0=t=>t.polarOptions,gE=re([$s,qs,Ln],V5),q3=re([E0,gE],(t,e)=>{if(t!=null)return xr(t.innerRadius,e,0)}),F3=re([E0,gE],(t,e)=>{if(t!=null)return xr(t.outerRadius,e,e*.8)}),sJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},H3=re([E0],sJ);re([mE,H3],S0);var K3=re([gE,q3,F3],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});re([pE,K3],S0);var G3=re([tt,E0,q3,F3,$s,qs],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:m}=e;return{cx:xr(l,i,i/2),cy:xr(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:m,clockWise:!1}}}),Jt=(t,e)=>e,Vh=(t,e,n)=>n;function A0(t){return t?.id}function Y3(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(u=>{var d,m=(d=u.data)!==null&&d!==void 0?d:r;if(!(m==null||m.length===0)){var p=A0(u);m.forEach((g,b)=>{var w=s==null||i?b:String(vt(g,s,null)),T=vt(g,u.dataKey,0),S;l.has(w)?S=l.get(w):S={},Object.assign(S,{[p]:T}),l.set(w,S)})}}),Array.from(l.values())}function T0(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var N0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function j0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function oJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Vn=t=>{var e=tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},cd=t=>t.tooltip.settings.axisId;function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return(e=cJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:e+""}function uJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J_=[0,"auto"],Kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},W3=(t,e)=>t.cartesianAxis.xAxis[e],Ks=(t,e)=>{var n=W3(t,e);return n??Kn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:J_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ih},X3=(t,e)=>t.cartesianAxis.yAxis[e],Gs=(t,e)=>{var n=X3(t,e);return n??Gn},dJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vE=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??dJ},tn=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Gs(t,n);case"zAxis":return vE(t,n);case"angleAxis":return mE(t,n);case"radiusAxis":return pE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},fJ=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Gs(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Uh=(t,e,n)=>{switch(e){case"xAxis":return Ks(t,n);case"yAxis":return Gs(t,n);case"angleAxis":return mE(t,n);case"radiusAxis":return pE(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Q3=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function yE(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Bh=t=>t.graphicalItems.cartesianItems,hJ=re([Jt,Vh],yE),bE=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),$h=re([Bh,tn,hJ],bE,{memoizeOptions:{resultEqualityCheck:j0}}),Z3=re([$h],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(T0)),J3=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),mJ=re([$h],J3),xE=t=>t.map(e=>e.data).filter(Boolean).flat(1),pJ=re([$h],xE,{memoizeOptions:{resultEqualityCheck:j0}}),_E=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},wE=re([pJ,lE],_E),SE=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:vt(i,r)}))):t.map(r=>({value:r})),C0=re([wE,tn,$h],SE);function e6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function rg(t){if(La(t)||t instanceof Date){var e=Number(t);if(Lt(e))return e}}function $P(t){if(Array.isArray(t)){var e=[rg(t[0]),rg(t[1])];return tl(e)?e:void 0}var n=rg(t);if(n!=null)return[n,n]}function Ds(t){return t.map(rg).filter(lH)}function gJ(t,e,n){return!n||typeof e!="number"||Mi(e)?[]:n.length?Ds(n.flatMap(r=>{var i=vt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Lt(s)||!Lt(l)))return[e-s,e+l]})):[]}var Un=t=>{var e=Vn(t),n=cd(t);return Uh(t,e,n)},qh=re([Un],t=>t?.dataKey),vJ=re([Z3,lE,Un],Y3),t6=(t,e,n,r)=>{var i={},s=e.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(s).map(l=>{var[u,d]=l,m=r?[...d].reverse():d,p=m.map(A0);return[u,{stackedData:MG(t,p,n),graphicalItems:m}]}))},dv=re([vJ,Z3,zh,B3],t6),n6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=VG(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},yJ=re([tn],t=>t.allowDataOverflow),EE=t=>{var e;if(t==null||!("domain"in t))return J_;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ds(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:J_},AE=re([tn],EE),TE=re([AE,yJ],A3),bJ=re([dv,Hs,Jt,TE],n6,{memoizeOptions:{resultEqualityCheck:N0}}),O0=t=>t.errorBars,xJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>e6(n,r)),fv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},NE=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(u=>{n.forEach(d=>{var m,p,g=(m=r[d.id])===null||m===void 0?void 0:m.filter(I=>e6(i,I)),b=vt(u,(p=e.dataKey)!==null&&p!==void 0?p:d.dataKey),w=gJ(u,b,g);if(w.length>=2){var T=Math.min(...w),S=Math.max(...w);(s==null||T<s)&&(s=T),(l==null||S>l)&&(l=S)}var A=$P(b);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),e?.dataKey!=null&&t.forEach(u=>{var d=$P(vt(u,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Lt(s)&&Lt(l))return[s,l]},_J=re([wE,tn,mJ,O0,Jt],NE,{memoizeOptions:{resultEqualityCheck:N0}});function wJ(t){var{value:e}=t;if(La(e)||e instanceof Date)return e}var SJ=(t,e,n)=>{var r=t.map(wJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&v4(r))?q5(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},r6=t=>t.referenceElements.dots,ud=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),EJ=re([r6,Jt,Vh],ud),i6=t=>t.referenceElements.areas,AJ=re([i6,Jt,Vh],ud),a6=t=>t.referenceElements.lines,TJ=re([a6,Jt,Vh],ud),s6=(t,e)=>{if(t!=null){var n=Ds(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},NJ=re(EJ,Jt,s6),o6=(t,e)=>{if(t!=null){var n=Ds(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},jJ=re([AJ,Jt],o6);function CJ(t){var e;if(t.x!=null)return Ds([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ds(n)}function OJ(t){var e;if(t.y!=null)return Ds([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ds(n)}var l6=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?CJ(r):OJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},IJ=re([TJ,Jt],l6),PJ=re(NJ,IJ,jJ,(t,e,n)=>fv(t,n,e)),jE=(t,e,n,r,i,s,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",m=d?fv(r,s,i):fv(s,i);return $Z(e,m,t.allowDataOverflow)},RJ=re([tn,AE,TE,bJ,_J,PJ,tt,Jt],jE,{memoizeOptions:{resultEqualityCheck:N0}}),kJ=[0,1],CE=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=t,m=$a(e,s);if(m&&u==null){var p;return q5(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?SJ(r,t,m):i==="expand"?kJ:l}},OE=re([tn,tt,wE,C0,zh,Jt,RJ],CE),c6=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(Th(s));return u in jf?u:"point"}}},dd=re([tn,tt,Q3,dE,Jt],c6);function MJ(t){if(t!=null){if(t in jf)return jf[t]();var e="scale".concat(Th(t));if(e in jf)return jf[e]()}}function IE(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=MJ(e);if(i!=null){var s=i.domain(n).range(r);return OG(s),s}}}var PE=(t,e,n)=>{var r=EE(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&tl(t))return QZ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&tl(t))return ZZ(t,e.tickCount,e.allowDecimals)}},RE=re([OE,Uh,dd],PE),kE=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&tl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,s),Math.max(l,u)]}return e},DJ=re([tn,OE,RE,Jt],kE),LJ=re(C0,tn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ds(t.map(g=>g.value))).sort((g,b)=>g-b),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var l=s-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],m=r[u+1];if(!(d==null||m==null)){var p=m-d;n=Math.min(n,p)}}return n/l}}),u6=re(LJ,tt,U3,Ln,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Lt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=xr(n,t*s),u=t*s/2;return u-l-(u-l)/s*l}return 0}),zJ=(t,e,n)=>{var r=Ks(t,e);return r==null||typeof r.padding!="string"?0:u6(t,"xAxis",e,n,r.padding)},VJ=(t,e,n)=>{var r=Gs(t,e);return r==null||typeof r.padding!="string"?0:u6(t,"yAxis",e,n,r.padding)},UJ=re(Ks,zJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),BJ=re(Gs,VJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$J=re([Ln,UJ,l0,o0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),qJ=re([Ln,tt,BJ,l0,o0,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Fh=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $J(t,n,r);case"yAxis":return qJ(t,n,r);case"zAxis":return(i=vE(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return H3(t);case"radiusAxis":return K3(t,n);default:return}},d6=re([tn,Fh],S0),I0=re([tn,dd,DJ,d6],IE);re([$h,O0,Jt],xJ);function f6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var P0=(t,e)=>e,R0=(t,e,n)=>n,FJ=re(a0,P0,R0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(f6)),HJ=re(s0,P0,R0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(f6)),h6=(t,e)=>({width:t.width,height:e.height}),KJ=(t,e)=>{var n=typeof e.width=="number"?e.width:Ih;return{width:n,height:t.height}},m6=re(Ln,Ks,h6),GJ=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},YJ=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},WJ=re(qs,Ln,FJ,P0,R0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=h6(e,u);l==null&&(l=GJ(e,r,t));var m=r==="top"&&!i||r==="bottom"&&i;s[u.id]=l-Number(m)*d.height,l+=(m?-1:1)*d.height}),s}),XJ=re($s,Ln,HJ,P0,R0,(t,e,n,r,i)=>{var s={},l;return n.forEach(u=>{var d=KJ(e,u);l==null&&(l=YJ(e,r,t));var m=r==="left"&&!i||r==="right"&&i;s[u.id]=l-Number(m)*d.width,l+=(m?-1:1)*d.width}),s}),QJ=(t,e)=>{var n=Ks(t,e);if(n!=null)return WJ(t,n.orientation,n.mirror)},ZJ=re([Ln,Ks,QJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),JJ=(t,e)=>{var n=Gs(t,e);if(n!=null)return XJ(t,n.orientation,n.mirror)},eee=re([Ln,Gs,JJ,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),p6=re(Ln,Gs,(t,e)=>{var n=typeof e.width=="number"?e.width:Ih;return{width:n,height:t.height}}),qP=(t,e,n)=>{switch(e){case"xAxis":return m6(t,n).width;case"yAxis":return p6(t,n).height;default:return}},g6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,u=$a(t,r),d=e.map(m=>m.value);if(l&&u&&s==="category"&&i&&v4(d))return d}},ME=re([tt,C0,tn,Jt],g6),v6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=$a(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(u=>u.value)}},DE=re([tt,C0,Uh,Jt],v6),FP=re([tt,fJ,dd,I0,ME,DE,Fh,RE,Jt],(t,e,n,r,i,s,l,u,d)=>{if(e!=null){var m=$a(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:m,niceTicks:u,range:l,realScaleType:n,scale:r}}}),tee=(t,e,n,r,i,s,l,u,d)=>{if(!(e==null||r==null)){var m=$a(t,d),{type:p,ticks:g,tickCount:b}=e,w=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=p==="category"&&r.bandwidth?r.bandwidth()/w:0;T=d==="angleAxis"&&s!=null&&s.length>=2?Qn(s[0]-s[1])*2*T:T;var S=g||i;if(S){var A=S.map((I,L)=>{var k=l?l.indexOf(I):I;return{index:L,coordinate:r(k)+T,value:I,offset:T}});return A.filter(I=>Lt(I.coordinate))}return m&&u?u.map((I,L)=>({coordinate:r(I)+T,value:I,index:L,offset:T})).filter(I=>Lt(I.coordinate)):r.ticks?r.ticks(b).map(I=>({coordinate:r(I)+T,value:I,offset:T})):r.domain().map((I,L)=>({coordinate:r(I)+T,value:l?l[I]:I,index:L,offset:T}))}},y6=re([tt,Uh,dd,I0,RE,Fh,ME,DE,Jt],tee),nee=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=$a(t,l),{tickCount:d}=e,m=0;return m=l==="angleAxis"&&r?.length>=2?Qn(r[0]-r[1])*2*m:m,u&&s?s.map((p,g)=>({coordinate:n(p)+m,value:p,index:g,offset:m})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+m,value:p,offset:m})):n.domain().map((p,g)=>({coordinate:n(p)+m,value:i?i[p]:p,index:g,offset:m}))}},Ua=re([tt,Uh,I0,Fh,ME,DE,Jt],nee),Ba=re(tn,I0,(t,e)=>{if(!(t==null||e==null))return uv(uv({},t),{},{scale:e})}),ree=re([tn,dd,OE,d6],IE);re((t,e,n)=>vE(t,n),ree,(t,e)=>{if(!(t==null||e==null))return uv(uv({},t),{},{scale:e})});var iee=re([tt,a0,s0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),b6=t=>t.options.defaultTooltipEventType,x6=t=>t.options.validateTooltipEventTypes;function _6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function LE(t,e){var n=b6(t),r=x6(t);return _6(e,n,r)}function aee(t){return Re(e=>LE(e,t))}var w6=(t,e)=>{var n,r=Number(e);if(!(Mi(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},see=t=>t.tooltip.settings,zo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},oee={itemInteraction:{click:zo,hover:zo},axisInteraction:{click:zo,hover:zo},keyboardInteraction:zo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},S6=Wr({name:"tooltip",initialState:oee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Qt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Qt()},removeTooltipEntrySettings:{reducer(t,e){var n=ta(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Qt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:lee,replaceTooltipEntrySettings:cee,removeTooltipEntrySettings:uee,setTooltipSettingsState:dee,setActiveMouseOverItemIndex:E6,mouseLeaveItem:fee,mouseLeaveChart:A6,setActiveClickItemIndex:hee,setMouseOverAxisIndex:T6,setMouseClickAxisIndex:mee,setSyncInteraction:ew,setKeyboardInteraction:tw}=S6.actions,pee=S6.reducer;function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){gee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gee(t,e,n){return(e=vee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=yee(t,"string");return typeof e=="symbol"?e:e+""}function yee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function xee(t){return t.index!=null}var N6=(t,e,n,r)=>{if(e==null)return zo;var i=bee(t,e,n);if(i==null)return zo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(xee(i)){if(s)return Vp(Vp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Vp(Vp({},zo),{},{coordinate:i.coordinate})};function _ee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function wee(t,e){var n=_ee(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),l=Math.max(r,i);return n>=s&&n<=l}function See(t,e,n){if(n==null||e==null)return!0;var r=vt(t,e);return r==null||!tl(n)?!0:wee(r,n)}var zE=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Lt(s))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var d=Math.max(l,Math.min(s,u)),m=e[d];return m==null||See(m,n,r)?String(d):null},j6=(t,e,n,r,i,s,l,u)=>{if(!(s==null||u==null)){var d=l[0],m=d==null?void 0:u(d.positions,s);if(m!=null)return m;var p=i?.[Number(s)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:p.coordinate}}},C6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Hh=t=>t.options.tooltipPayloadSearcher,fd=t=>t.tooltip;function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Eee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eee(t,e,n){return(e=Aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=Tee(t,"string");return typeof e=="symbol"?e:e+""}function Tee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nee(t,e){return t??e}var O6=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:u,computedData:d,dataStartIndex:m,dataEndIndex:p}=n,g=[];return t.reduce((b,w)=>{var T,{dataDefinedOnItem:S,settings:A}=w,I=Nee(S,u),L=Array.isArray(I)?d5(I,m,p):I,k=(T=A?.dataKey)!==null&&T!==void 0?T:r,B=A?.nameKey,M;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&l==="axis"?M=y4(L,r,i):M=s(L,e,d,B),Array.isArray(M))M.forEach(j=>{var E=GP(GP({},A),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});b.push(XO({tooltipEntrySettings:E,dataKey:j.dataKey,payload:j.payload,value:vt(j.payload,j.dataKey),name:j.name}))});else{var q;b.push(XO({tooltipEntrySettings:A,dataKey:k,payload:M,value:vt(M,k),name:(q=vt(M,B))!==null&&q!==void 0?q:A?.name}))}return b},g)}},VE=re([Un,tt,Q3,dE,Vn],c6),jee=re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Cee=re([Vn,cd],yE),hd=re([jee,Un,Cee],bE,{memoizeOptions:{resultEqualityCheck:j0}}),Oee=re([hd],t=>t.filter(T0)),Iee=re([hd],xE,{memoizeOptions:{resultEqualityCheck:j0}}),md=re([Iee,Hs],_E),Pee=re([Oee,Hs,Un],Y3),UE=re([md,Un,hd],SE),I6=re([Un],EE),Ree=re([Un],t=>t.allowDataOverflow),P6=re([I6,Ree],A3),kee=re([hd],t=>t.filter(T0)),Mee=re([Pee,kee,zh,B3],t6),Dee=re([Mee,Hs,Vn,P6],n6),Lee=re([hd],J3),zee=re([md,Un,Lee,O0,Vn],NE,{memoizeOptions:{resultEqualityCheck:N0}}),Vee=re([r6,Vn,cd],ud),Uee=re([Vee,Vn],s6),Bee=re([i6,Vn,cd],ud),$ee=re([Bee,Vn],o6),qee=re([a6,Vn,cd],ud),Fee=re([qee,Vn],l6),Hee=re([Uee,Fee,$ee],fv),Kee=re([Un,I6,P6,Dee,zee,Hee,tt,Vn],jE),Kh=re([Un,tt,md,UE,zh,Vn,Kee],CE),Gee=re([Kh,Un,VE],PE),Yee=re([Un,Kh,Gee,Vn],kE),R6=t=>{var e=Vn(t),n=cd(t),r=!1;return Fh(t,e,n,r)},k6=re([Un,R6],S0),M6=re([Un,VE,Yee,k6],IE),Wee=re([tt,UE,Un,Vn],g6),Xee=re([tt,UE,Un,Vn],v6),Qee=(t,e,n,r,i,s,l,u)=>{if(e){var{type:d}=e,m=$a(t,u);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;return g=u==="angleAxis"&&i!=null&&i?.length>=2?Qn(i[0]-i[1])*2*g:g,m&&l?l.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:s?s[b]:b,index:w,offset:g}))}}},Ys=re([tt,Un,VE,M6,R6,Wee,Xee,Vn],Qee),BE=re([b6,x6,see],(t,e,n)=>_6(n.shared,t,e)),D6=t=>t.tooltip.settings.trigger,$E=t=>t.tooltip.settings.defaultIndex,Gh=re([fd,BE,D6,$E],N6),nl=re([Gh,md,qh,Kh],zE),L6=re([Ys,nl],w6),qE=re([Gh],t=>{if(t)return t.dataKey}),Zee=re([Gh],t=>{if(t)return t.graphicalItemId}),z6=re([fd,BE,D6,$E],C6),Jee=re([$s,qs,tt,Ln,Ys,$E,z6,Hh],j6),ete=re([Gh,Jee],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),tte=re([Gh],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),nte=re([z6,nl,Hs,qh,L6,Hh,BE],O6),rte=re([nte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){ite(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ite(t,e,n){return(e=ate(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ate(t){var e=ste(t,"string");return typeof e=="symbol"?e:e+""}function ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=()=>Re(Un),lte=()=>{var t=ote(),e=Re(Ys),n=Re(M6);return el(!t||!n?void 0:WP(WP({},t),{},{scale:n}),e)};function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){cte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cte(t,e,n){return(e=ute(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ute(t){var e=dte(t,"string");return typeof e=="symbol"?e:e+""}function dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fte=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},hte=(t,e,n,r)=>{var i=e.find(m=>m&&m.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return uu(uu(uu({},r),On(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var u=i.coordinate,{angle:d}=r;return uu(uu(uu({},r),On(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var V6=(t,e,n,r,i)=>{var s,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,m,p,g,b,w=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(m=n[l-1])===null||m===void 0?void 0:m.coordinate,T=(p=n[u])===null||p===void 0?void 0:p.coordinate,S=u>=l-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(b=n[u+1])===null||b===void 0?void 0:b.coordinate,A=void 0;if(!(w==null||T==null||S==null))if(Qn(T-w)!==Qn(S-T)){var I=[];if(Qn(S-T)===Qn(i[1]-i[0])){A=S;var L=T+i[1]-i[0];I[0]=Math.min(L,(L+w)/2),I[1]=Math.max(L,(L+w)/2)}else{A=w;var k=S+i[1]-i[0];I[0]=Math.min(T,(k+T)/2),I[1]=Math.max(T,(k+T)/2)}var B=[Math.min(T,(A+T)/2),Math.max(T,(A+T)/2)];if(t>B[0]&&t<=B[1]||t>=I[0]&&t<=I[1]){var M;return(M=n[u])===null||M===void 0?void 0:M.index}}else{var q=Math.min(w,S),j=Math.max(w,S);if(t>(q+T)/2&&t<=(j+T)/2){var E;return(E=n[u])===null||E===void 0?void 0:E.index}}}else if(e)for(var O=0;O<l;O++){var R=e[O];if(R!=null){var D=e[O+1],V=e[O-1];if(O===0&&D!=null&&t<=(R.coordinate+D.coordinate)/2||O===l-1&&V!=null&&t>(R.coordinate+V.coordinate)/2||O>0&&O<l-1&&V!=null&&D!=null&&t>(R.coordinate+V.coordinate)/2&&t<=(R.coordinate+D.coordinate)/2)return R.index}}return-1},U6=()=>Re(dE),FE=(t,e)=>e,B6=(t,e,n)=>n,HE=(t,e,n,r)=>r,pte=re(Ys,t=>Wv(t,e=>e.coordinate)),KE=re([fd,FE,B6,HE],N6),GE=re([KE,md,qh,Kh],zE),gte=(t,e,n)=>{if(e!=null){var r=fd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$6=re([fd,FE,B6,HE],C6),hv=re([$s,qs,tt,Ln,Ys,HE,$6,Hh],j6),vte=re([KE,hv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),q6=re([Ys,GE],w6),yte=re([$6,GE,Hs,qh,q6,Hh,FE],O6),bte=re([KE,GE],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),xte=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&mte(t,l)){var u=UG(t,e),d=V6(u,s,i,n,r),m=fte(e,i,d,t);return{activeIndex:String(d),activeCoordinate:m}}},_te=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var u=iX(t,n);if(u){var d=BG(u,e),m=V6(d,l,s,r,i),p=hte(e,s,m,u);return{activeIndex:String(m),activeCoordinate:p}}}},wte=(t,e,n,r,i,s,l,u)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?xte(t,e,r,i,s,l,u):_te(t,e,n,r,i,s,l)},Ste=re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Ete=re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(vn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:oJ}});function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){Ate(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ate(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Nte(t,"string");return typeof e=="symbol"?e:e+""}function Nte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jte={},Cte={zIndexMap:Object.values(vn).reduce((t,e)=>ZP(ZP({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),jte)},Ote=new Set(Object.values(vn));function Ite(t){return Ote.has(t)}var F6=Wr({name:"zIndex",initialState:Cte,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Ite(n)&&delete t.zIndexMap[n])},prepare:Qt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:Qt()}}}),{registerZIndexPortal:Pte,unregisterZIndexPortal:Rte,registerZIndexPortalElement:kte,unregisterZIndexPortalElement:Mte}=F6.actions,Dte=F6.reducer;function kr(t){var{zIndex:e,children:n}=t,r=bY(),i=r&&e!==void 0&&e!==0,s=Zn(),l=Bt();_.useLayoutEffect(()=>i?(l(Pte({zIndex:e})),()=>{l(Rte({zIndex:e}))}):Nh,[l,e,i]);var u=Re(d=>Ste(d,e,s));return i?u?gS.createPortal(n,u):null:n}function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){Lte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lte(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return _.isValidElement(e)?_.cloneElement(e,r):_.createElement(n,r)}function Bte(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:m,chartName:p}=t,g=n,b=r,w=i;if(!d||!g||p!=="ScatterChart"&&m!=="axis")return null;var T,S,A;if(p==="ScatterChart")T=g,S=yW,A=vn.cursorLine;else if(p==="BarChart")T=bW(u,g,s,l),S=z5,A=vn.cursorRectangle;else if(u==="radial"&&x4(g)){var{cx:I,cy:L,radius:k,startAngle:B,endAngle:M}=U5(g);T={cx:I,cy:L,startAngle:B,endAngle:M,innerRadius:k,outerRadius:k},S=$5,A=vn.cursorLine}else T={points:lX(u,g,s)},S=Tu,A=vn.cursorLine;var q=typeof d=="object"&&"className"in d?d.className:void 0,j=Up(Up(Up(Up({stroke:"#ccc",pointerEvents:"none"},s),T),oc(d)),{},{payload:b,payloadIndex:w,className:ut("recharts-tooltip-cursor",q)});return _.createElement(kr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:A},_.createElement(Ute,{cursor:d,cursorComp:S,cursorProps:j}))}function $te(t){var e=lte(),n=w5(),r=ll(),i=U6();return e==null||n==null||r==null||i==null?null:_.createElement(Bte,nw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var H6=_.createContext(null),qte=()=>_.useContext(H6),A1={exports:{}},eR;function Fte(){return eR||(eR=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function s(d,m,p,g,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var w=new i(p,g||d,b),T=n?n+m:m;return d._events[T]?d._events[T].fn?d._events[T]=[d._events[T],w]:d._events[T].push(w):(d._events[T]=w,d._eventsCount++),d}function l(d,m){--d._eventsCount===0?d._events=new r:delete d._events[m]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,T=new Array(w);b<w;b++)T[b]=g[b].fn;return T},u.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(m,p,g,b,w,T){var S=n?n+m:m;if(!this._events[S])return!1;var A=this._events[S],I=arguments.length,L,k;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),I){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,g),!0;case 4:return A.fn.call(A.context,p,g,b),!0;case 5:return A.fn.call(A.context,p,g,b,w),!0;case 6:return A.fn.call(A.context,p,g,b,w,T),!0}for(k=1,L=new Array(I-1);k<I;k++)L[k-1]=arguments[k];A.fn.apply(A.context,L)}else{var B=A.length,M;for(k=0;k<B;k++)switch(A[k].once&&this.removeListener(m,A[k].fn,void 0,!0),I){case 1:A[k].fn.call(A[k].context);break;case 2:A[k].fn.call(A[k].context,p);break;case 3:A[k].fn.call(A[k].context,p,g);break;case 4:A[k].fn.call(A[k].context,p,g,b);break;default:if(!L)for(M=1,L=new Array(I-1);M<I;M++)L[M-1]=arguments[M];A[k].fn.apply(A[k].context,L)}}return!0},u.prototype.on=function(m,p,g){return s(this,m,p,g,!1)},u.prototype.once=function(m,p,g){return s(this,m,p,g,!0)},u.prototype.removeListener=function(m,p,g,b){var w=n?n+m:m;if(!this._events[w])return this;if(!p)return l(this,w),this;var T=this._events[w];if(T.fn)T.fn===p&&(!b||T.once)&&(!g||T.context===g)&&l(this,w);else{for(var S=0,A=[],I=T.length;S<I;S++)(T[S].fn!==p||b&&!T[S].once||g&&T[S].context!==g)&&A.push(T[S]);A.length?this._events[w]=A.length===1?A[0]:A:l(this,w)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(A1)),A1.exports}var Hte=Fte();const Kte=Vs(Hte);var sh=new Kte,rw="recharts.syncEvent.tooltip",tR="recharts.syncEvent.brush";function K6(t,e){if(e){var n=Number.parseInt(e,10);if(!Mi(n))return t?.[n]}}var Gte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},G6=Wr({name:"options",initialState:Gte,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yte=G6.reducer,{createEventEmitter:Wte}=G6.actions;function Xte(t){return t.tooltip.syncInteraction}var Qte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Y6=Wr({name:"chartData",initialState:Qte,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:nR,setDataStartEndIndexes:Zte,setComputedData:vfe}=Y6.actions,Jte=Y6.reducer,ene=["x","y"];function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){tne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tne(t,e,n){return(e=nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return typeof e=="symbol"?e:e+""}function rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ine(t,e){if(t==null)return{};var n,r,i=ane(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sne(){var t=Re(fE),e=Re(hE),n=Bt(),r=Re($3),i=Re(Ys),s=ll(),l=u0(),u=Re(d=>d.rootProps.className);_.useEffect(()=>{if(t==null)return Nh;var d=(m,p,g)=>{if(e!==g&&t===m){if(r==="index"){var b;if(l&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var w=p.payload.coordinate,{x:T,y:S}=w,A=ine(w,ene),{x:I,y:L,width:k,height:B}=p.payload.sourceViewBox,M=du(du({},A),{},{x:l.x+(k?(T-I)/k:0)*l.width,y:l.y+(B?(S-L)/B:0)*l.height});n(du(du({},p),{},{payload:du(du({},p.payload),{},{coordinate:M})}))}else n(p);return}if(i!=null){var q;if(typeof r=="function"){var j={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},E=r(i,j);q=i[E]}else r==="value"&&(q=i.find(K=>String(K.value)===p.payload.label));var{coordinate:O}=p.payload;if(q==null||p.payload.active===!1||O==null||l==null){n(ew({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:R,y:D}=O,V=Math.min(R,l.x+l.width),z=Math.min(D,l.y+l.height),X={x:s==="horizontal"?q.coordinate:V,y:s==="horizontal"?z:q.coordinate},ce=ew({active:p.payload.active,coordinate:X,dataKey:p.payload.dataKey,index:String(q.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(ce)}}};return sh.on(rw,d),()=>{sh.off(rw,d)}},[u,n,e,t,r,i,s,l])}function one(){var t=Re(fE),e=Re(hE),n=Bt();_.useEffect(()=>{if(t==null)return Nh;var r=(i,s,l)=>{e!==l&&t===i&&n(Zte(s))};return sh.on(tR,r),()=>{sh.off(tR,r)}},[n,e,t])}function lne(){var t=Bt();_.useEffect(()=>{t(Wte())},[t]),sne(),one()}function cne(t,e,n,r,i,s){var l=Re(w=>gte(w,t,e)),u=Re(hE),d=Re(fE),m=Re($3),p=Re(Xte),g=p?.active,b=u0();_.useEffect(()=>{if(!g&&d!=null&&u!=null){var w=ew({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});sh.emit(rw,d,w,u)}},[g,n,l,i,r,u,d,m,s,b])}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){une(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function une(t,e,n){return(e=dne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=fne(t,"string");return typeof e=="symbol"?e:e+""}function fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hne(t){return t.dataKey}function mne(t,e){return _.isValidElement(t)?_.cloneElement(t,e):typeof t=="function"?_.createElement(t,e):_.createElement(QY,e)}var sR=[],pne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function k0(t){var e,n,r=cn(t,pne),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:d,filterNull:m,isAnimationActive:p,offset:g,payloadUniqBy:b,position:w,reverseDirection:T,useTranslate3d:S,wrapperStyle:A,cursor:I,shared:L,trigger:k,defaultIndex:B,portal:M,axisId:q}=r,j=Bt(),E=typeof B=="number"?String(B):B;_.useEffect(()=>{j(dee({shared:L,trigger:k,axisId:q,active:i,defaultIndex:E}))},[j,L,k,q,i,E]);var O=u0(),R=R5(),D=aee(L),{activeIndex:V,isActive:z}=(e=Re(we=>bte(we,D,k,E)))!==null&&e!==void 0?e:{},X=Re(we=>yte(we,D,k,E)),ce=Re(we=>q6(we,D,k,E)),K=Re(we=>vte(we,D,k,E)),Z=X,he=qte(),me=(n=i??z)!==null&&n!==void 0?n:!1,[ee,$]=M4([Z,me]),Y=D==="axis"?ce:void 0;cne(D,k,K,Y,V,me);var Q=M??he;if(Q==null||O==null||D==null)return null;var ne=Z??sR;me||(ne=sR),m&&ne.length&&(ne=O4(ne.filter(we=>we.value!=null&&(we.hide!==!0||r.includeHidden)),b,hne));var _e=ne.length>0,oe=_.createElement(iW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:p,active:me,coordinate:K,hasPayload:_e,offset:g,position:w,reverseDirection:T,useTranslate3d:S,viewBox:O,wrapperStyle:A,lastBoundingBox:ee,innerRef:$,hasPortalFromProps:!!M},mne(d,aR(aR({},r),{},{payload:ne,label:Y,active:me,activeIndex:V,coordinate:K,accessibilityLayer:R})));return _.createElement(_.Fragment,null,gS.createPortal(oe,Q),me&&_.createElement($te,{cursor:I,tooltipEventType:D,coordinate:K,payload:ne,index:V}))}var Yh=t=>null;Yh.displayName="Cell";function gne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bne{constructor(e){gne(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){_ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ne(t,e,n){return(e=wne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=Sne(t,"string");return typeof e=="symbol"?e:e+""}function Sne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ene={cacheSize:2e3,enableCache:!0},W6=xne({},Ene),lR=new bne(W6.cacheSize),Ane={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cR="recharts_measurement_span";function Tne(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(u)}var uR=(t,e)=>{try{var n=document.getElementById(cR);n||(n=document.createElement("span"),n.setAttribute("id",cR),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ane,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rh.isSsr)return{width:0,height:0};if(!W6.enableCache)return uR(e,n);var r=Tne(e,n),i=lR.get(r);if(i)return i;var s=uR(e,n);return lR.set(r,s),s},X6;function Nne(t,e,n){return(e=jne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,One=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ine=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Pne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rne=["cm","mm","pt","pc","in","Q","px"];function kne(t){return Rne.includes(t)}var bu="NaN";function Mne(t,e){return t*Pne[e]}class cr{static parse(e){var n,[,r,i]=(n=Ine.exec(e))!==null&&n!==void 0?n:[];return r==null?cr.NaN:new cr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Mi(e)&&(this.unit=""),n!==""&&!One.test(n)&&(this.num=NaN,this.unit=""),kne(n)&&(this.num=Mne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new cr(NaN,""):new cr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new cr(NaN,""):new cr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mi(this.num)}}X6=cr;Nne(cr,"NaN",new X6(NaN,""));function Q6(t){if(t==null||t.includes(bu))return bu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=dR.exec(e))!==null&&n!==void 0?n:[],l=cr.parse(r??""),u=cr.parse(s??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return bu;e=e.replace(dR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,[,p,g,b]=(m=fR.exec(e))!==null&&m!==void 0?m:[],w=cr.parse(p??""),T=cr.parse(b??""),S=g==="+"?w.add(T):w.subtract(T);if(S.isNaN())return bu;e=e.replace(fR,S.toString())}return e}var hR=/\(([^()]*)\)/;function Dne(t){for(var e=t,n;(n=hR.exec(e))!=null;){var[,r]=n;e=e.replace(hR,Q6(r))}return e}function Lne(t){var e=t.replace(/\s+/g,"");return e=Dne(e),e=Q6(e),e}function zne(t){try{return Lne(t)}catch{return bu}}function T1(t){var e=zne(t.slice(5,-1));return e===bu?"":e}var Vne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Une=["dx","dy","angle","className","breakAll"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function mR(t,e){if(t==null)return{};var n,r,i=Bne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Z6=/[ \f\n\r\t\v\u2028\u2029]+/,J6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Gt(e)||(n?i=e.toString().split(""):i=e.toString().split(Z6));var s=i.map(u=>({word:u,width:Mf(u,r).width})),l=n?0:Mf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function $ne(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var eL=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:u}=s,d=i[i.length-1];if(d&&u!=null&&(e==null||r||d.width+u+n<Number(e)))d.words.push(l),d.width+=u+n;else{var m={words:[l],width:u};i.push(m)}return i},[]),tL=t=>t.reduce((e,n)=>e.width>n.width?e:n),qne="",pR=(t,e,n,r,i,s,l,u)=>{var d=t.slice(0,e),m=J6({breakAll:n,style:r,children:d+qne});if(!m)return[!1,[]];var p=eL(m.wordsWithComputedWidth,s,l,u),g=p.length>i||tL(p).width>Number(s);return[g,p]},Fne=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:u,breakAll:d}=t,m=Ne(s),p=String(l),g=eL(e,r,n,i);if(!m||i)return g;var b=g.length>s||tL(g).width>Number(r);if(!b)return g;for(var w=0,T=p.length-1,S=0,A;w<=T&&S<=p.length-1;){var I=Math.floor((w+T)/2),L=I-1,[k,B]=pR(p,L,d,u,s,r,n,i),[M]=pR(p,I,d,u,s,r,n,i);if(!k&&!M&&(w=I+1),k&&M&&(T=I-1),!k&&M){A=B;break}S++}return A||g},gR=t=>{var e=Gt(t)?[]:t.toString().split(Z6);return[{words:e,width:void 0}]},Hne=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!Rh.isSsr){var u,d,m=J6({breakAll:s,children:r,style:i});if(m){var{wordsWithComputedWidth:p,spaceWidth:g}=m;u=p,d=g}else return gR(r);return Fne({breakAll:s,children:r,maxLines:l,style:i},u,d,e,!!n)}return gR(r)},nL="#808080",Kne={angle:0,breakAll:!1,capHeight:"0.71em",fill:nL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},M0=_.forwardRef((t,e)=>{var n=cn(t,Kne),{x:r,y:i,lineHeight:s,capHeight:l,fill:u,scaleToFit:d,textAnchor:m,verticalAnchor:p}=n,g=mR(n,Vne),b=_.useMemo(()=>Hne({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),{dx:w,dy:T,angle:S,className:A,breakAll:I}=g,L=mR(g,Une);if(!La(r)||!La(i)||b.length===0)return null;var k=Number(r)+(Ne(w)?w:0),B=Number(i)+(Ne(T)?T:0);if(!Lt(k)||!Lt(B))return null;var M;switch(p){case"start":M=T1("calc(".concat(l,")"));break;case"middle":M=T1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=T1("calc(".concat(b.length-1," * -").concat(s,")"));break}var q=[];if(d){var j=b[0].width,{width:E}=g;q.push("scale(".concat(Ne(E)&&Ne(j)?E/j:1,")"))}return S&&q.push("rotate(".concat(S,", ").concat(k,", ").concat(B,")")),q.length&&(L.transform=q.join(" ")),_.createElement("text",iw({},wr(L),{ref:e,x:k,y:B,className:ut("recharts-text",A),textAnchor:m,fill:u.includes("url")?nL:u}),b.map((O,R)=>{var D=O.words.join(I?"":" ");return _.createElement("tspan",{x:k,dy:R===0?M:s,key:"".concat(D,"-").concat(R)},D)}))});M0.displayName="Text";var Gne=["labelRef"],Yne=["content"];function vR(t,e){if(t==null)return{};var n,r,i=Wne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(null,arguments)}var rL=_.createContext(null),Jne=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:u}=t,d=_.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return _.createElement(rL.Provider,{value:d},u)},iL=()=>{var t=_.useContext(rL),e=u0();return t||_5(e)},ere=_.createContext(null),tre=()=>{var t=_.useContext(ere),e=Re(G3);return t||e},nre=t=>{var{value:e,formatter:n}=t,r=Gt(t.children)?e:t.children;return typeof n=="function"?n(r):r},YE=t=>t!=null&&typeof t=="function",rre=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},ire=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:u,cy:d,innerRadius:m,outerRadius:p,startAngle:g,endAngle:b,clockWise:w}=i,T=(m+p)/2,S=rre(g,b),A=S>=0?1:-1,I,L;switch(e){case"insideStart":I=g+A*s,L=w;break;case"insideEnd":I=b-A*s,L=!w;break;case"end":I=b+A*s,L=w;break;default:throw new Error("Unsupported position ".concat(e))}L=S<=0?L:!L;var k=On(u,d,T,I),B=On(u,d,T,I+(L?1:-1)*359),M="M".concat(k.x,",").concat(k.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(L?0:1,`,
    `).concat(B.x,",").concat(B.y),q=Gt(t.id)?Gf("recharts-radial-line-"):t.id;return _.createElement("text",gs({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:q,d:M})),_.createElement("textPath",{xlinkHref:"#".concat(q)},n))},are=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:u,endAngle:d}=t,m=(u+d)/2;if(n==="outside"){var{x:p,y:g}=On(r,i,l+e,m);return{x:p,y:g,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var b=(s+l)/2,{x:w,y:T}=On(r,i,b,m);return{x:w,y:T,textAnchor:"middle",verticalAnchor:"middle"}},aw=t=>"cx"in t&&Ne(t.cx),sre=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!aw(n)&&(s=n);var{x:l,y:u,upperWidth:d,lowerWidth:m,height:p}=e,g=l,b=l+(d-m)/2,w=(g+b)/2,T=(d+m)/2,S=g+d/2,A=p>=0?1:-1,I=A*r,L=A>0?"end":"start",k=A>0?"start":"end",B=d>=0?1:-1,M=B*r,q=B>0?"end":"start",j=B>0?"start":"end";if(i==="top"){var E={x:g+d/2,y:u-I,textAnchor:"middle",verticalAnchor:L};return pn(pn({},E),s?{height:Math.max(u-s.y,0),width:d}:{})}if(i==="bottom"){var O={x:b+m/2,y:u+p+I,textAnchor:"middle",verticalAnchor:k};return pn(pn({},O),s?{height:Math.max(s.y+s.height-(u+p),0),width:m}:{})}if(i==="left"){var R={x:w-M,y:u+p/2,textAnchor:q,verticalAnchor:"middle"};return pn(pn({},R),s?{width:Math.max(R.x-s.x,0),height:p}:{})}if(i==="right"){var D={x:w+T+M,y:u+p/2,textAnchor:j,verticalAnchor:"middle"};return pn(pn({},D),s?{width:Math.max(s.x+s.width-D.x,0),height:p}:{})}var V=s?{width:T,height:p}:{};return i==="insideLeft"?pn({x:w+M,y:u+p/2,textAnchor:j,verticalAnchor:"middle"},V):i==="insideRight"?pn({x:w+T-M,y:u+p/2,textAnchor:q,verticalAnchor:"middle"},V):i==="insideTop"?pn({x:g+d/2,y:u+I,textAnchor:"middle",verticalAnchor:k},V):i==="insideBottom"?pn({x:b+m/2,y:u+p-I,textAnchor:"middle",verticalAnchor:L},V):i==="insideTopLeft"?pn({x:g+M,y:u+I,textAnchor:j,verticalAnchor:k},V):i==="insideTopRight"?pn({x:g+d-M,y:u+I,textAnchor:q,verticalAnchor:k},V):i==="insideBottomLeft"?pn({x:b+M,y:u+p-I,textAnchor:j,verticalAnchor:L},V):i==="insideBottomRight"?pn({x:b+m-M,y:u+p-I,textAnchor:q,verticalAnchor:L},V):i&&typeof i=="object"&&(Ne(i.x)||Is(i.x))&&(Ne(i.y)||Is(i.y))?pn({x:l+xr(i.x,T),y:u+xr(i.y,p),textAnchor:"end",verticalAnchor:"end"},V):pn({x:S,y:u+p/2,textAnchor:"middle",verticalAnchor:"middle"},V)},ore={angle:0,offset:5,zIndex:vn.label,position:"middle",textBreakAll:!1};function Ro(t){var e=cn(t,ore),{viewBox:n,position:r,value:i,children:s,content:l,className:u="",textBreakAll:d,labelRef:m}=e,p=tre(),g=iL(),b=r==="center"?g:p??g,w,T,S;if(n==null?w=b:aw(n)?w=n:w=_5(n),!w||Gt(i)&&Gt(s)&&!_.isValidElement(l)&&typeof l!="function")return null;var A=pn(pn({},e),{},{viewBox:w});if(_.isValidElement(l)){var{labelRef:I}=A,L=vR(A,Gne);return _.cloneElement(l,L)}if(typeof l=="function"){var{content:k}=A,B=vR(A,Yne);if(T=_.createElement(l,B),_.isValidElement(T))return T}else T=nre(e);var M=wr(e);if(aw(w)){if(r==="insideStart"||r==="insideEnd"||r==="end")return ire(e,r,T,M,w);S=are(w,e.offset,e.position)}else S=sre(e,w);return _.createElement(kr,{zIndex:e.zIndex},_.createElement(M0,gs({ref:m,className:ut("recharts-label",u)},M,S,{textAnchor:$ne(M.textAnchor)?M.textAnchor:S.textAnchor,breakAll:d}),T))}Ro.displayName="Label";var lre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?_.createElement(Ro,gs({key:"label-implicit"},r)):La(t)?_.createElement(Ro,gs({key:"label-implicit",value:t},r)):_.isValidElement(t)?t.type===Ro?_.cloneElement(t,pn({key:"label-implicit"},r)):_.createElement(Ro,gs({key:"label-implicit",content:t},r)):YE(t)?_.createElement(Ro,gs({key:"label-implicit",content:t},r)):t&&typeof t=="object"?_.createElement(Ro,gs({},t,{key:"label-implicit"},r)):null};function cre(t){var{label:e,labelRef:n}=t,r=iL();return lre(e,r,n)||null}var N1={},j1={},bR;function ure(){return bR||(bR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(j1)),j1}var C1={},xR;function dre(){return xR||(xR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(C1)),C1}var _R;function fre(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ure(),n=dre(),r=AS();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(N1)),N1}var O1,wR;function hre(){return wR||(wR=1,O1=fre().last),O1}var mre=hre();const pre=Vs(mre);var gre=["valueAccessor"],vre=["dataKey","clockWise","id","textBreakAll","zIndex"];function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function SR(t,e){if(t==null)return{};var n,r,i=yre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bre=t=>Array.isArray(t.value)?pre(t.value):t.value,aL=_.createContext(void 0),WE=aL.Provider,sL=_.createContext(void 0),xre=sL.Provider;function _re(){return _.useContext(aL)}function wre(){return _.useContext(sL)}function ig(t){var{valueAccessor:e=bre}=t,n=SR(t,gre),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:u}=n,d=SR(n,vre),m=_re(),p=wre(),g=m||p;return!g||!g.length?null:_.createElement(kr,{zIndex:u??vn.label},_.createElement(ln,{className:"recharts-label-list"},g.map((b,w)=>{var T,S=Gt(r)?e(b,w):vt(b&&b.payload,r),A=Gt(s)?{}:{id:"".concat(s,"-").concat(w)};return _.createElement(Ro,mv({key:"label-".concat(w)},wr(b),d,A,{fill:(T=n.fill)!==null&&T!==void 0?T:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:l,viewBox:b.viewBox,index:w,zIndex:0}))})))}ig.displayName="LabelList";function D0(t){var{label:e}=t;return e?e===!0?_.createElement(ig,{key:"labelList-implicit"}):_.isValidElement(e)||YE(e)?_.createElement(ig,{key:"labelList-implicit",content:e}):typeof e=="object"?_.createElement(ig,mv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(null,arguments)}var oL=t=>{var{cx:e,cy:n,r,className:i}=t,s=ut("recharts-dot",i);return Ne(e)&&Ne(n)&&Ne(r)?_.createElement("circle",sw({},Pr(t),ES(t),{className:s,cx:e,cy:n,r})):null},lL=t=>t.graphicalItems.polarItems,Sre=re([Jt,Vh],yE),L0=re([lL,tn,Sre],bE),Ere=re([L0],xE),z0=re([Ere,w0],_E),Are=re([z0,tn,L0],SE);re([z0,tn,L0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=vt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:vt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var ER=()=>{},Tre=re([z0,tn,L0,O0,Jt],NE),Nre=re([tn,AE,TE,ER,Tre,ER,tt,Jt],jE),cL=re([tn,tt,z0,Are,zh,Jt,Nre],CE),jre=re([cL,tn,dd],PE);re([tn,cL,jre,Jt],kE);var Cre={radiusAxis:{},angleAxis:{}},uL=Wr({name:"polarAxis",initialState:Cre,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:yfe,removeRadiusAxis:bfe,addAngleAxis:xfe,removeAngleAxis:_fe}=uL.actions,Ore=uL.reducer;function AR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Pre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pre(t){var e=Rre(t,"string");return typeof e=="symbol"?e:e+""}function Rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kre=(t,e)=>e,XE=re([lL,kre],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Mre=[],QE=(t,e,n)=>n?.length===0?Mre:n,dL=re([w0,XE,QE],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>TR(TR({},e.presentationProps),s.props))),i!=null)return i}}),Dre=re([dL,XE,QE],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=vt(r,e.nameKey,e.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:ol(l,e.dataKey),color:u,payload:r,type:e.legendType}})}),Lre=re([dL,XE,QE,Ln],(t,e,n,r)=>{if(!(e==null||t==null))return Vie({offset:r,pieSettings:e,displayedData:t,cells:n})}),I1={exports:{}},It={};var NR;function zre(){if(NR)return It;NR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),w=Symbol.for("react.client.reference");function T(S){if(typeof S=="object"&&S!==null){var A=S.$$typeof;switch(A){case t:switch(S=S.type,S){case n:case i:case r:case d:case m:case b:return S;default:switch(S=S&&S.$$typeof,S){case l:case u:case g:case p:return S;case s:return S;default:return A}}case e:return A}}}return It.ContextConsumer=s,It.ContextProvider=l,It.Element=t,It.ForwardRef=u,It.Fragment=n,It.Lazy=g,It.Memo=p,It.Portal=e,It.Profiler=i,It.StrictMode=r,It.Suspense=d,It.SuspenseList=m,It.isContextConsumer=function(S){return T(S)===s},It.isContextProvider=function(S){return T(S)===l},It.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},It.isForwardRef=function(S){return T(S)===u},It.isFragment=function(S){return T(S)===n},It.isLazy=function(S){return T(S)===g},It.isMemo=function(S){return T(S)===p},It.isPortal=function(S){return T(S)===e},It.isProfiler=function(S){return T(S)===i},It.isStrictMode=function(S){return T(S)===r},It.isSuspense=function(S){return T(S)===d},It.isSuspenseList=function(S){return T(S)===m},It.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===m||typeof S=="object"&&S!==null&&(S.$$typeof===g||S.$$typeof===p||S.$$typeof===l||S.$$typeof===s||S.$$typeof===u||S.$$typeof===w||S.getModuleId!==void 0)},It.typeOf=T,It}var jR;function Vre(){return jR||(jR=1,I1.exports=zre()),I1.exports}var Ure=Vre(),CR=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",OR=null,P1=null,fL=t=>{if(t===OR&&Array.isArray(P1))return P1;var e=[];return _.Children.forEach(t,n=>{Gt(n)||(Ure.isFragment(n)?e=e.concat(fL(n.props.children)):e.push(n))}),P1=e,OR=t,e};function ZE(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>CR(i)):r=[CR(e)],fL(t).forEach(i=>{var s=cc(i,"type.displayName")||cc(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var JE=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,R1={},IR;function Bre(){return IR||(IR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(R1)),R1}var k1,PR;function $re(){return PR||(PR=1,k1=Bre().isPlainObject),k1}var qre=$re();const Fre=Vs(qre);var RR,kR,MR,DR,LR;function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(null,arguments)}function wf(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var UR=(t,e,n,r,i)=>{var s=n-r,l;return l=an(RR||(RR=wf(["M ",",",""])),t,e),l+=an(kR||(kR=wf(["L ",",",""])),t+n,e),l+=an(MR||(MR=wf(["L ",",",""])),t+n-s/2,e+i),l+=an(DR||(DR=wf(["L ",",",""])),t+n-s/2-r,e+i),l+=an(LR||(LR=wf(["L ",","," Z"])),t,e),l},Yre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wre=t=>{var e=cn(t,Yre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:u}=e,{animationEasing:d,animationDuration:m,animationBegin:p,isUpdateAnimationActive:g}=e,b=_.useRef(null),[w,T]=_.useState(-1),S=_.useRef(i),A=_.useRef(s),I=_.useRef(l),L=_.useRef(n),k=_.useRef(r),B=ad(t,"trapezoid-");if(_.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var X=b.current.getTotalLength();X&&T(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var M=ut("recharts-trapezoid",u);if(!g)return _.createElement("g",null,_.createElement("path",pv({},wr(e),{className:M,d:UR(n,r,i,s,l)})));var q=S.current,j=A.current,E=I.current,O=L.current,R=k.current,D="0px ".concat(w===-1?1:w,"px"),V="".concat(w,"px 0px"),z=k5(["strokeDasharray"],m,d);return _.createElement(id,{animationId:B,key:B,canBegin:w>0,duration:m,easing:d,isActive:g,begin:p},X=>{var ce=gt(q,i,X),K=gt(j,s,X),Z=gt(E,l,X),he=gt(O,n,X),me=gt(R,r,X);b.current&&(S.current=ce,A.current=K,I.current=Z,L.current=he,k.current=me);var ee=X>0?{transition:z,strokeDasharray:V}:{strokeDasharray:D};return _.createElement("path",pv({},wr(e),{className:M,d:UR(he,me,ce,K,Z),ref:b,style:VR(VR({},ee),e.style)}))})},Xre=["option","shapeType","activeClassName"];function Qre(t,e){if(t==null)return{};var n,r,i=Zre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return(e=eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eie(t){var e=tie(t,"string");return typeof e=="symbol"?e:e+""}function tie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nie(t,e){return gv(gv({},e),t)}function rie(t,e){return t==="symbols"}function $R(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return _.createElement(z5,n);case"trapezoid":return _.createElement(Wre,n);case"sector":return _.createElement($5,n);case"symbols":if(rie(e))return _.createElement(SS,n);break;case"curve":return _.createElement(Tu,n);default:return null}}function iie(t){return _.isValidElement(t)?t.props:t}function eA(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Qre(t,Xre),s;if(_.isValidElement(e))s=_.cloneElement(e,gv(gv({},i),iie(e)));else if(typeof e=="function")s=e(i,i.index);else if(Fre(e)&&typeof e!="boolean"){var l=nie(e,i);s=_.createElement($R,{shapeType:n,elementProps:l})}else{var u=i;s=_.createElement($R,{shapeType:n,elementProps:u})}return i.isActive?_.createElement(ln,{className:r},s):s}var tA=(t,e,n)=>{var r=Bt();return(i,s)=>l=>{t?.(i,s,l),r(E6({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},nA=t=>{var e=Bt();return(n,r)=>i=>{t?.(n,r,i),e(fee())}},rA=(t,e,n)=>{var r=Bt();return(i,s)=>l=>{t?.(i,s,l),r(hee({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function V0(t){var{tooltipEntrySettings:e}=t,n=Bt(),r=Zn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(lee(e)):i.current!==e&&n(cee({prev:i.current,next:e})),i.current=e)},[e,n,r]),_.useLayoutEffect(()=>()=>{i.current&&(n(uee(i.current)),i.current=null)},[n]),null}function iA(t){var{legendPayload:e}=t,n=Bt(),r=Zn(),i=_.useRef(null);return _.useLayoutEffect(()=>{r||(i.current===null?n(O5(e)):i.current!==e&&n(I5({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(P5(i.current)),i.current=null)},[n]),null}function aie(t){var{legendPayload:e}=t,n=Bt(),r=Re(tt),i=_.useRef(null);return _.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(O5(e)):i.current!==e&&n(I5({prev:i.current,next:e})),i.current=e)},[n,r,e]),_.useLayoutEffect(()=>()=>{i.current&&(n(P5(i.current)),i.current=null)},[n]),null}var M1,sie=()=>{var[t]=_.useState(()=>Gf("uid-"));return t},oie=(M1=a9.useId)!==null&&M1!==void 0?M1:sie;function lie(t,e){var n=oie();return e||(t?"".concat(t,"-").concat(n):n)}var cie=_.createContext(void 0),U0=t=>{var{id:e,type:n,children:r}=t,i=lie("recharts-".concat(n),e);return _.createElement(cie.Provider,{value:i},r(i))},uie={cartesianItems:[],polarItems:[]},hL=Wr({name:"graphicalItems",initialState:uie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Qt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=ta(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Qt()},removeCartesianGraphicalItem:{reducer(t,e){var n=ta(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Qt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Qt()},removePolarGraphicalItem:{reducer(t,e){var n=ta(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Qt()}}}),{addCartesianGraphicalItem:die,replaceCartesianGraphicalItem:fie,removeCartesianGraphicalItem:hie,addPolarGraphicalItem:mie,removePolarGraphicalItem:pie}=hL.actions,gie=hL.reducer,vie=t=>{var e=Bt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(die(t)):n.current!==t&&e(fie({prev:n.current,next:t})),n.current=t},[e,t]),_.useLayoutEffect(()=>()=>{n.current&&(e(hie(n.current)),n.current=null)},[e]),null},aA=_.memo(vie);function yie(t){var e=Bt();return _.useLayoutEffect(()=>(e(mie(t)),()=>{e(pie(t))}),[e,t]),null}var bie=["key"],xie=["onMouseEnter","onClick","onMouseLeave"],_ie=["id"],wie=["id"];function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Sie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sie(t,e,n){return(e=Eie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eie(t){var e=Aie(t,"string");return typeof e=="symbol"?e:e+""}function Aie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(null,arguments)}function B0(t,e){if(t==null)return{};var n,r,i=Tie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nie(t){var e=_.useMemo(()=>ZE(t.children,Yh),[t.children]),n=Re(r=>Dre(r,t.id,e));return n==null?null:_.createElement(aie,{legendPayload:n})}var jie=_.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:u,hide:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:r.map(b=>b.tooltipPayload),positions:r.map(b=>b.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:ol(u,e),hide:d,type:m,color:l,unit:"",graphicalItemId:p}};return _.createElement(V0,{tooltipEntrySettings:g})}),Cie=(t,e)=>t>e?"start":t<e?"end":"middle",Oie=(t,e,n)=>xr(typeof e=="function"?e(t):e,n,n*.8),Iie=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,u=V5(s,l),d=i+xr(t.cx,s,s/2),m=r+xr(t.cy,l,l/2),p=xr(t.innerRadius,u,0),g=Oie(n,t.outerRadius,u),b=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:m,innerRadius:p,outerRadius:g,maxRadius:b}},Pie=(t,e)=>{var n=Qn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Rie(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var kie=(t,e)=>{if(_.isValidElement(t))return _.cloneElement(t,e);if(typeof t=="function")return t(e);var n=ut("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=B0(e,bie);return _.createElement(Tu,rl({},i,{type:"linear",className:n}))},Mie=(t,e,n)=>{if(_.isValidElement(t))return _.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),_.isValidElement(r)))return r;var i=ut("recharts-pie-label-text",Rie(t));return _.createElement(M0,rl({},e,{alignmentBaseline:"middle",className:i}),r)};function Die(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var u=Pr(n),d=oc(i),m=oc(s),p=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=e.map((b,w)=>{var T=(b.startAngle+b.endAngle)/2,S=On(b.cx,b.cy,b.outerRadius+p,T),A=sn(sn(sn(sn({},u),b),{},{stroke:"none"},d),{},{index:w,textAnchor:Cie(S.x,b.cx)},S),I=sn(sn(sn(sn({},u),b),{},{fill:"none",stroke:b.fill},m),{},{index:w,points:[On(b.cx,b.cy,b.outerRadius,T),S],key:"line"});return _.createElement(kr,{zIndex:vn.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},_.createElement(ln,null,s&&kie(s,I),Mie(i,A,vt(b,l))))});return _.createElement(ln,{className:"recharts-pie-labels"},g)}function Lie(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?_.createElement(D0,{label:i}):_.createElement(Die,{sectors:e,props:n,showLabels:r})}function zie(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:s,id:l}=t,u=Re(nl),d=Re(qE),m=Re(Zee),{onMouseEnter:p,onClick:g,onMouseLeave:b}=i,w=B0(i,xie),T=tA(p,i.dataKey,l),S=nA(b),A=rA(g,i.dataKey,l);return e==null||e.length===0?null:_.createElement(_.Fragment,null,e.map((I,L)=>{if(I?.startAngle===0&&I?.endAngle===0&&e.length!==1)return null;var k=m==null||m===l,B=String(L)===u&&(d==null||i.dataKey===d)&&k,M=u?r:null,q=n&&B?n:M,j=sn(sn({},I),{},{stroke:I.stroke,tabIndex:-1,[g5]:L,[v5]:l});return _.createElement(ln,rl({key:"sector-".concat(I?.startAngle,"-").concat(I?.endAngle,"-").concat(I.midAngle,"-").concat(L),tabIndex:-1,className:"recharts-pie-sector"},jh(w,I,L),{onMouseEnter:T(I,L),onMouseLeave:S(I,L),onClick:A(I,L)}),_.createElement(eA,rl({option:s??q,index:L,shapeType:"sector",isActive:B},j)))}))}function Vie(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:u,endAngle:d,dataKey:m,nameKey:p,tooltipType:g}=n,b=Math.abs(n.minAngle),w=Pie(u,d),T=Math.abs(w),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,A=r.filter(q=>vt(q,m,0)!==0).length,I=(T>=360?A:A-1)*S,L=T-A*b-I,k=r.reduce((q,j)=>{var E=vt(j,m,0);return q+(Ne(E)?E:0)},0),B;if(k>0){var M;B=r.map((q,j)=>{var E=vt(q,m,0),O=vt(q,p,j),R=Iie(n,s,q),D=(Ne(E)?E:0)/k,V,z=sn(sn({},q),i&&i[j]&&i[j].props);j?V=M.endAngle+Qn(w)*S*(E!==0?1:0):V=u;var X=V+Qn(w)*((E!==0?b:0)+D*L),ce=(V+X)/2,K=(R.innerRadius+R.outerRadius)/2,Z=[{name:O,value:E,payload:z,dataKey:m,type:g,graphicalItemId:n.id}],he=On(R.cx,R.cy,K,ce);return M=sn(sn(sn(sn({},n.presentationProps),{},{percent:D,cornerRadius:typeof l=="string"?parseFloat(l):l,name:O,tooltipPayload:Z,midAngle:ce,middleRadius:K,tooltipPosition:he},z),R),{},{value:E,dataKey:m,startAngle:V,endAngle:X,payload:z,paddingAngle:Qn(w)*S}),M})}return B}function Uie(t){var{showLabels:e,sectors:n,children:r}=t,i=_.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return _.createElement(xre,{value:e?i:void 0},r)}function Bie(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,activeShape:m,inactiveShape:p,onAnimationStart:g,onAnimationEnd:b}=e,w=ad(e,"recharts-pie-"),T=n.current,[S,A]=_.useState(!1),I=_.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),L=_.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return _.createElement(Uie,{showLabels:!S,sectors:i},_.createElement(id,{animationId:w,begin:l,duration:u,isActive:s,easing:d,onAnimationStart:L,onAnimationEnd:I,key:w},k=>{var B=[],M=i&&i[0],q=M?.startAngle;return i?.forEach((j,E)=>{var O=T&&T[E],R=E>0?cc(j,"paddingAngle",0):0;if(O){var D=gt(O.endAngle-O.startAngle,j.endAngle-j.startAngle,k),V=sn(sn({},j),{},{startAngle:q+R,endAngle:q+D+R});B.push(V),q=V.endAngle}else{var{endAngle:z,startAngle:X}=j,ce=gt(0,z-X,k),K=sn(sn({},j),{},{startAngle:q+R,endAngle:q+ce+R});B.push(K),q=K.endAngle}}),n.current=B,_.createElement(ln,null,_.createElement(zie,{sectors:B,activeShape:m,inactiveShape:p,allOtherPieProps:e,shape:e.shape,id:r}))}),_.createElement(Lie,{showLabels:!S,sectors:i,props:e}),e.children)}var $ie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:vn.area};function qie(t){var{id:e}=t,n=B0(t,_ie),{hide:r,className:i,rootTabIndex:s}=t,l=_.useMemo(()=>ZE(t.children,Yh),[t.children]),u=Re(p=>Lre(p,e,l)),d=_.useRef(null),m=ut("recharts-pie",i);return r||u==null?(d.current=null,_.createElement(ln,{tabIndex:s,className:m})):_.createElement(kr,{zIndex:t.zIndex},_.createElement(jie,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),_.createElement(ln,{tabIndex:s,className:m},_.createElement(Bie,{props:sn(sn({},n),{},{sectors:u}),previousSectorsRef:d,id:e})))}function mL(t){var e=cn(t,$ie),{id:n}=e,r=B0(e,wie),i=Pr(r);return _.createElement(U0,{id:n,type:"pie"},s=>_.createElement(_.Fragment,null,_.createElement(yie,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),_.createElement(Nie,rl({},r,{id:s})),_.createElement(qie,rl({},r,{id:s}))))}mL.displayName="Pie";var Fie=["points"];function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){Hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Gie(t,"string");return typeof e=="symbol"?e:e+""}function Gie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(null,arguments)}function Yie(t,e){if(t==null)return{};var n,r,i=Wie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xie(t){var{option:e,dotProps:n,className:r}=t;if(_.isValidElement(e))return _.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ut(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,u=Yie(s,Fie);return _.createElement(oL,vv({},u,{className:i}))}function Qie(t,e){return t==null?!1:e?!0:t.length===1}function pL(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:u,clipPathId:d,zIndex:m=vn.scatter}=t;if(!Qie(e,n))return null;var p=JE(n),g=pF(n),b=e.map((T,S)=>{var A,I,L=D1(D1(D1({r:3},l),g),{},{index:S,cx:(A=T.x)!==null&&A!==void 0?A:void 0,cy:(I=T.y)!==null&&I!==void 0?I:void 0,dataKey:s,value:T.value,payload:T.payload,points:e});return _.createElement(Xie,{key:"dot-".concat(S),option:n,dotProps:L,className:i})}),w={};return u&&d!=null&&(w.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),_.createElement(kr,{zIndex:m},_.createElement(ln,vv({className:r},w),b))}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return(e=Jie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jie(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gL=0,tae={xAxis:{},yAxis:{},zAxis:{}},vL=Wr({name:"cartesianAxis",initialState:tae,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Qt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Qt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Qt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Qt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Qt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Qt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Qt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Qt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Qt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=KR(KR({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:nae,replaceXAxis:rae,removeXAxis:iae,addYAxis:aae,replaceYAxis:sae,removeYAxis:oae,addZAxis:wfe,replaceZAxis:Sfe,removeZAxis:Efe,updateYAxisWidth:lae}=vL.actions,cae=vL.reducer,uae=re([Ln],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),dae=re([uae,$s,qs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),$0=()=>Re(dae),fae=()=>Re(rte);function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){hae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e,n){return(e=mae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mae(t){var e=pae(t,"string");return typeof e=="symbol"?e:e+""}function pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gae=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},d=L1(L1(L1({},u),oc(i)),ES(i)),m;return _.isValidElement(i)?m=_.cloneElement(i,d):typeof i=="function"?m=i(d):m=_.createElement(oL,d),_.createElement(ln,{className:"recharts-active-dot",clipPath:l},m)};function ow(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:l=vn.activeDot}=t,u=Re(nl),d=fae();if(e==null||d==null)return null;var m=e.find(p=>d.includes(p.payload));return Gt(m)?null:_.createElement(kr,{zIndex:l},_.createElement(gae,{point:m,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var YR=(t,e,n)=>{var r=n??t;if(!Gt(r))return xr(r,e,0)},vae=(t,e,n)=>{var r={},i=t.filter(T0),s=t.filter(m=>m.stackId==null),l=i.reduce((m,p)=>(m[p.stackId]||(m[p.stackId]=[]),m[p.stackId].push(p),m),r),u=Object.entries(l).map(m=>{var[p,g]=m,b=g.map(T=>T.dataKey),w=YR(e,n,g[0].barSize);return{stackId:p,dataKeys:b,barSize:w}}),d=s.map(m=>{var p=[m.dataKey].filter(b=>b!=null),g=YR(e,n,m.barSize);return{stackId:void 0,dataKeys:p,barSize:g}});return[...u,...d]};function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=xae(t,"string");return typeof e=="symbol"?e:e+""}function xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ae(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=xr(t,n,0,!0),u,d=[];if(Lt(r[0].barSize)){var m=!1,p=n/s,g=r.reduce((I,L)=>I+(L.barSize||0),0);g+=(s-1)*l,g>=n&&(g-=(s-1)*l,l=0),g>=n&&p>0&&(m=!0,p*=.9,g=s*p);var b=(n-g)/2>>0,w={offset:b-l,size:0};u=r.reduce((I,L)=>{var k,B={stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:w.offset+w.size+l,size:m?p:(k=L.barSize)!==null&&k!==void 0?k:0}},M=[...I,B];return w=M[M.length-1].position,M},d)}else{var T=xr(e,n,0,!0);n-2*T-(s-1)*l<=0&&(l=0);var S=(n-2*T-(s-1)*l)/s;S>1&&(S>>=0);var A=Lt(i)?Math.min(S,i):S;u=r.reduce((I,L,k)=>[...I,{stackId:L.stackId,dataKeys:L.dataKeys,position:{offset:T+(S+l)*k+(S-A)/2,size:A}}],d)}return u}}var wae=(t,e,n,r,i,s,l)=>{var u=Gt(l)?e:l,d=_ae(n,r,i!==s?i:s,t,u);return i!==s&&d!=null&&(d=d.map(m=>Bp(Bp({},m),{},{position:Bp(Bp({},m.position),{},{offset:m.position.offset-i/2})}))),d},Sae=(t,e)=>{var n=A0(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}};function Eae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Lt(t.zIndex)?t.zIndex:e}var yL=t=>{var{chartData:e}=t,n=Bt(),r=Zn();return _.useEffect(()=>r?()=>{}:(n(nR(e)),()=>{n(nR(void 0))}),[e,n,r]),null},XR={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bL=Wr({name:"brush",initialState:XR,reducers:{setBrushSettings(t,e){return e.payload==null?XR:e.payload}}}),{setBrushSettings:Afe}=bL.actions,Aae=bL.reducer;function Tae(t,e,n){return(e=Nae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nae(t){var e=jae(t,"string");return typeof e=="symbol"?e:e+""}function jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class sA{static create(e){return new sA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Tae(sA,"EPS",1e-4);function Cae(t){return(t%180+180)%180}var Oae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Cae(i),l=s*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},Iae={dots:[],areas:[],lines:[]},xL=Wr({name:"referenceElements",initialState:Iae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ta(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ta(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ta(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Tfe,removeDot:Nfe,addArea:jfe,removeArea:Cfe,addLine:Ofe,removeLine:Ife}=xL.actions,Pae=xL.reducer,Rae=_.createContext(void 0),kae=t=>{var{children:e}=t,[n]=_.useState("".concat(Gf("recharts"),"-clip")),r=$0();if(r==null)return null;var{x:i,y:s,width:l,height:u}=r;return _.createElement(Rae.Provider,{value:n},_.createElement("defs",null,_.createElement("clipPath",{id:n},_.createElement("rect",{x:i,y:s,height:u,width:l}))),e)};function _L(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Mae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Oae(r,n)}function Dae(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:u}=t;return e===1?{start:r?i:s,end:r?i+l:s+u}:{start:r?i+l:s+u,end:r?i:s}}function oh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Lae(t,e){return _L(t,e+1)}function zae(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:u}=e,d=0,m=1,p=l,g=function(){var T=r?.[d];if(T===void 0)return{v:_L(r,m)};var S=d,A,I=()=>(A===void 0&&(A=n(T,S)),A),L=T.coordinate,k=d===0||oh(t,L,I,p,u);k||(d=0,p=l,m+=1),k&&(p=L+t*(I()/2+i),d+=m)},b;m<=s.length;)if(b=g(),b)return b.v;return[]}function Vae(t,e,n,r,i){var s=(r||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:d}=e,m=1;m<=l;m++){for(var p=(l-1)%m,g=u,b=!0,w=function(){var L=r[T],k=T,B,M=()=>(B===void 0&&(B=n(L,k)),B),q=L.coordinate,j=T===p||oh(t,q,M,g,d);if(!j)return b=!1,1;j&&(g=q+t*(M()/2+i))},T=p;T<l&&!w();T+=m);if(b){for(var S=[],A=p;A<l;A+=m)S.push(r[A]);return S}}return[]}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return(e=Bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:u}=e,{end:d}=e,m=function(b){var w=s[b],T,S=()=>(T===void 0&&(T=n(w,b)),T);if(b===l-1){var A=t*(w.coordinate+t*S()/2-d);s[b]=w=gr(gr({},w),{},{tickCoord:A>0?w.coordinate-A*t:w.coordinate})}else s[b]=w=gr(gr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var I=oh(t,w.tickCoord,S,u,d);I&&(d=w.tickCoord-t*(S()/2+i),s[b]=gr(gr({},w),{},{isShow:!0}))}},p=l-1;p>=0;p--)m(p);return s}function Fae(t,e,n,r,i,s){var l=(r||[]).slice(),u=l.length,{start:d,end:m}=e;if(s){var p=r[u-1],g=n(p,u-1),b=t*(p.coordinate+t*g/2-m);if(l[u-1]=p=gr(gr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate}),p.tickCoord!=null){var w=oh(t,p.tickCoord,()=>g,d,m);w&&(m=p.tickCoord-t*(g/2+i),l[u-1]=gr(gr({},p),{},{isShow:!0}))}}for(var T=s?u-1:u,S=function(L){var k=l[L],B,M=()=>(B===void 0&&(B=n(k,L)),B);if(L===0){var q=t*(k.coordinate-t*M()/2-d);l[L]=k=gr(gr({},k),{},{tickCoord:q<0?k.coordinate-q*t:k.coordinate})}else l[L]=k=gr(gr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var j=oh(t,k.tickCoord,M,d,m);j&&(d=k.tickCoord+t*(M()/2+i),l[L]=gr(gr({},k),{},{isShow:!0}))}},A=0;A<T;A++)S(A);return l}function oA(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:u,interval:d,tickFormatter:m,unit:p,angle:g}=t;if(!i||!i.length||!r)return[];if(Ne(d)||Rh.isSsr){var b;return(b=Lae(i,Ne(d)?d:0))!==null&&b!==void 0?b:[]}var w=[],T=u==="top"||u==="bottom"?"width":"height",S=p&&T==="width"?Mf(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(k,B)=>{var M=typeof m=="function"?m(k.value,B):k.value;return T==="width"?Mae(Mf(M,{fontSize:e,letterSpacing:n}),S,g):Mf(M,{fontSize:e,letterSpacing:n})[T]},I=i.length>=2?Qn(i[1].coordinate-i[0].coordinate):1,L=Dae(s,I,T);return d==="equidistantPreserveStart"?zae(I,L,A,i,l):d==="equidistantPreserveEnd"?Vae(I,L,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?w=Fae(I,L,A,i,l,d==="preserveStartEnd"):w=qae(I,L,A,i,l),w.filter(k=>k.isShow))}var Hae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(p=>{if(p){var g=p.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+s,m=l+d+u+(n?r:0);return Math.round(m)}return 0},Kae=["axisLine","width","height","className","hide","ticks","axisType"];function Gae(t,e){if(t==null)return{};var n,r,i=Yae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(null,arguments)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){Wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wae(t,e,n){return(e=Xae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Qae(t,"string");return typeof e=="symbol"?e:e+""}function Qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Es={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:vn.axis};function Zae(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:u,otherSvgProps:d}=t;if(!u)return null;var m=Nn(Nn(Nn({},d),Pr(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!l||s==="bottom"&&l);m=Nn(Nn({},m),{},{x1:e,y1:n+p*i,x2:e+r,y2:n+p*i})}else{var g=+(s==="left"&&!l||s==="right"&&l);m=Nn(Nn({},m),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+i})}return _.createElement("line",mc({},m,{className:ut("recharts-cartesian-axis-line",cc(u,"className"))}))}function Jae(t,e,n,r,i,s,l,u,d){var m,p,g,b,w,T,S=u?-1:1,A=t.tickSize||l,I=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":m=p=t.coordinate,b=n+ +!u*i,g=b-S*A,T=g-S*d,w=I;break;case"left":g=b=t.coordinate,p=e+ +!u*r,m=p-S*A,w=m-S*d,T=I;break;case"right":g=b=t.coordinate,p=e+ +u*r,m=p+S*A,w=m+S*d,T=I;break;default:m=p=t.coordinate,b=n+ +u*i,g=b+S*A,T=g+S*d,w=I;break}return{line:{x1:m,y1:g,x2:p,y2:b},tick:{x:w,y:T}}}function ese(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function tse(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function nse(t){var{option:e,tickProps:n,value:r}=t,i,s=ut(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(e))i=_.cloneElement(e,Nn(Nn({},n),{},{className:s}));else if(typeof e=="function")i=e(Nn(Nn({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=ut(l,e?.className)),i=_.createElement(M0,mc({},n,{className:l}),r)}return i}var rse=_.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:u,padding:d,tickTextProps:m,orientation:p,mirror:g,x:b,y:w,width:T,height:S,tickSize:A,tickMargin:I,fontSize:L,letterSpacing:k,getTicksConfig:B,events:M,axisType:q}=t,j=oA(Nn(Nn({},B),{},{ticks:n}),L,k),E=ese(p,g),O=tse(p,g),R=Pr(B),D=oc(r),V={};typeof i=="object"&&(V=i);var z=Nn(Nn({},R),{},{fill:"none"},V),X=j.map(Z=>Nn({entry:Z},Jae(Z,b,w,T,S,p,A,g,I))),ce=X.map(Z=>{var{entry:he,line:me}=Z;return _.createElement(ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&_.createElement("line",mc({},z,me,{className:ut("recharts-cartesian-axis-tick-line",cc(i,"className"))})))}),K=X.map((Z,he)=>{var{entry:me,tick:ee}=Z,$=Nn(Nn(Nn(Nn({textAnchor:E,verticalAnchor:O},R),{},{stroke:"none",fill:s},D),ee),{},{index:he,payload:me,visibleTicksCount:j.length,tickFormatter:l,padding:d},m);return _.createElement(ln,mc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(me.value,"-").concat(me.coordinate,"-").concat(me.tickCoord)},jh(M,me,he)),r&&_.createElement(nse,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(me.value,he):me.value).concat(u||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(q,"-ticks")},K.length>0&&_.createElement(kr,{zIndex:vn.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(q,"-tick-labels"),ref:e},K)),ce.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(q,"-tick-lines")},ce))}),ise=_.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:u,axisType:d}=t,m=Gae(t,Kae),[p,g]=_.useState(""),[b,w]=_.useState(""),T=_.useRef(null);_.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return Hae({ticks:T.current,label:(A=t.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=_.useCallback(A=>{if(A){var I=A.getElementsByClassName("recharts-cartesian-axis-tick-value");T.current=I;var L=I[0];if(L){var k=window.getComputedStyle(L),B=k.fontSize,M=k.letterSpacing;(B!==p||M!==b)&&(g(B),w(M))}}},[p,b]);return l||r!=null&&r<=0||i!=null&&i<=0?null:_.createElement(kr,{zIndex:t.zIndex},_.createElement(ln,{className:ut("recharts-cartesian-axis",s)},_.createElement(Zae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Pr(t)}),_.createElement(rse,{ref:S,axisType:d,events:m,fontSize:p,getTicksConfig:t,height:t.height,letterSpacing:b,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),_.createElement(Jne,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},_.createElement(cre,{label:t.label,labelRef:t.labelRef}),t.children)))}),lA=_.forwardRef((t,e)=>{var n=cn(t,Es);return _.createElement(ise,mc({},n,{ref:e}))});lA.displayName="CartesianAxis";var ase=["x1","y1","x2","y2","key"],sse=["offset"],ose=["xAxisId","yAxisId"],lse=["xAxisId","yAxisId"];function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return(e=use(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function use(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(null,arguments)}function yv(t,e){if(t==null)return{};var n,r,i=fse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hse=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:u}=t;return _.createElement("rect",{x:r,y:i,ry:u,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wL(t){var{option:e,lineItemProps:n}=t,r;if(_.isValidElement(e))r=_.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:u,y2:d,key:m}=n,p=yv(n,ase),g=(i=Pr(p))!==null&&i!==void 0?i:{},{offset:b}=g,w=yv(g,sse);r=_.createElement("line",Gl({},w,{x1:s,y1:l,x2:u,y2:d,fill:"none",key:m}))}return r}function mse(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=yv(t,ose),d=i.map((m,p)=>{var g=br(br({},u),{},{x1:e,y1:m,x2:e+n,y2:m,key:"line-".concat(p),index:p});return _.createElement(wL,{key:"line-".concat(p),option:r,lineItemProps:g})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function pse(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,u=yv(t,lse),d=i.map((m,p)=>{var g=br(br({},u),{},{x1:m,y1:e,x2:m,y2:e+n,key:"line-".concat(p),index:p});return _.createElement(wL,{option:r,lineItemProps:g,key:"line-".concat(p)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function gse(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:u,horizontal:d=!0}=t;if(!d||!e||!e.length||u==null)return null;var m=u.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=!m[b+1],T=w?i+l-g:m[b+1]-g;if(T<=0)return null;var S=b%e.length;return _.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:T,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function vse(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:u,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var m=d.map(g=>Math.round(g+i-i)).sort((g,b)=>g-b);i!==m[0]&&m.unshift(0);var p=m.map((g,b)=>{var w=!m[b+1],T=w?i+l-g:m[b+1]-g;if(T<=0)return null;var S=b%n.length;return _.createElement("rect",{key:"react-".concat(b),x:g,y:s,width:T,height:u,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var yse=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return f5(oA(br(br(br({},Es),n),{},{ticks:h5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},bse=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return f5(oA(br(br(br({},Es),n),{},{ticks:h5(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},xse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:vn.grid};function q0(t){var e=MS(),n=DS(),r=w5(),i=br(br({},cn(t,xse)),{},{x:Ne(t.x)?t.x:r.left,y:Ne(t.y)?t.y:r.top,width:Ne(t.width)?t.width:r.width,height:Ne(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:u,y:d,width:m,height:p,syncWithTicks:g,horizontalValues:b,verticalValues:w}=i,T=Zn(),S=Re(O=>FP(O,"xAxis",s,T)),A=Re(O=>FP(O,"yAxis",l,T));if(!za(m)||!za(p)||!Ne(u)||!Ne(d))return null;var I=i.verticalCoordinatesGenerator||yse,L=i.horizontalCoordinatesGenerator||bse,{horizontalPoints:k,verticalPoints:B}=i;if((!k||!k.length)&&typeof L=="function"){var M=b&&b.length,q=L({yAxis:A?br(br({},A),{},{ticks:M?b:A.ticks}):void 0,width:e??m,height:n??p,offset:r},M?!0:g);Hg(Array.isArray(q),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof q,"]")),Array.isArray(q)&&(k=q)}if((!B||!B.length)&&typeof I=="function"){var j=w&&w.length,E=I({xAxis:S?br(br({},S),{},{ticks:j?w:S.ticks}):void 0,width:e??m,height:n??p,offset:r},j?!0:g);Hg(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(B=E)}return _.createElement(kr,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(hse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(gse,Gl({},i,{horizontalPoints:k})),_.createElement(vse,Gl({},i,{verticalPoints:B})),_.createElement(mse,Gl({},i,{offset:r,horizontalPoints:k,xAxis:S,yAxis:A})),_.createElement(pse,Gl({},i,{offset:r,verticalPoints:B,xAxis:S,yAxis:A}))))}q0.displayName="CartesianGrid";var _se={},SL=Wr({name:"errorBars",initialState:_se,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Pfe,replaceErrorBar:Rfe,removeErrorBar:kfe}=SL.actions,wse=SL.reducer,Sse=["children"];function Ese(t,e){if(t==null)return{};var n,r,i=Ase(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ase(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Nse=_.createContext(Tse);function EL(t){var{children:e}=t,n=Ese(t,Sse);return _.createElement(Nse.Provider,{value:n},e)}function F0(t,e){var n,r,i=Re(m=>Ks(m,t)),s=Re(m=>Gs(m,e)),l=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Kn.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function cA(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=$0(),{needClipX:s,needClipY:l,needClip:u}=F0(e,n);if(!u||!i)return null;var{x:d,y:m,width:p,height:g}=i;return _.createElement("clipPath",{id:"clipPath-".concat(r)},_.createElement("rect",{x:s?d:d-p/2,y:l?m:m-g/2,width:s?p:p*2,height:l?g:g*2}))}var AL=(t,e,n,r)=>Ba(t,"xAxis",e,r),TL=(t,e,n,r)=>Ua(t,"xAxis",e,r),NL=(t,e,n,r)=>Ba(t,"yAxis",n,r),jL=(t,e,n,r)=>Ua(t,"yAxis",n,r),jse=re([tt,AL,NL,TL,jL],(t,e,n,r,i)=>$a(t,"xAxis")?el(e,r,!1):el(n,i,!1)),Cse=(t,e,n,r,i)=>i;function Ose(t){return t.type==="line"}var Ise=re([Bh,Cse],(t,e)=>t.filter(Ose).find(n=>n.id===e)),Pse=re([tt,AL,NL,TL,jL,Ise,jse,lE],(t,e,n,r,i,s,l,u)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:p}=u;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:g,data:b}=s,w;if(b!=null&&b.length>0?w=b:w=d?.slice(m,p+1),w!=null)return yoe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:w})}});function CL(t){var e=oc(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var z1={exports:{}},V1={};var ek;function Rse(){if(ek)return V1;ek=1;var t=Yu();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,u=t.useDebugValue;return V1.useSyncExternalStoreWithSelector=function(d,m,p,g,b){var w=i(null);if(w.current===null){var T={hasValue:!1,value:null};w.current=T}else T=w.current;w=l(function(){function A(M){if(!I){if(I=!0,L=M,M=g(M),b!==void 0&&T.hasValue){var q=T.value;if(b(q,M))return k=q}return k=M}if(q=k,n(L,M))return q;var j=g(M);return b!==void 0&&b(q,j)?(L=M,q):(L=M,k=j)}var I=!1,L,k,B=p===void 0?null:p;return[function(){return A(m())},B===null?void 0:function(){return A(B())}]},[m,p,g,b]);var S=r(d,w[0],w[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),u(S),S},V1}var tk;function kse(){return tk||(tk=1,z1.exports=Rse()),z1.exports}kse();function Mse(t){t()}function Dse(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Mse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var nk={notify(){},get:()=>[]};function Lse(t,e){let n,r=nk,i=0,s=!1;function l(S){p();const A=r.subscribe(S);let I=!1;return()=>{I||(I=!0,A(),g())}}function u(){r.notify()}function d(){T.onStateChange&&T.onStateChange()}function m(){return s}function p(){i++,n||(n=t.subscribe(d),r=Dse())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=nk)}function b(){s||(s=!0,p())}function w(){s&&(s=!1,g())}const T={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:m,trySubscribe:b,tryUnsubscribe:w,getListeners:()=>r};return T}var zse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vse=zse(),Use=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bse=Use(),$se=()=>Vse||Bse?_.useLayoutEffect:_.useEffect,qse=$se();function rk(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Fse(t,e){if(rk(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!rk(t[n[i]],e[n[i]]))return!1;return!0}var Hse=Symbol.for("react-redux-context"),Kse=typeof globalThis<"u"?globalThis:{};function Gse(){if(!_.createContext)return{};const t=Kse[Hse]??=new Map;let e=t.get(_.createContext);return e||(e=_.createContext(null),t.set(_.createContext,e)),e}var Yse=Gse();function Wse(t){const{children:e,context:n,serverState:r,store:i}=t,s=_.useMemo(()=>{const d=Lse(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=_.useMemo(()=>i.getState(),[i]);qse(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const u=n||Yse;return _.createElement(u.Provider,{value:s},e)}var Xse=Wse,Qse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Zse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Wh(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Qse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Fse(t[r],e[r]))return!1}else if(!Zse(t[r],e[r]))return!1;return!0}var Jse=["id"],eoe=["type","layout","connectNulls","needClip","shape"],toe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(null,arguments)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){noe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function noe(t,e,n){return(e=roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function roe(t){var e=ioe(t,"string");return typeof e=="symbol"?e:e+""}function ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uA(t,e){if(t==null)return{};var n,r,i=aoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var soe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ol(n,e),payload:t}]},ooe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:u,type:m,color:r,unit:d,graphicalItemId:p}};return _.createElement(V0,{tooltipEntrySettings:g})}),OL=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function loe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var coe=(t,e,n)=>{var r=n.reduce((g,b)=>g+b);if(!r)return OL(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,u=[],d=0,m=0;d<n.length;m+=n[d],++d)if(m+n[d]>s){u=[...n.slice(0,d),s-m];break}var p=u.length%2===0?[0,l]:[l];return[...loe(n,i),...u,...p].map(g=>"".concat(g,"px")).join(", ")};function uoe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:u}=r,d=uA(r,Jse),m=Pr(d);return _.createElement(pL,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:m,needClip:l,clipPathId:e})}function doe(t){var{showLabels:e,children:n,points:r}=t,i=_.useMemo(()=>r?.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ta(Ta({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return _.createElement(WE,{value:e?i:void 0},n)}function ak(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:u,connectNulls:d,needClip:m,shape:p}=s,g=uA(s,eoe),b=Ta(Ta({},wr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return _.createElement(_.Fragment,null,r?.length>1&&_.createElement(eA,lh({shapeType:"curve",option:p},b,{pathRef:n})),_.createElement(uoe,{points:r,clipPathId:e,props:s}))}function foe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function hoe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,animateNewValues:b,width:w,height:T,onAnimationEnd:S,onAnimationStart:A}=n,I=i.current,L=ad(l,"recharts-line-"),k=_.useRef(L),[B,M]=_.useState(!1),q=!B,j=_.useCallback(()=>{typeof S=="function"&&S(),M(!1)},[S]),E=_.useCallback(()=>{typeof A=="function"&&A(),M(!0)},[A]),O=foe(r.current),R=_.useRef(0);k.current!==L&&(R.current=s.current,k.current=L);var D=R.current;return _.createElement(doe,{points:l,showLabels:q},n.children,_.createElement(id,{animationId:L,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:j,onAnimationStart:E,key:L},V=>{var z=gt(D,O+D,V),X=Math.min(z,O),ce;if(d)if(u){var K="".concat(u).split(/[,\s]+/gim).map(me=>parseFloat(me));ce=coe(X,O,K)}else ce=OL(O,X);else ce=u==null?void 0:String(u);if(V>0&&O>0&&(i.current=l,s.current=Math.max(s.current,X)),I){var Z=I.length/l.length,he=V===1?l:l.map((me,ee)=>{var $=Math.floor(ee*Z);if(I[$]){var Y=I[$];return Ta(Ta({},me),{},{x:gt(Y.x,me.x,V),y:gt(Y.y,me.y,V)})}return b?Ta(Ta({},me),{},{x:gt(w*2,me.x,V),y:gt(T/2,me.y,V)}):Ta(Ta({},me),{},{x:me.x,y:me.y})});return i.current=he,_.createElement(ak,{props:n,points:he,clipPathId:e,pathRef:r,strokeDasharray:ce})}return _.createElement(ak,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:ce})}),_.createElement(D0,{label:n.label}))}function moe(t){var{clipPathId:e,props:n}=t,r=_.useRef(null),i=_.useRef(0),s=_.useRef(null);return _.createElement(hoe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var poe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:vt(t.payload,e)}};class goe extends _.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:u,left:d,width:m,height:p,id:g,needClip:b,zIndex:w}=this.props;if(e)return null;var T=ut("recharts-line",i),S=g,{r:A,strokeWidth:I}=CL(n),L=JE(n),k=A*2+I,B=b?"url(#clipPath-".concat(L?"":"dots-").concat(S,")"):void 0;return _.createElement(kr,{zIndex:w},_.createElement(ln,{className:T},b&&_.createElement("defs",null,_.createElement(cA,{clipPathId:S,xAxisId:s,yAxisId:l}),!L&&_.createElement("clipPath",{id:"clipPath-dots-".concat(S)},_.createElement("rect",{x:d-k/2,y:u-k/2,width:m+k,height:p+k}))),_.createElement(EL,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:poe,errorBarOffset:0},_.createElement(moe,{props:this.props,clipPathId:S}))),_.createElement(ow,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:B}))}}var IL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:vn.line,type:"linear"};function voe(t){var e=cn(t,IL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,hide:m,isAnimationActive:p,label:g,legendType:b,xAxisId:w,yAxisId:T,id:S}=e,A=uA(e,toe),{needClip:I}=F0(w,T),L=$0(),k=ll(),B=Zn(),M=Re(R=>Pse(R,w,T,B,S));if(k!=="horizontal"&&k!=="vertical"||M==null||L==null)return null;var{height:q,width:j,x:E,y:O}=L;return _.createElement(goe,lh({},A,{id:S,connectNulls:u,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:m,label:g,legendType:b,xAxisId:w,yAxisId:T,points:M,layout:k,height:q,width:j,left:E,top:O,needClip:I}))}function yoe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:d}=t;return d.map((m,p)=>{var g=vt(m,l);if(e==="horizontal"){var b=Fg({axis:n,ticks:i,bandSize:u,entry:m,index:p}),w=Gt(g)?null:r.scale(g);return{x:b,y:w,value:g,payload:m}}var T=Gt(g)?null:n.scale(g),S=Fg({axis:r,ticks:s,bandSize:u,entry:m,index:p});return T==null||S==null?null:{x:T,y:S,value:g,payload:m}}).filter(Boolean)}function boe(t){var e=cn(t,IL),n=Zn();return _.createElement(U0,{id:e.id,type:"line"},r=>_.createElement(_.Fragment,null,_.createElement(iA,{legendPayload:soe(e)}),_.createElement(ooe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(aA,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),_.createElement(voe,lh({},e,{id:r}))))}var Fu=_.memo(boe,Wh);Fu.displayName="Line";function qa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:gL}function Fa(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:gL}var PL=(t,e,n)=>Ba(t,"xAxis",qa(t,e),n),RL=(t,e,n)=>Ua(t,"xAxis",qa(t,e),n),kL=(t,e,n)=>Ba(t,"yAxis",Fa(t,e),n),ML=(t,e,n)=>Ua(t,"yAxis",Fa(t,e),n),xoe=re([tt,PL,kL,RL,ML],(t,e,n,r,i)=>$a(t,"xAxis")?el(e,r,!1):el(n,i,!1)),_oe=(t,e)=>e,DL=re([Bh,_oe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),LL=t=>{var e=tt(t),n=$a(e,"xAxis");return n?"yAxis":"xAxis"},woe=(t,e)=>{var n=LL(t);return n==="yAxis"?Fa(t,e):qa(t,e)},Soe=(t,e,n)=>dv(t,LL(t),woe(t,e),n),Eoe=re([DL,Soe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=A0(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,l=s?.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),Aoe=re([tt,PL,kL,RL,ML,Eoe,E3,xoe,DL,tJ],(t,e,n,r,i,s,l,u,d,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:b}=l;if(!(d==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:w}=d,T;if(w&&w.length>0?T=w:T=p?.slice(g,b+1),T!=null)return Foe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:d,stackedData:s,displayedData:T,chartBaseValue:m,bandSize:u})}}),Toe=["id"],Noe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(null,arguments)}function zL(t,e){if(t==null)return{};var n,r,i=joe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Ooe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bv(t,e){return t&&t!=="none"?t:e}var Poe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:l}=t;return[{inactive:l,dataKey:e,type:s,color:bv(r,i),value:ol(n,e),payload:t}]},Roe=_.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:u,unit:d,tooltipType:m,id:p}=t,g={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:ol(l,e),hide:u,type:m,color:bv(r,s),unit:d,graphicalItemId:p}};return _.createElement(V0,{tooltipEntrySettings:g})});function koe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:l}=r,u=Pr(r);return _.createElement(pL,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:e})}function Moe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var l,u,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xu(xu({},d),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return _.createElement(WE,{value:e?i:void 0},n)}function ok(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:l,type:u,stroke:d,connectNulls:m,isRange:p}=s,{id:g}=s,b=zL(s,Toe),w=Pr(b),T=wr(b);return _.createElement(_.Fragment,null,e?.length>1&&_.createElement(ln,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},_.createElement(Tu,Jl({},T,{id:g,points:e,connectNulls:m,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&_.createElement(Tu,Jl({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:e})),d!=="none"&&p&&_.createElement(Tu,Jl({},w,{className:"recharts-area-curve",layout:l,type:u,connectNulls:m,fill:"none",points:n}))),_.createElement(koe,{points:e,props:b,clipPathId:i}))}function Doe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.y,d=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Lt(u)||!Lt(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.x||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.x||0),p)),Ne(p)?_.createElement("rect",{x:0,y:u<d?u:u-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}function Loe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:l}=t,u=(e=s[0])===null||e===void 0?void 0:e.x,d=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Lt(u)||!Lt(d))return null;var m=r*Math.abs(u-d),p=Math.max(...s.map(g=>g.y||0));return Ne(i)?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(...i.map(g=>g.y||0),p)),Ne(p)?_.createElement("rect",{x:u<d?u:u-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function zoe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?_.createElement(Doe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):_.createElement(Loe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Voe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:l,baseLine:u,isAnimationActive:d,animationBegin:m,animationDuration:p,animationEasing:g,onAnimationStart:b,onAnimationEnd:w}=r,T=_.useMemo(()=>({points:l,baseLine:u}),[l,u]),S=ad(T,"recharts-area-"),A=yY(),[I,L]=_.useState(!1),k=!I,B=_.useCallback(()=>{typeof w=="function"&&w(),L(!1)},[w]),M=_.useCallback(()=>{typeof b=="function"&&b(),L(!0)},[b]);if(A==null)return null;var q=i.current,j=s.current;return _.createElement(Moe,{showLabels:k,points:l},r.children,_.createElement(id,{animationId:S,begin:m,duration:p,isActive:d,easing:g,onAnimationEnd:B,onAnimationStart:M,key:S},E=>{if(q){var O=q.length/l.length,R=E===1?l:l.map((V,z)=>{var X=Math.floor(z*O);if(q[X]){var ce=q[X];return xu(xu({},V),{},{x:gt(ce.x,V.x,E),y:gt(ce.y,V.y,E)})}return V}),D;return Ne(u)?D=gt(j,u,E):Gt(u)||Mi(u)?D=gt(j,0,E):D=u.map((V,z)=>{var X=Math.floor(z*O);if(Array.isArray(j)&&j[X]){var ce=j[X];return xu(xu({},V),{},{x:gt(ce.x,V.x,E),y:gt(ce.y,V.y,E)})}return V}),E>0&&(i.current=R,s.current=D),_.createElement(ok,{points:R,baseLine:D,needClip:e,clipPathId:n,props:r})}return E>0&&(i.current=l,s.current=u),_.createElement(ln,null,d&&_.createElement("defs",null,_.createElement("clipPath",{id:"animationClipPath-".concat(n)},_.createElement(zoe,{alpha:E,points:l,baseLine:u,layout:A,strokeWidth:r.strokeWidth}))),_.createElement(ln,{clipPath:"url(#animationClipPath-".concat(n,")")},_.createElement(ok,{points:l,baseLine:u,needClip:e,clipPathId:n,props:r})))}),_.createElement(D0,{label:r.label}))}function Uoe(t){var{needClip:e,clipPathId:n,props:r}=t,i=_.useRef(null),s=_.useRef();return _.createElement(Voe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Boe extends _.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:l,needClip:u,xAxisId:d,yAxisId:m,width:p,height:g,id:b,baseLine:w,zIndex:T}=this.props;if(e)return null;var S=ut("recharts-area",i),A=b,{r:I,strokeWidth:L}=CL(n),k=JE(n),B=I*2+L,M=u?"url(#clipPath-".concat(k?"":"dots-").concat(A,")"):void 0;return _.createElement(kr,{zIndex:T},_.createElement(ln,{className:S},u&&_.createElement("defs",null,_.createElement(cA,{clipPathId:A,xAxisId:d,yAxisId:m}),!k&&_.createElement("clipPath",{id:"clipPath-dots-".concat(A)},_.createElement("rect",{x:l-B/2,y:s-B/2,width:p+B,height:g+B}))),_.createElement(Uoe,{needClip:u,clipPathId:A,props:this.props})),_.createElement(ow,{points:r,mainColor:bv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(w)&&_.createElement(ow,{points:w,mainColor:bv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var VL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:vn.area};function $oe(t){var e,n=cn(t,VL),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:u,dot:d,fill:m,fillOpacity:p,hide:g,isAnimationActive:b,legendType:w,stroke:T,xAxisId:S,yAxisId:A}=n,I=zL(n,Noe),L=ll(),k=U6(),{needClip:B}=F0(S,A),M=Zn(),{points:q,isRange:j,baseLine:E}=(e=Re(X=>Aoe(X,t.id,M)))!==null&&e!==void 0?e:{},O=$0();if(L!=="horizontal"&&L!=="vertical"||O==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:R,width:D,x:V,y:z}=O;return!q||!q.length?null:_.createElement(Boe,Jl({},I,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:E,connectNulls:u,dot:d,fill:m,fillOpacity:p,height:R,hide:g,layout:L,isAnimationActive:b==="auto"?!Rh.isSsr:b,isRange:j,legendType:w,needClip:B,points:q,stroke:T,width:D,left:V,top:z,xAxisId:S,yAxisId:A}))}var qoe=(t,e,n,r,i)=>{var s=n??e;if(Ne(s))return s;var l=t==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return s==="dataMin"?m:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function Foe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:u,yAxis:d,displayedData:m,dataStartIndex:p,xAxisTicks:g,yAxisTicks:b,bandSize:w}=t,T=i&&i.length,S=qoe(s,l,n,u,d),A=s==="horizontal",I=!1,L=m.map((B,M)=>{var q,j,E;if(T)E=i[p+M];else{var O=vt(B,r);Array.isArray(O)?(E=O,I=!0):E=[S,O]}var R=(q=(j=E)===null||j===void 0?void 0:j[1])!==null&&q!==void 0?q:null,D=R==null||T&&!e&&vt(B,r)==null;return A?{x:Fg({axis:u,ticks:g,bandSize:w,entry:B,index:M}),y:D?null:d.scale(R),value:E,payload:B}:{x:D?null:u.scale(R),y:Fg({axis:d,ticks:b,bandSize:w,entry:B,index:M}),value:E,payload:B}}),k;return T||I?k=L.map(B=>{var M=Array.isArray(B.value)?B.value[0]:null;return A?{x:B.x,y:M!=null&&B.y!=null?d.scale(M):null,payload:B.payload}:{x:M!=null?u.scale(M):null,y:B.y,payload:B.payload}}):k=A?d.scale(S):u.scale(S),{points:L,baseLine:k,isRange:I}}function Hoe(t){var e=cn(t,VL),n=Zn();return _.createElement(U0,{id:e.id,type:"area"},r=>_.createElement(_.Fragment,null,_.createElement(iA,{legendPayload:Poe(e)}),_.createElement(Roe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),_.createElement(aA,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:m5(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),_.createElement($oe,Jl({},e,{id:r}))))}var dA=_.memo(Hoe,Wh);dA.displayName="Area";var Koe="Invariant failed";function Goe(t,e){throw new Error(Koe)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function xv(t){return _.createElement(eA,lw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var Yoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ne(e))return e;var s=Ne(r)||Gt(r);return s?e(r,i):(s||Goe(),n)}},Woe=(t,e,n)=>n,Xoe=(t,e)=>e,Xh=re([Bh,Xoe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),Qoe=re([Xh],t=>t?.maxBarSize),Zoe=(t,e,n,r)=>r,Joe=re([tt,Bh,qa,Fa,Woe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ele=(t,e,n)=>{var r=tt(t),i=qa(t,e),s=Fa(t,e);if(!(i==null||s==null))return r==="horizontal"?dv(t,"yAxis",s,n):dv(t,"xAxis",i,n)},tle=(t,e)=>{var n=tt(t),r=qa(t,e),i=Fa(t,e);if(!(r==null||i==null))return n==="horizontal"?qP(t,"xAxis",r):qP(t,"yAxis",i)},nle=re([Joe,eJ,tle],vae),rle=(t,e,n)=>{var r,i,s=Xh(t,e);if(s!=null){var l=qa(t,e),u=Fa(t,e);if(!(l==null||u==null)){var d=tt(t),m=V3(t),{maxBarSize:p}=s,g=Gt(p)?m:p,b,w;return d==="horizontal"?(b=Ba(t,"xAxis",l,n),w=Ua(t,"xAxis",l,n)):(b=Ba(t,"yAxis",u,n),w=Ua(t,"yAxis",u,n)),(r=(i=el(b,w,!0))!==null&&i!==void 0?i:g)!==null&&r!==void 0?r:0}}},UL=(t,e,n)=>{var r=tt(t),i=qa(t,e),s=Fa(t,e);if(!(i==null||s==null)){var l,u;return r==="horizontal"?(l=Ba(t,"xAxis",i,n),u=Ua(t,"xAxis",i,n)):(l=Ba(t,"yAxis",s,n),u=Ua(t,"yAxis",s,n)),el(l,u)}},ile=re([nle,V3,JZ,U3,rle,UL,Qoe],wae),ale=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Ba(t,"xAxis",r,n)},sle=(t,e,n)=>{var r=Fa(t,e);if(r!=null)return Ba(t,"yAxis",r,n)},ole=(t,e,n)=>{var r=qa(t,e);if(r!=null)return Ua(t,"xAxis",r,n)},lle=(t,e,n)=>{var r=Fa(t,e);if(r!=null)return Ua(t,"yAxis",r,n)},cle=re([ile,Xh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),ule=re([ele,Xh],Sae),dle=re([Ln,RS,ale,sle,ole,lle,cle,tt,E3,UL,ule,Xh,Zoe],(t,e,n,r,i,s,l,u,d,m,p,g,b)=>{var{chartData:w,dataStartIndex:T,dataEndIndex:S}=d;if(!(g==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||s==null||m==null)){var{data:A}=g,I;if(A!=null&&A.length>0?I=A:I=w?.slice(T,S+1),I!=null)return Ule({layout:u,barSettings:g,pos:l,parentViewBox:e,bandSize:m,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:I,offset:t,cells:b,dataStartIndex:T})}}),fle=["index"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function hle(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var BL=_.createContext(void 0),ple=t=>{var e=_.useContext(BL);if(e!=null)return e.stackId;if(t!=null)return m5(t)},gle=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),vle=t=>{var e=_.useContext(BL);if(e!=null){var{stackId:n}=e;return"url(#".concat(gle(n,t),")")}},yle=t=>{var{index:e}=t,n=hle(t,fle),r=vle(e);return _.createElement(ln,cw({className:"recharts-bar-stack-layer",clipPath:r},n))},ble=["onMouseEnter","onMouseLeave","onClick"],xle=["value","background","tooltipPosition"],_le=["id"],wle=["onMouseEnter","onClick","onMouseLeave"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(null,arguments)}function lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _v(t,e){if(t==null)return{};var n,r,i=Tle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nle=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:ol(n,e),payload:t}]},jle=_.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:u,tooltipType:d,id:m}=t,p={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:ol(s,e),hide:l,type:d,color:i,unit:u,graphicalItemId:m}};return _.createElement(V0,{tooltipEntrySettings:p})});function Cle(t){var e=Re(nl),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:u,onClick:d}=s,m=_v(s,ble),p=tA(l,r,s.id),g=nA(u),b=rA(d,r,s.id);if(!i||n==null)return null;var w=oc(i);return _.createElement(kr,{zIndex:Eae(i,vn.barBackground)},n.map((T,S)=>{var{value:A,background:I,tooltipPosition:L}=T,k=_v(T,xle);if(!I)return null;var B=p(T,S),M=g(T,S),q=b(T,S),j=jr(jr(jr(jr(jr({option:i,isActive:String(S)===e},k),{},{fill:"#eee"},I),w),jh(m,T,S)),{},{onMouseEnter:B,onMouseLeave:M,onClick:q,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return _.createElement(xv,Ls({key:"background-bar-".concat(S)},j))}))}function Ole(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return jr(jr({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return _.createElement(WE,{value:e?i:void 0},n)}function Ile(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,u=Re(nl),d=Re(qE),m=n&&String(s)===u&&(d==null||l===d),p=m?n:e;return m?_.createElement(kr,{zIndex:vn.activeBar},_.createElement(xv,Ls({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))):_.createElement(xv,Ls({},r,{name:String(r.name)},i,{isActive:m,option:p,index:s,dataKey:l}))}function Ple(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return _.createElement(xv,Ls({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Rle(t){var e,{data:n,props:r}=t,i=(e=Pr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=_v(i,_le),{shape:u,dataKey:d,activeBar:m}=r,{onMouseEnter:p,onClick:g,onMouseLeave:b}=r,w=_v(r,wle),T=tA(p,d,s),S=nA(b),A=rA(g,d,s);return n?_.createElement(_.Fragment,null,n.map((I,L)=>_.createElement(yle,Ls({index:L,key:"rectangle-".concat(I?.x,"-").concat(I?.y,"-").concat(I?.value,"-").concat(L),className:"recharts-bar-rectangle"},jh(w,I,L),{onMouseEnter:T(I,L),onMouseLeave:S(I,L),onClick:A(I,L)}),m?_.createElement(Ile,{shape:u,activeBar:m,baseProps:l,entry:I,index:L,dataKey:d}):_.createElement(Ple,{shape:u,baseProps:l,entry:I,index:L,dataKey:d})))):null}function kle(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:m,onAnimationStart:p}=e,g=n.current,b=ad(e,"recharts-bar-"),[w,T]=_.useState(!1),S=!w,A=_.useCallback(()=>{typeof m=="function"&&m(),T(!1)},[m]),I=_.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);return _.createElement(Ole,{showLabels:S,rects:r},_.createElement(id,{animationId:b,begin:l,duration:u,isActive:s,easing:d,onAnimationEnd:A,onAnimationStart:I,key:b},L=>{var k=L===1?r:r?.map((B,M)=>{var q=g&&g[M];if(q)return jr(jr({},B),{},{x:gt(q.x,B.x,L),y:gt(q.y,B.y,L),width:gt(q.width,B.width,L),height:gt(q.height,B.height,L)});if(i==="horizontal"){var j=gt(0,B.height,L),E=gt(B.stackedBarStart,B.y,L);return jr(jr({},B),{},{y:E,height:j})}var O=gt(0,B.width,L),R=gt(B.stackedBarStart,B.x,L);return jr(jr({},B),{},{width:O,x:R})});return L>0&&(n.current=k??null),k==null?null:_.createElement(ln,null,_.createElement(Rle,{props:e,data:k}))}),_.createElement(D0,{label:e.label}),e.children)}function Mle(t){var e=_.useRef(null);return _.createElement(kle,{previousRectanglesRef:e,props:t})}var $L=0,Dle=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:vt(t,e)}};class Lle extends _.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:u,background:d,id:m}=this.props;if(e||n==null)return null;var p=ut("recharts-bar",i),g=m;return _.createElement(ln,{className:p,id:m},u&&_.createElement("defs",null,_.createElement(cA,{clipPathId:g,xAxisId:s,yAxisId:l})),_.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},_.createElement(Cle,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),_.createElement(Mle,this.props)))}}var zle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:$L,xAxisId:0,yAxisId:0,zIndex:vn.bar};function Vle(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p}=t,{needClip:g}=F0(e,n),b=ll(),w=Zn(),T=ZE(t.children,Yh),S=Re(L=>dle(L,t.id,w,T));if(b!=="vertical"&&b!=="horizontal")return null;var A,I=S?.[0];return I==null||I.height==null||I.width==null?A=0:A=b==="vertical"?I.height/2:I.width/2,_.createElement(EL,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Dle,errorBarOffset:A},_.createElement(Lle,Ls({},t,{layout:b,needClip:g,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:m,isAnimationActive:p})))}function Ule(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:m,stackedData:p,displayedData:g,offset:b,cells:w,parentViewBox:T,dataStartIndex:S}=t,A=e==="horizontal"?u:l,I=p?A.scale.domain():null,L=DG({numericAxis:A}),k=A.scale(L);return g.map((B,M)=>{var q,j,E,O,R,D;if(p){var V=p[M+S];if(V==null)return null;q=IG(V,I)}else q=vt(B,n),Array.isArray(q)||(q=[L,q]);var z=Yoe(r,$L)(q[1],M);if(e==="horizontal"){var X,[ce,K]=[u.scale(q[0]),u.scale(q[1])];j=GO({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:B,index:M}),E=(X=K??ce)!==null&&X!==void 0?X:void 0,O=i.size;var Z=ce-K;if(R=Mi(Z)?0:Z,D={x:j,y:b.top,width:O,height:b.height},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var he=Qn(R||z)*(Math.abs(z)-Math.abs(R));E-=he,R+=he}}else{var[me,ee]=[l.scale(q[0]),l.scale(q[1])];if(j=me,E=GO({axis:u,ticks:m,bandSize:s,offset:i.offset,entry:B,index:M}),O=ee-me,R=i.size,D={x:b.left,y:E,width:b.width,height:R},Math.abs(z)>0&&Math.abs(O)<Math.abs(z)){var $=Qn(O||z)*(Math.abs(z)-Math.abs(O));O+=$}}if(j==null||E==null||O==null||R==null)return null;var Y=jr(jr({},B),{},{stackedBarStart:k,x:j,y:E,width:O,height:R,value:p?q:q[1],payload:B,background:D,tooltipPosition:{x:j+O/2,y:E+R/2},parentViewBox:T},w&&w[M]&&w[M].props);return Y}).filter(Boolean)}function Ble(t){var e=cn(t,zle),n=ple(e.stackId),r=Zn();return _.createElement(U0,{id:e.id,type:"bar"},i=>_.createElement(_.Fragment,null,_.createElement(iA,{legendPayload:Nle(e)}),_.createElement(jle,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),_.createElement(aA,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:n,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),_.createElement(kr,{zIndex:e.zIndex},_.createElement(Vle,Ls({},e,{id:i})))))}var fA=_.memo(Ble,Wh);fA.displayName="Bar";var $le=["domain","range"],qle=["domain","range"];function ck(t,e){if(t==null)return{};var n,r,i=Fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uk(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function qL(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=ck(t,$le),{domain:s,range:l}=e,u=ck(e,qle);return!uk(n,s)||!uk(r,l)?!1:Wh(i,u)}var Hle=["dangerouslySetInnerHTML","ticks","scale"],Kle=["id","scale"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function dk(t,e){if(t==null)return{};var n,r,i=Gle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yle(t){var e=Bt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(nae(t)):n.current!==t&&e(rae({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(iae(n.current)),n.current=null)},[e]),null}var Wle=t=>{var{xAxisId:e,className:n}=t,r=Re(RS),i=Zn(),s="xAxis",l=Re(I=>y6(I,s,e,i)),u=Re(I=>m6(I,e)),d=Re(I=>ZJ(I,e)),m=Re(I=>W3(I,e));if(u==null||d==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:g,scale:b}=t,w=dk(t,Hle),{id:T,scale:S}=m,A=dk(m,Kle);return _.createElement(lA,uw({},w,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:ut("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Xle={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:Kn.allowDecimals,allowDuplicatedCategory:Kn.allowDuplicatedCategory,angle:Kn.angle,axisLine:Es.axisLine,height:Kn.height,hide:!1,includeHidden:Kn.includeHidden,interval:Kn.interval,minTickGap:Kn.minTickGap,mirror:Kn.mirror,orientation:Kn.orientation,padding:Kn.padding,reversed:Kn.reversed,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,tickLine:Es.tickLine,tickSize:Es.tickSize,type:Kn.type,xAxisId:0},Qle=t=>{var e=cn(t,Xle);return _.createElement(_.Fragment,null,_.createElement(Yle,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),_.createElement(Wle,e))},H0=_.memo(Qle,qL);H0.displayName="XAxis";var Zle=["dangerouslySetInnerHTML","ticks","scale"],Jle=["id","scale"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(null,arguments)}function fk(t,e){if(t==null)return{};var n,r,i=ece(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ece(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tce(t){var e=Bt(),n=_.useRef(null);return _.useLayoutEffect(()=>{n.current===null?e(aae(t)):n.current!==t&&e(sae({prev:n.current,next:t})),n.current=t},[t,e]),_.useLayoutEffect(()=>()=>{n.current&&(e(oae(n.current)),n.current=null)},[e]),null}var nce=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=_.useRef(null),l=_.useRef(null),u=Re(RS),d=Zn(),m=Bt(),p="yAxis",g=Re(q=>p6(q,e)),b=Re(q=>eee(q,e)),w=Re(q=>y6(q,p,e,d)),T=Re(q=>X3(q,e));if(_.useLayoutEffect(()=>{if(!(r!=="auto"||!g||YE(i)||_.isValidElement(i)||T==null)){var q=s.current;if(q){var j=q.getCalculatedWidth();Math.round(g.width)!==Math.round(j)&&m(lae({id:e,width:j}))}}},[w,g,m,i,e,r,T]),g==null||b==null||T==null)return null;var{dangerouslySetInnerHTML:S,ticks:A,scale:I}=t,L=fk(t,Zle),{id:k,scale:B}=T,M=fk(T,Jle);return _.createElement(lA,dw({},L,M,{ref:s,labelRef:l,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ut("recharts-".concat(p," ").concat(p),n),viewBox:u,ticks:w,axisType:p}))},rce={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,angle:Gn.angle,axisLine:Es.axisLine,hide:!1,includeHidden:Gn.includeHidden,interval:Gn.interval,minTickGap:Gn.minTickGap,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,tickLine:Es.tickLine,tickSize:Es.tickSize,type:Gn.type,width:Gn.width,yAxisId:0},ice=t=>{var e=cn(t,rce);return _.createElement(_.Fragment,null,_.createElement(tce,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),_.createElement(nce,e))},Hu=_.memo(ice,qL);Hu.displayName="YAxis";var ace=(t,e)=>e,hA=re([ace,tt,G3,Vn,k6,Ys,pte,Ln],wte),mA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},FL=Di("mouseClick"),HL=Oh();HL.startListening({actionCreator:FL,effect:(t,e)=>{var n=t.payload,r=hA(e.getState(),mA(n));r?.activeIndex!=null&&e.dispatch(mee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var fw=Di("mouseMove"),KL=Oh(),$p=null;KL.startListening({actionCreator:fw,effect:(t,e)=>{var n=t.payload;$p!==null&&cancelAnimationFrame($p);var r=mA(n);$p=requestAnimationFrame(()=>{var i=e.getState(),s=LE(i,i.tooltip.settings.shared);if(s==="axis"){var l=hA(i,r);l?.activeIndex!=null?e.dispatch(T6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(A6())}$p=null})}});function sce(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var hk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},GL=Wr({name:"rootProps",initialState:hk,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:hk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),oce=GL.reducer,{updateOptions:lce}=GL.actions,YL=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:cce}=YL.actions,uce=YL.reducer,WL=Di("keyDown"),XL=Di("focus"),pA=Oh();pA.startListening({actionCreator:WL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=zE(i,md(n),qh(n),Kh(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Ys(n);if(s==="Enter"){var m=hv(n,"axis","hover",String(i.index));e.dispatch(tw({active:!i.active,activeIndex:i.index,activeCoordinate:m}));return}var p=iee(n),g=p==="left-to-right"?1:-1,b=s==="ArrowRight"?1:-1,w=u+b*g;if(!(d==null||w>=d.length||w<0)){var T=hv(n,"axis","hover",String(w));e.dispatch(tw({active:!0,activeIndex:w.toString(),activeCoordinate:T}))}}}}}});pA.startListening({actionCreator:XL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=hv(n,"axis","hover",String(s));e.dispatch(tw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ci=Di("externalEvent"),QL=Oh(),U1=new Map;QL.startListening({actionCreator:Ci,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=U1.get(i);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=e.getState(),d={activeCoordinate:ete(u),activeDataKey:qE(u),activeIndex:nl(u),activeLabel:L6(u),activeTooltipIndex:nl(u),isTooltipActive:tte(u)};n(d,r)}finally{U1.delete(i)}});U1.set(i,l)}}});var dce=re([fd],t=>t.tooltipItemPayloads),fce=re([dce,Hh,(t,e)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),ZL=Di("touchMove"),JL=Oh();JL.startListening({actionCreator:ZL,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=LE(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var l=hA(r,mA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));l?.activeIndex!=null&&e.dispatch(T6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(g5),g=(u=m.getAttribute(v5))!==null&&u!==void 0?u:void 0,b=hd(r).find(S=>S.id===g);if(p==null||b==null||g==null)return;var{dataKey:w}=b,T=fce(r,p,g);e.dispatch(E6({activeDataKey:w,activeIndex:p,activeCoordinate:T,activeGraphicalItemId:g}))}}}});var hce=L4({brush:Aae,cartesianAxis:cae,chartData:Jte,errorBars:wse,graphicalItems:gie,layout:AG,legend:RY,options:Yte,polarAxis:Ore,polarOptions:uce,referenceElements:Pae,rootProps:oce,tooltip:pee,zIndex:Dte}),mce=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return XK({reducer:hce,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([HL.middleware,KL.middleware,pA.middleware,QL.middleware,JL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Z4({type:"raf"}))},devTools:{serialize:{replacer:sce},name:"recharts-".concat(n)}})};function ez(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Zn(),s=_.useRef(null);if(i)return n;s.current==null&&(s.current=mce(e,r));var l=TS;return _.createElement(Xse,{context:l,store:s.current},n)}function pce(t){var{layout:e,margin:n}=t,r=Bt(),i=Zn();return _.useEffect(()=>{i||(r(wG(e)),r(_G(n)))},[r,i,e,n]),null}var tz=_.memo(pce,Wh);function nz(t){var e=Bt();return _.useEffect(()=>{e(lce(t))},[e,t]),null}function mk(t){var{zIndex:e,isPanorama:n}=t,r=_.useRef(null),i=Bt();return _.useLayoutEffect(()=>(r.current&&i(kte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Mte({zIndex:e,isPanorama:n}))}),[i,e,n]),_.createElement("g",{tabIndex:-1,ref:r})}function pk(t){var{children:e,isPanorama:n}=t,r=Re(Ete);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return _.createElement(_.Fragment,null,i.map(l=>_.createElement(mk,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>_.createElement(mk,{key:l,zIndex:l,isPanorama:n})))}var gce=["children"];function vce(t,e){if(t==null)return{};var n,r,i=yce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(null,arguments)}var bce={width:"100%",height:"100%",display:"block"},xce=_.forwardRef((t,e)=>{var n=MS(),r=DS(),i=R5();if(!za(n)||!za(r))return null;var{children:s,otherAttributes:l,title:u,desc:d}=t,m,p;return l!=null&&(typeof l.tabIndex=="number"?m=l.tabIndex:m=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0),_.createElement(pS,wv({},l,{title:u,desc:d,role:p,tabIndex:m,width:n,height:r,style:bce,ref:e}),s)}),_ce=t=>{var{children:e}=t,n=Re(l0);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return _.createElement(pS,{width:r,height:i,x:l,y:s},e)},gk=_.forwardRef((t,e)=>{var{children:n}=t,r=vce(t,gce),i=Zn();return i?_.createElement(_ce,null,_.createElement(pk,{isPanorama:!0},n)):_.createElement(xce,wv({ref:e},r),_.createElement(pk,{isPanorama:!1},n))});function wce(){var t=Bt(),[e,n]=_.useState(null),r=Re($G);return _.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Lt(s)&&s!==r&&t(EG(s))}},[e,t,r]),n}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(null,arguments)}var Nce=()=>(lne(),null);function Sv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var jce=_.forwardRef((t,e)=>{var n,r,i=_.useRef(null),[s,l]=_.useState({containerWidth:Sv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Sv((r=t.style)===null||r===void 0?void 0:r.height)}),u=_.useCallback((m,p)=>{l(g=>{var b=Math.round(m),w=Math.round(p);return g.containerWidth===b&&g.containerHeight===w?g:{containerWidth:b,containerHeight:w}})},[]),d=_.useCallback(m=>{if(typeof e=="function"&&e(m),m!=null&&typeof ResizeObserver<"u"){var{width:p,height:g}=m.getBoundingClientRect();u(p,g);var b=T=>{var{width:S,height:A}=T[0].contentRect;u(S,A)},w=new ResizeObserver(b);w.observe(m),i.current=w}},[e,u]);return _.useEffect(()=>()=>{var m=i.current;m?.disconnect()},[u]),_.createElement(_.Fragment,null,_.createElement(d0,{width:s.containerWidth,height:s.containerHeight}),_.createElement("div",pc({ref:d},t)))}),Cce=_.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=_.useState({containerWidth:Sv(n),containerHeight:Sv(r)}),l=_.useCallback((d,m)=>{s(p=>{var g=Math.round(d),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),u=_.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:m,height:p}=d.getBoundingClientRect();l(m,p)}},[e,l]);return _.createElement(_.Fragment,null,_.createElement(d0,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",pc({ref:u},t)))}),Oce=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return _.createElement(_.Fragment,null,_.createElement(d0,{width:n,height:r}),_.createElement("div",pc({ref:e},t)))}),Ice=_.forwardRef((t,e)=>{var{width:n,height:r}=t;return Is(n)||Is(r)?_.createElement(Cce,pc({},t,{ref:e})):_.createElement(Oce,pc({},t,{ref:e}))});function Pce(t){return t===!0?jce:Ice}var Rce=_.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:m,onMouseLeave:p,onMouseMove:g,onMouseUp:b,onTouchEnd:w,onTouchMove:T,onTouchStart:S,style:A,width:I,responsive:L,dispatchTouchEvents:k=!0}=t,B=_.useRef(null),M=Bt(),[q,j]=_.useState(null),[E,O]=_.useState(null),R=wce(),D=kS(),V=D?.width>0?D.width:I,z=D?.height>0?D.height:i,X=_.useCallback(le=>{R(le),typeof e=="function"&&e(le),j(le),O(le),le!=null&&(B.current=le)},[R,e,j,O]),ce=_.useCallback(le=>{M(FL(le)),M(Ci({handler:s,reactEvent:le}))},[M,s]),K=_.useCallback(le=>{M(fw(le)),M(Ci({handler:m,reactEvent:le}))},[M,m]),Z=_.useCallback(le=>{M(A6()),M(Ci({handler:p,reactEvent:le}))},[M,p]),he=_.useCallback(le=>{M(fw(le)),M(Ci({handler:g,reactEvent:le}))},[M,g]),me=_.useCallback(()=>{M(XL())},[M]),ee=_.useCallback(le=>{M(WL(le.key))},[M]),$=_.useCallback(le=>{M(Ci({handler:l,reactEvent:le}))},[M,l]),Y=_.useCallback(le=>{M(Ci({handler:u,reactEvent:le}))},[M,u]),Q=_.useCallback(le=>{M(Ci({handler:d,reactEvent:le}))},[M,d]),ne=_.useCallback(le=>{M(Ci({handler:b,reactEvent:le}))},[M,b]),_e=_.useCallback(le=>{M(Ci({handler:S,reactEvent:le}))},[M,S]),oe=_.useCallback(le=>{k&&M(ZL(le)),M(Ci({handler:T,reactEvent:le}))},[M,k,T]),we=_.useCallback(le=>{M(Ci({handler:w,reactEvent:le}))},[M,w]),je=Pce(L);return _.createElement(H6.Provider,{value:q},_.createElement(JD.Provider,{value:E},_.createElement(je,{width:V??A?.width,height:z??A?.height,className:ut("recharts-wrapper",r),style:Sce({position:"relative",cursor:"default",width:V,height:z},A),onClick:ce,onContextMenu:$,onDoubleClick:Y,onFocus:me,onKeyDown:ee,onMouseDown:Q,onMouseEnter:K,onMouseLeave:Z,onMouseMove:he,onMouseUp:ne,onTouchEnd:we,onTouchMove:oe,onTouchStart:_e,ref:X},_.createElement(Nce,null),n)))}),kce=["width","height","responsive","children","className","style","compact","title","desc"];function Mce(t,e){if(t==null)return{};var n,r,i=Dce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rz=_.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:u,compact:d,title:m,desc:p}=t,g=Mce(t,kce),b=Pr(g);return d?_.createElement(_.Fragment,null,_.createElement(d0,{width:n,height:r}),_.createElement(gk,{otherAttributes:b,title:m,desc:p},s)):_.createElement(Rce,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},_.createElement(gk,{otherAttributes:b,title:m,desc:p,ref:e},_.createElement(kae,null,s)))});function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(null,arguments)}var Lce={top:5,right:5,bottom:5,left:5},zce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Lce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Vce=_.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,zce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:m}=e,p={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return _.createElement(ez,{preloadedState:{options:p},reduxStoreName:(r=m.id)!==null&&r!==void 0?r:s},_.createElement(yL,{chartData:m.data}),_.createElement(tz,{layout:i.layout,margin:i.margin}),_.createElement(nz,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(rz,hw({},i,{ref:n})))});function Uce(t){var e=Bt();return _.useEffect(()=>{e(cce(t))},[e,t]),null}var Bce=["layout"];function mw(){return mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mw.apply(null,arguments)}function $ce(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Fce={top:5,right:5,bottom:5,left:5},iz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Fce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Hce=_.forwardRef(function(e,n){var r,i=cn(e.categoricalChartProps,iz),{layout:s}=i,l=$ce(i,Bce),{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=e,g={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return _.createElement(ez,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},_.createElement(yL,{chartData:i.data}),_.createElement(tz,{layout:s,margin:i.margin}),_.createElement(nz,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),_.createElement(Uce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),_.createElement(rz,mw({},l,{ref:n})))});function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e,n){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Yce(t,"string");return typeof e=="symbol"?e:e+""}function Yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wce=["item"],Xce=bk(bk({},iz),{},{layout:"centric",startAngle:0,endAngle:360}),Qce=_.forwardRef((t,e)=>{var n=cn(t,Xce);return _.createElement(Hce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wce,tooltipPayloadSearcher:K6,categoricalChartProps:n,ref:e})}),Zce=["axis"],gA=_.forwardRef((t,e)=>_.createElement(Vce,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zce,tooltipPayloadSearcher:K6,categoricalChartProps:t,ref:e}));const Jce=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),xk=t=>{const e=eue(t);return e.charAt(0).toUpperCase()+e.slice(1)},az=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var nue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rue=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...u},d)=>_.createElement("svg",{ref:d,...nue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:az("lucide",i),...!s&&!tue(u)&&{"aria-hidden":"true"},...u},[...l.map(([m,p])=>_.createElement(m,p)),...Array.isArray(s)?s:[s]]));const Oe=(t,e)=>{const n=_.forwardRef(({className:r,...i},s)=>_.createElement(rue,{ref:s,iconNode:e,className:az(`lucide-${Jce(xk(t))}`,`lucide-${t}`,r),...i}));return n.displayName=xk(t),n};const iue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ec=Oe("activity",iue);const aue=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sz=Oe("arrow-left",aue);const sue=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],vA=Oe("arrow-right",sue);const oue=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oz=Oe("award",oue);const lue=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yA=Oe("ban",lue);const cue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uue=Oe("bell",cue);const due=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fue=Oe("briefcase",due);const hue=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],mue=Oe("bug",hue);const pue=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gue=Oe("calculator",pue);const vue=[["path",{d:"M4.2 4.2A2 2 0 0 0 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 1.82-1.18",key:"16swn3"}],["path",{d:"M21 15.5V6a2 2 0 0 0-2-2H9.5",key:"yhw86o"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h7",key:"1wap6i"}],["path",{d:"M21 10h-5.5",key:"quycpq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yue=Oe("calendar-off",vue);const bue=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ws=Oe("calendar",bue);const xue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],B1=Oe("chevron-down",xue);const _ue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],lz=Oe("chevron-left",_ue);const wue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cz=Oe("chevron-right",wue);const Sue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ku=Oe("circle-alert",Sue);const Eue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zs=Oe("circle-check-big",Eue);const Aue=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Tue=Oe("clipboard-check",Aue);const Nue=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jue=Oe("clock",Nue);const Cue=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],uz=Oe("coffee",Cue);const Oue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pw=Oe("credit-card",Oue);const Iue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_k=Oe("crown",Iue);const Pue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],il=Oe("dollar-sign",Pue);const Rue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dz=Oe("download",Rue);const kue=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mue=Oe("file-exclamation-point",kue);const Due=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fz=Oe("file-text",Due);const Lue=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zue=Oe("flame",Lue);const Vue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Uue=Oe("frown",Vue);const Bue=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],hz=Oe("funnel",Bue);const $ue=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],que=Oe("key",$ue);const Fue=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Hue=Oe("layers",Fue);const Kue=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Gue=Oe("layout-dashboard",Kue);const Yue=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vo=Oe("loader-circle",Yue);const Wue=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Df=Oe("lock",Wue);const Xue=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mz=Oe("log-out",Xue);const Que=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bA=Oe("map-pin",Que);const Zue=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],pz=Oe("map",Zue);const Jue=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ede=Oe("medal",Jue);const tde=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nde=Oe("menu",tde);const rde=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ide=Oe("monitor",rde);const ade=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],gz=Oe("pen",ade);const sde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qp=Oe("plus",sde);const ode=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lde=Oe("refresh-cw",ode);const cde=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vz=Oe("rotate-ccw",cde);const ude=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_c=Oe("save",ude);const dde=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xA=Oe("search",dde);const fde=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K0=Oe("settings",fde);const hde=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],mde=Oe("shopping-bag",hde);const pde=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],gde=Oe("smartphone",pde);const vde=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wk=Oe("sparkles",vde);const yde=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bde=Oe("square-check-big",yde);const xde=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_de=Oe("square-pen",xde);const wde=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sk=Oe("star",wde);const Sde=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ki=Oe("store",Sde);const Ede=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qh=Oe("target",Ede);const Ade=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ag=Oe("trash-2",Ade);const Tde=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],yz=Oe("trending-down",Tde);const Nde=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Gu=Oe("trending-up",Nde);const jde=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ju=Oe("triangle-alert",jde);const Cde=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ode=Oe("trophy",Cde);const Ide=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bz=Oe("upload",Ide);const Pde=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xz=Oe("user-check",Pde);const Rde=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kde=Oe("user-cog",Rde);const Mde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_z=Oe("user-x",Mde);const Dde=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wc=Oe("user",Dde);const Lde=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zh=Oe("users",Lde);const zde=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ji=Oe("x",zde);const Vde=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ude=Oe("zap",Vde),Yn={DIRECTOR:{id:"director",label:"",pass:"16500"},TRAINER:{id:"trainer",label:"",pass:null},MANAGER:{id:"manager",label:"",pass:null},STORE:{id:"store",label:"",pass:null},THERAPIST:{id:"therapist",label:"",pass:null}},gc=[{id:"dashboard",label:"",icon:Gue},{id:"annual",label:"",icon:Ws},{id:"targets",label:"",icon:Qh},{id:"regional",label:"",icon:pz},{id:"store-analysis",label:"",icon:ki},{id:"ranking",label:"",icon:Gu},{id:"audit",label:"",icon:Tue},{id:"history",label:"",icon:fz},{id:"input",label:"",icon:bz},{id:"logs",label:"",icon:ec},{id:"t-targets",label:"",icon:kde},{id:"t-schedule",label:"",icon:yue},{id:"settings",label:"",icon:K0}],Bde={Jonas:["","","","","",""],Angel:["","","","","","",""],:["","","","","","","",""],:["","","","","","",""],AA:["","","",""]},wz={director:gc.map(t=>t.id),trainer:["dashboard","ranking","audit","settings","t-targets","t-schedule"],manager:["dashboard","annual","targets","regional","store-analysis","audit","t-targets","t-schedule"],store:["dashboard","annual","targets","store-analysis","ranking","history","input","t-targets","t-schedule"],therapist:["dashboard","input"]},$de=()=>{if(typeof crypto<"u"&&crypto.randomUUID)try{return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})},Sz=t=>{const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},dr=t=>{if(!t)return"";const e=new Date(t.replace(/-/g,"/"));if(isNaN(e.getTime()))return t;const n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${n}/${r}/${i}`},tc=t=>{if(!t)return"";const e=t.toString().replace(/,/g,"");return isNaN(e)?t:Number(e).toLocaleString()},lr=t=>t?Number(t.toString().replace(/,/g,"")):0,Yr=({children:t})=>f.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500 w-full",children:t}),Pt=({title:t,subtitle:e,children:n,className:r=""})=>f.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-stone-100 shadow-sm ${r}`,children:[(t||e)&&f.jsxs("div",{className:"mb-6",children:[t&&f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:t}),e&&f.jsx("p",{className:"text-sm text-stone-400 mt-1",children:e})]}),n]}),qde=({message:t,type:e,onClose:n})=>{_.useEffect(()=>{const i=setTimeout(n,3e3);return()=>clearTimeout(i)},[n]);const r=e==="success"?"bg-emerald-600":e==="error"?"bg-stone-700":"bg-amber-600";return f.jsxs("div",{className:`fixed bottom-20 md:bottom-6 right-6 ${r} text-white px-6 py-3 rounded-full shadow-xl shadow-stone-300 flex items-center gap-3 z-[60] animate-in slide-in-from-bottom-10 fade-in duration-300 max-w-[90vw]`,children:[e==="success"?f.jsx(zs,{size:20}):e==="error"?f.jsx(Ku,{size:20}):f.jsx(uue,{size:20}),f.jsx("span",{className:"font-medium text-sm tracking-wide",children:t})]})},Fde=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?f.jsx("div",{className:"fixed inset-0 bg-stone-900/40 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-3xl p-6 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[f.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-2",children:e}),f.jsx("p",{className:"text-stone-500 mb-6 whitespace-pre-line",children:n}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:i,className:"px-4 py-2 rounded-xl text-stone-500 hover:bg-stone-50 font-bold transition-colors",children:""}),f.jsx("button",{onClick:r,className:"px-4 py-2 bg-rose-500 text-white rounded-xl hover:bg-rose-600 font-bold shadow-lg shadow-rose-200 transition-colors",children:""})]})]})}):null,Hde=({activeView:t,setActiveView:e,isSidebarOpen:n,setSidebarOpen:r,userRole:i,onLogout:s,permissions:l,currentUser:u})=>{const d=_.useMemo(()=>{if(!i)return[];if(i==="director")return gc;const m=l[i]||[];return gc.filter(p=>m.includes(p.id))},[i,l]);return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`fixed inset-0 bg-stone-900/20 backdrop-blur-sm z-30 md:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),f.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-white border-r border-stone-200 z-50 transition-all duration-300 flex flex-col ${n?"w-64 translate-x-0":"w-20 -translate-x-full md:translate-x-0"}`,children:[f.jsxs("div",{className:"h-20 flex items-center px-6 border-b border-stone-100 shrink-0",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-amber-400 to-orange-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-200 mr-3 shrink-0",children:f.jsx("span",{className:"text-white font-bold text-lg",children:"C"})}),f.jsx("span",{className:`font-extrabold text-xl text-stone-800 tracking-tight transition-opacity duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:"DRCYJ Cloud"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto py-6 px-3 space-y-1 custom-scrollbar",children:d.map(m=>{const p=m.icon,g=t===m.id;return f.jsxs("button",{onClick:()=>{e(m.id),window.innerWidth<768&&r(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-2xl transition-all duration-200 group relative ${g?"bg-amber-50 text-amber-700 shadow-sm":"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,title:n?"":m.label,children:[f.jsx(p,{size:22,className:`shrink-0 transition-colors ${g?"text-amber-600":"text-stone-400 group-hover:text-stone-600"}`}),f.jsx("span",{className:`font-bold text-sm whitespace-nowrap transition-all duration-300 ${n?"opacity-100":"opacity-0 w-0 hidden"}`,children:m.label}),g&&f.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-amber-500 rounded-l-full"})]},m.id)})}),f.jsxs("div",{className:"p-4 border-t border-stone-100 shrink-0",children:[f.jsxs("div",{className:`bg-stone-50 rounded-2xl p-3 flex items-center gap-3 mb-3 transition-all ${!n&&"justify-center"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center shrink-0 overflow-hidden",children:f.jsx(wc,{size:20,className:"text-stone-400"})}),n&&f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("p",{className:"text-sm font-bold text-stone-700 truncate",children:u?.name||(i==="director"?"":"")}),f.jsx("p",{className:"text-xs text-stone-400 truncate capitalize",children:Yn[i?.toUpperCase()]?.label||i})]})]}),f.jsxs("button",{onClick:s,className:`w-full flex items-center gap-2 text-stone-400 hover:text-rose-500 hover:bg-rose-50 px-3 py-2 rounded-xl transition-all ${!n&&"justify-center"}`,children:[f.jsx(mz,{size:20}),n&&f.jsx("span",{className:"font-bold text-sm",children:""})]})]})]})]})},Kde=({activeView:t,setActiveView:e,permissions:n,userRole:r,onLogout:i})=>{const s=_.useMemo(()=>{if(!r)return[];if(r==="director")return gc;const l=n[r]||[];return gc.filter(u=>l.includes(u.id))},[r,n]);return f.jsx("div",{className:"md:hidden bg-white border-b border-stone-200 overflow-x-auto",children:f.jsxs("div",{className:"flex items-center px-4 h-14 gap-2",children:[s.map(l=>{const u=l.icon,d=t===l.id;return f.jsxs("button",{onClick:()=>e(l.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all ${d?"bg-stone-800 text-white shadow-md shadow-stone-200":"bg-stone-100 text-stone-500"}`,children:[f.jsx(u,{size:14}),l.label]},l.id)}),f.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap bg-stone-100 text-stone-500 hover:bg-rose-50 hover:text-rose-500 transition-all",children:[f.jsx(mz,{size:14}),""]})]})})},Gde=({onLogin:t,storeAccounts:e,managers:n,managerAuth:r,onUpdatePassword:i,onUpdateManagerPassword:s,onUpdateTherapistPassword:l,trainerAuth:u,handleUpdateTrainerAuth:d})=>{const[m,p]=_.useState("director"),[g,b]=_.useState(""),[w,T]=_.useState(""),[S,A]=_.useState(""),[I,L]=_.useState(!1),[k,B]=_.useState(!1),[M,q]=_.useState(""),[j,E]=_.useState(""),[O,R]=_.useState([]),[D,V]=_.useState(!1),[z,X]=_.useState(""),[ce,K]=_.useState(""),[Z,he]=_.useState(""),[me,ee]=_.useState("");_.useEffect(()=>{m==="therapist"&&(async()=>{V(!0);try{const we=Lu(oi(Be,"artifacts",ze,"public","data","therapists"),ql("status","==","active")),le=(await h_(we)).docs.map(Te=>({id:Te.id,...Te.data()}));R(le)}catch(we){console.error("",we),A("")}finally{V(!1)}})()},[m]);const $=_.useMemo(()=>z?n[z]||[]:[],[z,n]),Y=_.useMemo(()=>ce?O.filter(oe=>oe.store===ce):[],[ce,O]),Q=async()=>{A(""),L(!0),await new Promise(oe=>setTimeout(oe,600));try{if(m==="director")g===Yn.DIRECTOR.pass?t("director",{name:""}):A("");else if(m==="trainer"){const oe=u?.password||"0000";g===oe?t("trainer",{name:""}):A("")}else if(m==="manager"){if(!w){A(""),L(!1);return}const oe=r[w]||"0000";g===oe?t("manager",{name:w}):A("")}else if(m==="store"){if(!w){A(""),L(!1);return}const oe=e.find(we=>we.id===w);oe&&oe.password===g?t("store",{name:oe.name,storeName:oe.stores?.[0]||oe.storeName,stores:oe.stores}):A("")}}catch{A("")}finally{L(!1)}},ne=async()=>{A(""),L(!0),await new Promise(oe=>setTimeout(oe,600));try{if(!Z){A(""),L(!1);return}const oe=O.find(we=>we.id===Z);oe&&oe.password===me?t("therapist",oe):A(" ( 0000)")}catch{A("")}finally{L(!1)}},_e=async()=>{if(A(""),!j||!M){A("");return}L(!0);let oe=!1;if(m==="store"&&w){const je=e.find(le=>le.id===w);je&&je.password===M&&(oe=!0)}else if(m==="manager"&&w)(r[w]||"0000")===M&&(oe=!0);else if(m==="therapist"&&Z){const je=O.find(le=>le.id===Z);je&&je.password===M&&(oe=!0)}else m==="trainer"&&(u?.password||"0000")===M&&(oe=!0);if(!oe){A(""),L(!1);return}let we=!1;m==="store"&&w?we=await i(w,j):m==="manager"&&w?we=await s(w,j):m==="therapist"&&Z?we=await l(Z,j):m==="trainer"&&(we=await d(j)),we?(alert(""),B(!1),E(""),q(""),b(""),ee("")):A(""),L(!1)};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F8F6] p-4",children:f.jsxs("div",{className:"bg-white w-full max-w-md p-8 rounded-3xl shadow-xl shadow-stone-200/50 border border-stone-100",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-200 mx-auto mb-4",children:f.jsx(uz,{size:32,className:"text-white"})}),f.jsx("h1",{className:"text-2xl font-extrabold text-stone-800 tracking-tight",children:"DRCYJ OPC Cloud"}),f.jsx("p",{className:"text-stone-400 font-medium mt-2",children:""})]}),f.jsx("div",{className:"bg-stone-100 p-1.5 rounded-2xl flex mb-8 overflow-x-auto",children:Object.entries(Yn).map(([oe,we])=>f.jsx("button",{onClick:()=>{p(we.id),A(""),b(""),T(""),B(!1),X(""),K(""),he(""),ee("")},className:`flex-1 py-2.5 px-2 rounded-xl text-sm font-bold transition-all whitespace-nowrap ${m===we.id?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:we.label},oe))}),f.jsx("div",{className:"space-y-4",children:m==="therapist"?D?f.jsxs("div",{className:"py-10 text-center text-stone-400 flex flex-col items-center gap-2",children:[f.jsx(Vo,{className:"animate-spin text-amber-400",size:32}),f.jsx("p",{className:"text-xs",children:"..."})]}):f.jsxs(f.Fragment,{children:[k?f.jsxs("div",{className:"space-y-3 animate-in fade-in slide-in-from-right-4 duration-300",children:[f.jsx("input",{type:"password",value:M,onChange:oe=>q(oe.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),f.jsx("input",{type:"text",value:j,onChange:oe=>E(oe.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(bA,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:z,onChange:oe=>{X(oe.target.value),K(""),he("")},className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(oe=>f.jsxs("option",{value:oe,children:[oe,""]},oe))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(ki,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:ce,onChange:oe=>{K(oe.target.value),he("")},disabled:!z,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),$.map(oe=>f.jsxs("option",{value:oe,children:[oe,""]},oe))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(xz,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsxs("select",{value:Z,onChange:oe=>he(oe.target.value),disabled:!ce,className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),Y.map(oe=>f.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Df,{className:"absolute left-4 top-3.5 text-stone-400",size:18}),f.jsx("input",{type:"password",value:me,onChange:oe=>ee(oe.target.value),placeholder:"",className:"w-full pl-12 pr-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:oe=>oe.key==="Enter"&&ne()})]})]}),S&&f.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[f.jsx(Ku,{size:16})," ",S]}),k?f.jsx("button",{onClick:_e,disabled:I,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:I?f.jsx(Vo,{className:"animate-spin"}):""}):f.jsx("button",{onClick:ne,disabled:I||!Z||!me,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:I?f.jsx(Vo,{className:"animate-spin"}):""}),Z&&f.jsx("button",{onClick:()=>{B(!k),A("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:k?"":"?"})]}):f.jsxs(f.Fragment,{children:[m==="manager"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:w,onChange:oe=>T(oe.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(oe=>f.jsx("option",{value:oe,children:oe},oe))]})}),m==="store"&&f.jsx("div",{className:"relative",children:f.jsxs("select",{value:w,onChange:oe=>T(oe.target.value),className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),e.map(oe=>f.jsx("option",{value:oe.id,children:oe.name},oe.id))]})}),k?f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{type:"password",value:M,onChange:oe=>q(oe.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"}),f.jsx("input",{type:"text",value:j,onChange:oe=>E(oe.target.value),placeholder:"",className:"w-full px-4 py-3 bg-white border-2 border-stone-200 rounded-2xl font-bold"})]}):f.jsx("input",{type:"password",value:g,onChange:oe=>b(oe.target.value),placeholder:"",className:"w-full px-4 py-3 bg-stone-50 border-2 border-stone-100 rounded-2xl outline-none font-bold text-stone-700",onKeyDown:oe=>oe.key==="Enter"&&Q()}),S&&f.jsxs("div",{className:"p-3 bg-rose-50 text-rose-500 text-sm font-bold rounded-xl flex items-center gap-2",children:[f.jsx(Ku,{size:16})," ",S]}),k?f.jsx("button",{onClick:_e,disabled:I,className:"w-full py-4 bg-rose-500 hover:bg-rose-600 text-white rounded-2xl font-bold shadow-lg",children:I?f.jsx(Vo,{className:"animate-spin"}):""}):f.jsx("button",{onClick:Q,disabled:I,className:"w-full py-4 bg-stone-800 hover:bg-stone-900 text-white rounded-2xl font-bold shadow-lg",children:I?f.jsx(Vo,{className:"animate-spin"}):""}),(m==="store"||m==="manager"||m==="trainer")&&f.jsx("button",{onClick:()=>{B(!k),A("")},className:"w-full text-center text-xs text-stone-400 hover:text-stone-600 font-bold py-2",children:k?"":"?"})]})})]})})},Mr=Ak.createContext(null),Yde=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,targets:r,userRole:i,currentUser:s,allReports:l,budgets:u,managers:d,selectedYear:m,selectedMonth:p,therapistReports:g}=_.useContext(Mr),[b,w]=_.useState(i==="therapist"||i==="trainer"?"therapist":"store"),T=_.useMemo(()=>{if(i!=="store"&&i!=="manager"||!l)return[];const E={};l.forEach(V=>{const z=new Date(V.date);z.getFullYear()!==parseInt(m)||z.getMonth()+1!==parseInt(p)||(E[V.storeName]||(E[V.storeName]=0),E[V.storeName]+=Number(V.cash)||0)});const O=Object.keys(E).map(V=>{const z=`${V}_${m}_${parseInt(p)}`,X=u[z],ce=X?Number(X.cashTarget||0):0,K=E[V],Z=ce>0?K/ce*100:0;return{storeName:V,actual:K,target:ce,rate:Z}});O.sort((V,z)=>z.rate-V.rate);const R=O.map((V,z)=>({...V,rank:z+1,totalStores:O.length,isBottom5:z+1>O.length-5}));let D=[];return i==="store"&&s?D=(s.stores||[s.storeName]).filter(V=>V):i==="manager"&&d&&s&&(D=(d[s.name]||[]).map(z=>`CYJ${z}`)),R.filter(V=>D.some(z=>{if(!z||!V.storeName)return!1;const X=z.replace("CYJ","").replace("","");return V.storeName.replace("CYJ","").replace("","")===X}))},[i,l,s,d,u,m,p]),S=_.useMemo(()=>{if(!g)return{rankings:[],myStats:null,grandTotal:{}};const E=g.filter(X=>{const ce=X.date.replace(/-/g,"/"),K=new Date(ce);return K.getFullYear()===parseInt(m)&&K.getMonth()+1===parseInt(p)}),O={};E.forEach(X=>{const ce=X.therapistId;O[ce]||(O[ce]={id:ce,name:X.therapistName,store:X.storeName,totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,newCustomerCount:0,oldCustomerCount:0,newCustomerClosings:0,returnRevenue:0}),O[ce].totalRevenue+=Number(X.totalRevenue)||0,O[ce].serviceCount+=Number(X.serviceCount)||0,O[ce].newCustomerRevenue+=Number(X.newCustomerRevenue)||0,O[ce].oldCustomerRevenue+=Number(X.oldCustomerRevenue)||0,O[ce].newCustomerCount+=Number(X.newCustomerCount)||0,O[ce].oldCustomerCount+=Number(X.oldCustomerCount)||0,O[ce].newCustomerClosings+=Number(X.newCustomerClosings)||0,O[ce].returnRevenue+=Number(X.returnRevenue)||0});const R=Object.values(O).map(X=>{const ce=X.totalRevenue||1,K=Math.round(X.newCustomerRevenue/ce*100),Z=Math.round(X.oldCustomerRevenue/ce*100),he=X.newCustomerCount||1,me=X.newCustomerClosings/he*100,ee=X.oldCustomerCount||1,$=X.newCustomerRevenue/he,Y=X.oldCustomerRevenue/ee;return{...X,revenueMix:`${K}% / ${Z}%`,newClosingRate:me,newAsp:$,oldAsp:Y}}).sort((X,ce)=>ce.totalRevenue-X.totalRevenue),D=R.length;R.forEach((X,ce)=>{X.rank=ce+1,X.totalPeers=D,X.rank<=3?X.status="TOP":X.rank>D-10?X.status="DANGER":X.status="NORMAL",ce>0?X.gapToNext=R[ce-1].totalRevenue-X.totalRevenue:X.gapToNext=0});let V=null;i==="therapist"&&s&&(V=R.find(X=>X.id===s.id));const z=R.reduce((X,ce)=>({totalRevenue:X.totalRevenue+ce.totalRevenue,serviceCount:X.serviceCount+ce.serviceCount,newCustomerRevenue:X.newCustomerRevenue+ce.newCustomerRevenue,oldCustomerRevenue:X.oldCustomerRevenue+ce.oldCustomerRevenue,returnRevenue:X.returnRevenue+ce.returnRevenue,count:X.count+1}),{totalRevenue:0,serviceCount:0,newCustomerRevenue:0,oldCustomerRevenue:0,returnRevenue:0,count:0});return{rankings:R,myStats:V,grandTotal:z}},[g,m,p,i,s]),A=()=>{const E=S.rankings.filter(K=>i!=="therapist"||K.id===s?.id),O=[",,,,,,,,,"],R=E.map(K=>[K.rank,K.name,K.store,K.totalRevenue,K.newCustomerRevenue,K.oldCustomerRevenue,`"${K.revenueMix}"`,`${K.newClosingRate.toFixed(1)}%`,Math.round(K.newAsp),Math.round(K.oldAsp)].join(",")),D="\uFEFF"+[O,...R].join(`
`),V=new Blob([D],{type:"text/csv;charset=utf-8;"}),z=document.createElement("a"),X=URL.createObjectURL(V),ce=new Date().toISOString().split("T")[0];z.setAttribute("href",X),z.setAttribute("download",`_${ce}.csv`),z.style.visibility="hidden",document.body.appendChild(z),z.click(),document.body.removeChild(z)},I=E=>{if(!E)return{title:"...",sub:"Data Loading..."};const{rank:O,totalPeers:R,status:D,gapToNext:V}=E,z=R-O;return D==="TOP"?{title:O===1?"":"",sub:"",icon:_k}:D==="DANGER"?{title:` ${z} `,sub:` ${e(V)}`,icon:ju}:{title:` ${z} `,sub:` ${e(V)} `,icon:Ude}};if(!t||!t.grandTotal)return f.jsxs("div",{className:"flex h-96 items-center justify-center",children:[f.jsx(Vo,{className:"h-10 w-10 animate-spin text-stone-300"}),f.jsx("span",{className:"ml-3 text-stone-400 font-bold",children:"..."})]});const{grandTotal:L,dailyTotals:k,totalAchievement:B}=t,M=t.daysInMonth>0?t.daysPassed/t.daysInMonth*100:0,q=B-M,j=({title:E,value:O,subText:R,icon:D,color:V})=>f.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-stone-100 shadow-sm hover:shadow-md transition-all group relative overflow-hidden h-full",children:[f.jsx("div",{className:`absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity ${V}`,children:f.jsx(D,{size:64})}),f.jsxs("div",{className:"flex flex-col h-full justify-between relative z-10",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold uppercase tracking-wider mb-1",children:E}),f.jsx("h3",{className:"text-2xl font-extrabold text-stone-700 font-mono tracking-tight",children:O})]}),R&&f.jsx("div",{className:"mt-3 pt-3 border-t border-stone-50 text-xs font-medium text-stone-500 flex items-center gap-1",children:R})]})]});return f.jsx(Yr,{children:f.jsxs("div",{className:"space-y-8 pb-10 w-full min-w-0",children:[i!=="therapist"&&i!=="trainer"&&f.jsx("div",{className:"flex justify-center mb-4",children:f.jsxs("div",{className:"bg-stone-200 p-1 rounded-2xl flex shadow-inner",children:[f.jsxs("button",{onClick:()=>w("store"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(ki,{size:16})," "]}),f.jsxs("button",{onClick:()=>w("therapist"),className:`px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2 transition-all ${b==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(wc,{size:16})," "]})]})}),b==="store"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i==="store"&&T.length>0&&f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map(E=>f.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden transition-all ${E.isBottom5?"bg-gradient-to-br from-rose-500 to-red-600 shadow-rose-200":"bg-gradient-to-br from-amber-400 to-orange-600 shadow-amber-200"}`,children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:E.isBottom5?f.jsx(ju,{size:120}):f.jsx(Ode,{size:120})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-sm",children:E.isBottom5?f.jsx(ec,{size:20,className:"text-white"}):f.jsx(ede,{size:20,className:"text-yellow-100"})}),f.jsx("h3",{className:"font-bold text-lg tracking-wider opacity-90",children:E.storeName}),E.isBottom5&&f.jsx("span",{className:"ml-auto bg-white/20 px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:""})]}),f.jsxs("div",{className:"flex items-end gap-4 mb-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsxs("span",{className:"text-5xl font-extrabold font-mono text-white tracking-tighter",children:["No.",E.rank]}),f.jsxs("span",{className:"text-white/60 font-bold text-sm",children:["/ ",E.totalStores]})]})]}),f.jsxs("div",{className:"flex-1 text-right",children:[f.jsx("p",{className:"text-white/80 text-xs font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold text-white",children:[E.rate.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 flex justify-between text-xs font-medium text-white/90",children:[f.jsxs("span",{children:[": ",e(E.actual)]}),f.jsxs("span",{children:[": ",e(E.target)]})]})]})]},E.storeName))}),i==="manager"&&T.length>0&&f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-200 shadow-xl overflow-hidden relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-6 flex justify-between items-center text-white relative overflow-hidden",children:[f.jsx("div",{className:"absolute right-0 top-0 p-4 opacity-10",children:f.jsx(pz,{size:100})}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-white/20 rounded-xl backdrop-blur-md",children:f.jsx(_k,{size:24,className:"text-white"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold tracking-wide",children:""}),f.jsx("p",{className:"text-amber-100 text-xs font-medium",children:"Rankings & Performance"})]})]}),f.jsxs("div",{className:"relative z-10 text-right",children:[f.jsx("p",{className:"text-xs text-amber-100 font-bold uppercase",children:""}),f.jsx("p",{className:"text-2xl font-mono font-bold text-white",children:T.length})]})]}),f.jsx("div",{className:"p-0 sm:p-2 overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[350px]",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100",children:[f.jsx("th",{className:"p-3 sm:p-4 w-16 sm:w-20 text-center",children:""}),f.jsx("th",{className:"p-3 sm:p-4",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right hidden sm:table-cell",children:""}),f.jsx("th",{className:"p-3 sm:p-4 text-right",children:""})]})}),f.jsx("tbody",{children:T.map((E,O)=>f.jsxs("tr",{className:`group transition-colors border-b last:border-0 border-stone-50 ${E.isBottom5?"bg-rose-50 hover:bg-rose-100":"hover:bg-stone-50"}`,children:[f.jsx("td",{className:"p-3 sm:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 sm:w-8 sm:h-8 rounded-full text-xs font-bold ${O===0?"bg-amber-100 text-amber-700":O===1?"bg-stone-200 text-stone-600":O===2?"bg-orange-100 text-orange-700":"bg-stone-50 text-stone-400"}`,children:E.rank})}),f.jsx("td",{className:"p-3 sm:p-4",children:f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[f.jsx("span",{className:`font-bold text-sm sm:text-base ${E.isBottom5?"text-rose-700":"text-stone-700"}`,children:E.storeName}),E.isBottom5&&f.jsxs("span",{className:"w-fit text-[10px] font-bold px-1.5 py-0.5 bg-rose-200 text-rose-700 rounded flex items-center gap-1 animate-pulse",children:[f.jsx(ju,{size:10})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})]})}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono font-medium text-stone-600 text-sm sm:text-base",children:e(E.actual)}),f.jsx("td",{className:"p-3 sm:p-4 text-right font-mono text-stone-400 text-sm hidden sm:table-cell",children:e(E.target)}),f.jsx("td",{className:"p-3 sm:p-4 text-right",children:f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsxs("span",{className:`text-base sm:text-lg font-bold font-mono ${E.isBottom5?"text-rose-600":E.rate>=100?"text-emerald-500":"text-amber-500"}`,children:[E.rate.toFixed(1),"%"]}),f.jsx("div",{className:"w-16 sm:w-24 h-1 sm:h-1.5 bg-stone-100 rounded-full mt-1 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${E.isBottom5?"bg-rose-500":E.rate>=100?"bg-emerald-400":"bg-amber-400"}`,style:{width:`${Math.min(E.rate,100)}%`}})})]})})]},E.storeName))})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 bg-white rounded-3xl p-6 md:p-8 border border-stone-100 shadow-xl shadow-stone-200/50 relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-50 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none opacity-60"}),f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 relative z-10",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg",children:f.jsx(ec,{size:16,className:"text-indigo-500"})}),f.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-stone-400",children:""})]}),f.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold font-mono tracking-tight text-stone-700",children:["Day ",t.daysPassed," ",f.jsxs("span",{className:"text-lg text-stone-300 font-sans",children:["/ ",t.daysInMonth]})]})]}),f.jsxs("div",{className:`mt-4 md:mt-0 px-4 py-2 rounded-xl flex items-center gap-2 ${q>=0?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:[f.jsx("span",{className:"text-sm font-bold",children:q>=0?"":""}),f.jsxs("span",{className:"text-xl font-mono font-bold",children:[Math.abs(q).toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"space-y-6 relative z-10",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:B>=M?"text-emerald-500":"text-rose-500",children:[B.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-3 rounded-full overflow-hidden shadow-inner",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${B>=100?"bg-gradient-to-r from-emerald-400 to-teal-400":B>=M?"bg-emerald-400":"bg-rose-400"}`,style:{width:`${Math.min(B,100)}%`}})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[f.jsx("span",{className:"text-stone-400",children:" ()"}),f.jsxs("span",{className:"text-stone-400",children:[M.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-50 h-1.5 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-stone-300 rounded-full",style:{width:`${Math.min(M,100)}%`}})})]})]})]}),f.jsx("div",{className:"bg-white rounded-3xl p-6 border border-stone-100 shadow-lg shadow-stone-100 flex flex-col justify-center relative overflow-hidden group",children:f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-emerald-600/70 text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-1",children:[f.jsx(Qh,{size:14})," "]}),f.jsx("h3",{className:"text-3xl xl:text-4xl font-extrabold text-stone-700 font-mono mb-4",children:e(L.projection)}),f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-bold",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:[L.budget>0?(L.projection/L.budget*100).toFixed(1):0,"%"]})]}),f.jsx("div",{className:"mt-4 pt-4 border-t border-stone-50",children:f.jsxs("div",{className:"flex justify-between items-center text-xs text-stone-400",children:[f.jsx("span",{children:""}),f.jsx("span",{className:"font-mono font-bold text-stone-500",children:e(L.budget)})]})})]})})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-amber-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(j,{title:"",value:e(L.cash),icon:il,color:"text-amber-500",subText:f.jsxs("span",{className:`font-bold ${B>=100?"text-emerald-600":"text-amber-600"}`,children:[B.toFixed(1),"% "]})}),f.jsx(j,{title:"",value:e(L.accrual),icon:pw,color:"text-cyan-500",subText:""}),f.jsx(j,{title:"",value:e(L.skincareSales),icon:mde,color:"text-rose-500",subText:f.jsxs(f.Fragment,{children:[" ",f.jsxs("span",{className:"font-bold text-stone-700 ml-1",children:[L.accrual>0?(L.skincareSales/L.accrual*100).toFixed(1):0,"%"]})]})})]})]}),f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 mb-4 flex items-center gap-2 pl-1",children:[f.jsx("div",{className:"w-1 h-6 bg-cyan-500 rounded-full"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4",children:[f.jsx(j,{title:"",value:n(L.traffic),icon:Zh,color:"text-blue-500",subText:""}),f.jsx(j,{title:"",value:e(t.avgTrafficASP),icon:Gu,color:"text-indigo-500",subText:f.jsxs("span",{className:t.avgTrafficASP>=r.trafficASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgTrafficASP>=r.trafficASP?"":""," ( ",n(r.trafficASP),")"]})}),f.jsx(j,{title:"",value:n(L.newCustomers),icon:wk,color:"text-purple-500",subText:""}),f.jsx(j,{title:"",value:n(L.newCustomerClosings),icon:bde,color:"text-teal-500",subText:f.jsxs("span",{children:[" ",f.jsxs("span",{className:"font-bold",children:[L.newCustomers>0?(L.newCustomerClosings/L.newCustomers*100).toFixed(0):0,"%"]})]})}),f.jsx(j,{title:"",value:e(t.avgNewCustomerASP),icon:oz,color:"text-fuchsia-500",subText:f.jsxs("span",{className:t.avgNewCustomerASP>=r.newASP?"text-emerald-500 font-bold":"text-rose-500 font-bold",children:[t.avgNewCustomerASP>=r.newASP?"":""," ( ",n(r.newASP),")"]})})]})]}),f.jsx(Pt,{title:"",subtitle:" vs ",children:f.jsx("div",{className:"h-[300px] w-full",children:f.jsx(c0,{width:"100%",height:"100%",children:f.jsxs(gA,{data:k,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsx(q0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(H0,{dataKey:"date",stroke:"#a8a29e",tick:{fontSize:12},dy:10}),f.jsx(Hu,{yAxisId:"left",stroke:"#a8a29e",tick:{fontSize:12},width:60,tickFormatter:E=>E===0?"0":`$${(E/1e3).toFixed(0)}k`}),f.jsx(Hu,{yAxisId:"right",orientation:"right",stroke:"#a8a29e",tick:{fontSize:12},tickFormatter:E=>n(E)}),f.jsx(k0,{contentStyle:{borderRadius:"16px",border:"none",padding:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#fafaf9"},formatter:(E,O)=>O===""?[e(E),O]:[n(E),O]}),f.jsx(dA,{yAxisId:"left",type:"monotone",dataKey:"cash",name:"",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.2,strokeWidth:3}),f.jsx(Fu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:3})]})})})})]}),b==="therapist"&&f.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 w-full min-w-0",children:[S.myStats&&(()=>{const E=I(S.myStats),O=S.myStats.status;let R="bg-gradient-to-br from-indigo-600 to-purple-700",D="shadow-indigo-200";return O==="TOP"?(R="bg-gradient-to-br from-amber-400 to-orange-500",D="shadow-amber-200"):O==="DANGER"&&(R="bg-gradient-to-br from-rose-600 to-red-700",D="shadow-rose-200"),f.jsxs("div",{className:`${R} rounded-3xl p-6 text-white shadow-xl ${D} relative overflow-hidden transition-all duration-500`,children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:f.jsx(E.icon,{size:140})}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-end gap-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1",children:[O==="DANGER"&&f.jsx(zue,{size:12,className:"animate-pulse"}),"No.",S.myStats.rank]}),f.jsxs("span",{className:"text-white/80 font-bold tracking-wider text-sm",children:[S.myStats.store,""]})]}),f.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-1",children:S.myStats.name}),f.jsxs("div",{className:"mt-2 p-3 bg-black/10 rounded-xl backdrop-blur-md border border-white/10 max-w-md",children:[f.jsxs("p",{className:"font-bold text-sm flex items-center gap-2",children:[O==="DANGER"&&f.jsx(Uue,{size:16}),E.title]}),f.jsx("p",{className:"text-xs text-white/70 mt-1",children:E.sub})]})]}),f.jsxs("div",{className:"flex gap-6 text-right",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-bold",children:e(S.myStats.totalRevenue)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-white/60 font-bold uppercase mb-1",children:""}),f.jsxs("p",{className:"text-3xl font-mono font-bold",children:[S.myStats.newClosingRate.toFixed(1),"%"]})]})]})]})]})})(),i!=="therapist"&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:[f.jsx(j,{title:"",value:e(S.grandTotal.totalRevenue),icon:il,color:"text-indigo-500",subText:`${S.grandTotal.count} `}),f.jsx(j,{title:"",value:e(S.grandTotal.newCustomerRevenue),icon:wk,color:"text-amber-500"}),f.jsx(j,{title:"",value:e(S.grandTotal.oldCustomerRevenue),icon:Gu,color:"text-cyan-500"}),f.jsx(j,{title:"",value:`${Math.round(S.grandTotal.newCustomerRevenue/(S.grandTotal.totalRevenue||1)*100)}% / ${Math.round(S.grandTotal.oldCustomerRevenue/(S.grandTotal.totalRevenue||1)*100)}%`,icon:ec,color:"text-fuchsia-500",subText:" / "}),f.jsx(j,{title:"",value:e(S.grandTotal.returnRevenue),icon:Mue,color:"text-rose-500"})]}),f.jsx(Pt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"grid grid-cols-1 w-full",children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(dz,{size:16}),"  CSV"]})}),f.jsx("div",{className:"overflow-x-auto w-full pb-2",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[1200px] whitespace-nowrap",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-xs font-bold text-stone-400 border-b border-stone-100 bg-stone-50/50",children:[f.jsx("th",{className:"p-3 md:p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-center",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""}),f.jsx("th",{className:"p-3 md:p-4 text-right",children:""})]})}),f.jsxs("tbody",{className:"text-sm",children:[S.rankings.filter(E=>i!=="therapist"||E.id===s?.id).map((E,O)=>f.jsxs("tr",{className:`border-b border-stone-50 hover:bg-stone-50 transition-colors ${s?.id===E.id?"bg-indigo-50 hover:bg-indigo-100":""}`,children:[f.jsx("td",{className:"p-3 md:p-4 text-center",children:f.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-xs font-bold ${E.rank<=3?"bg-amber-100 text-amber-700 ring-4 ring-amber-50":E.status==="DANGER"?"bg-rose-100 text-rose-700 ring-4 ring-rose-50":"bg-stone-100 text-stone-500"}`,children:E.rank})}),f.jsxs("td",{className:"p-3 md:p-4 font-bold text-stone-700 flex items-center gap-2",children:[E.name,s?.id===E.id&&f.jsx("span",{className:"px-2 py-0.5 bg-indigo-200 text-indigo-700 text-[10px] rounded-full",children:"ME"}),E.status==="DANGER"&&f.jsx("span",{className:"text-[10px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded font-bold",children:""})]}),f.jsxs("td",{className:"p-3 md:p-4 text-stone-500",children:[E.store,""]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-indigo-600",children:e(E.totalRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(E.newCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:e(E.oldCustomerRevenue)}),f.jsx("td",{className:"p-3 md:p-4 text-center font-mono text-xs text-stone-400",children:E.revenueMix}),f.jsxs("td",{className:"p-3 md:p-4 text-right font-mono font-bold text-stone-700",children:[E.newClosingRate.toFixed(1),"%"]}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:n(Math.round(E.newAsp))}),f.jsx("td",{className:"p-3 md:p-4 text-right font-mono text-stone-600",children:n(Math.round(E.oldAsp))})]},E.id)),S.rankings.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:10,className:"p-8 text-center text-stone-400",children:""})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(sz,{size:12}),"  ",f.jsx(vA,{size:12})]})]})})]})]})})},Ek=t=>{if(!t)return new Date;const e=typeof t=="string"?t.replace(/-/g,"/"):t,n=new Date(e);return isNaN(n.getTime())?new Date:n},Wde=({selectedDate:t,onDateSelect:e,stores:n=[],salesData:r=[],onClose:i})=>{const[s,l]=_.useState(()=>Ek(t));_.useEffect(()=>{t&&l(Ek(t))},[t]);const u=s.getFullYear(),d=s.getMonth(),m=new Date(u,d+1,0).getDate(),p=new Date(u,d,1).getDay(),g=S=>{const A=new Date(u,d,S),I=new Date;if(I.setHours(0,0,0,0),A>I||!r||r.length===0)return"none";const k=`${u}-${String(d+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`.replace(/-/g,"/"),B=r.filter(q=>q.date?q.date.replace(/-/g,"/")===k:!1);if(B.length===0)return"none";if(!n||Array.isArray(n)&&n.length===0||typeof n=="object"&&Object.keys(n).length===0)return"complete";let M=[];return Array.isArray(n)?n.forEach(q=>{q.stores&&q.stores.forEach(j=>M.push(typeof j=="string"?j:j.name))}):Object.values(n).forEach(q=>{Array.isArray(q)&&q.forEach(j=>M.push(typeof j=="string"?j:j.name))}),B.length>=M.length?"complete":"incomplete"},b=()=>{l(new Date(u,d-1,1))},w=()=>{l(new Date(u,d+1,1))},T=S=>{const A=`${u}-${String(d+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;e(A),i&&i()};return f.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-xl border border-stone-100 w-[320px] select-none",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:b,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(lz,{size:20})}),f.jsxs("h3",{className:"font-bold text-stone-800 text-lg",children:[u," ",d+1,""]}),f.jsx("button",{onClick:w,className:"p-1 hover:bg-stone-100 rounded-lg transition-colors text-stone-600",children:f.jsx(cz,{size:20})})]}),f.jsx("div",{className:"grid grid-cols-7 mb-2",children:["","","","","","",""].map(S=>f.jsx("div",{className:"text-center text-xs font-bold text-stone-400 py-1",children:S},S))}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:p}).map((S,A)=>f.jsx("div",{},`empty-${A}`)),Array.from({length:m}).map((S,A)=>{const I=A+1,k=`${u}-${String(d+1).padStart(2,"0")}-${String(I).padStart(2,"0")}`===t,B=g(I);return f.jsxs("button",{onClick:()=>T(I),className:`
                relative h-9 rounded-lg text-sm font-bold flex items-center justify-center transition-all
                ${k?"bg-stone-800 text-white shadow-md scale-105 z-10":"text-stone-700 hover:bg-stone-100"}
              `,children:[I,!k&&B!=="none"&&f.jsx("span",{className:`
                  absolute bottom-1 w-1.5 h-1.5 rounded-full
                  ${B==="complete"?"bg-emerald-400":"bg-rose-500"}
                `})]},I)})]}),i&&f.jsx("button",{onClick:i,className:"mt-4 w-full py-2 bg-stone-100 text-stone-600 rounded-lg text-sm font-bold hover:bg-stone-200 transition-colors md:hidden",children:""})]})},Ez=({selectedDate:t,onDateSelect:e,stores:n,salesData:r})=>{const[i,s]=_.useState(!1),l=_.useRef(null);return _.useEffect(()=>{const u=d=>{window.innerWidth>=768&&l.current&&!l.current.contains(d.target)&&s(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),f.jsxs("div",{className:"relative w-full",ref:l,children:[" ",f.jsxs("button",{onClick:()=>s(!i),className:"w-full flex items-center justify-between gap-3 bg-white border border-stone-200 px-4 py-2.5 rounded-xl text-stone-700 font-bold hover:bg-stone-50 transition-colors shadow-sm min-w-[180px]",children:[f.jsx("span",{className:"text-lg",children:t}),f.jsx(Ws,{size:18,className:"text-stone-400 ml-auto"})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-[1px] z-40 md:hidden",onClick:()=>s(!1)}),f.jsx("div",{className:`
            z-50 animate-in fade-in zoom-in-95 duration-200
            
            /* ---  () --- */
            fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2
            
            /* ---  () --- */
            md:absolute md:top-full md:left-0 md:transform-none md:mt-2
          `,children:f.jsx(Wde,{selectedDate:t,onDateSelect:e,stores:n,salesData:r,onClose:()=>s(!1)})})]})]})},Cu=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`},Xde=()=>{const{currentUser:t,userRole:e,managers:n,inputDate:r,setInputDate:i,showToast:s,logActivity:l,rawData:u}=_.useContext(Mr),[d,m]=_.useState(""),[p,g]=_.useState(""),b={cash:"",accrual:"",operationalAccrual:"",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},[w,T]=_.useState(b),[S,A]=_.useState(!1),[I,L]=_.useState(!1),[k,B]=_.useState(!1),[M,q]=_.useState(null),j={cash:"",accrual:" ()",operationalAccrual:" ()",skincareSales:"",skincareRefund:"",traffic:"",newCustomers:"",newCustomerClosings:"",newCustomerSales:"",refund:""},E=Cu();_.useEffect(()=>{const K=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const Z=Cu(),he=Object.values(w).every(me=>me==="");r!==Z&&he&&(console.log(`[] : ${r} -> ${Z}`),i(Z))}};return document.addEventListener("visibilitychange",K),window.addEventListener("focus",K),()=>{document.removeEventListener("visibilitychange",K),window.removeEventListener("focus",K)}},[r,w,i]),_.useEffect(()=>{const K=localStorage.getItem("cyj_input_draft_v3");if(K)try{const Z=JSON.parse(K);Z.formData&&T(Z.formData),Z.store&&g(Z.store),Z.manager&&m(Z.manager);const he=Z.date;he===Cu()&&i(he)}catch(Z){console.error(Z)}},[]),_.useEffect(()=>{const K={formData:w,store:p,manager:d,date:r,timestamp:Date.now()};localStorage.setItem("cyj_input_draft_v3",JSON.stringify(K))},[w,p,d,r]),_.useEffect(()=>{const K=lr(w.operationalAccrual),Z=lr(w.skincareSales);T(he=>{const me=K+Z;return lr(he.accrual)!==me?{...he,accrual:tc(me)}:he})},[w.operationalAccrual,w.skincareSales]);const O=(K,Z)=>{const he=Z.replace(/,/g,"");/^\d*$/.test(he)&&T(me=>({...me,[K]:tc(he)}))},R=_.useMemo(()=>d?(n[d]||[]).map(K=>`CYJ${K}`):e==="store"&&t?(t.stores||[t.storeName]).map(K=>K.startsWith("CYJ")?K:`CYJ${K}`):[],[d,n,e,t]);_.useEffect(()=>{if(!p&&e==="store"&&t){const K=t.stores||[t.storeName];if(K.length>0){const Z=K[0].replace("CYJ","").replace("",""),he=Object.keys(n).find(ee=>n[ee].includes(Z));he&&m(he);const me=K[0].startsWith("CYJ")?K[0]:`CYJ${K[0]}`;g(me)}}else!d&&e==="manager"&&t&&m(t.name)},[e,t,n]);const D=()=>{confirm("")&&(T(b),localStorage.removeItem("cyj_input_draft_v3"),s("","info"))},V=K=>{if(K.preventDefault(),!p)return s("","error");if(r>E)return s("","error");const Z=dr(r),he=u.find(me=>dr(me.date)===Z&&me.storeName===p);q(he?he.id:null),r!==E?B(!0):L(!0)},z=()=>{B(!1),L(!0)},X=async()=>{A(!0);try{const K=dr(r),Z={date:K,storeName:p,...Object.keys(w).reduce((he,me)=>({...he,[me]:lr(w[me])}),{}),timestamp:rd(),submittedBy:t?.name||"unknown"};M?(await Rn(lt(Be,"artifacts",ze,"public","data","daily_reports",M),Z),l(e,t?.name,"()",`${p} ${K}`)):(await hS(oi(Be,"artifacts",ze,"public","data","daily_reports"),Z),l(e,t?.name,"",`${p} ${K}`)),T(b),localStorage.removeItem("cyj_input_draft_v3"),L(!1),q(null),s("","success")}catch(K){console.error(K),s("","error")}finally{A(!1)}},ce=K=>f.jsxs("div",{children:[f.jsx("label",{className:`block text-xs font-bold mb-1.5 ${K.includes("Refund")?"text-rose-500":"text-stone-500"}`,children:j[K]||K}),f.jsx("input",{type:"text",value:w[K],onChange:Z=>O(K,Z.target.value),readOnly:K==="accrual",placeholder:"0",inputMode:"numeric",className:`w-full border-2 p-3 rounded-xl outline-none font-bold transition-all ${K==="accrual"?"bg-stone-100 text-stone-500 cursor-not-allowed border-stone-100":"border-stone-100 focus:border-amber-400 focus:shadow-sm focus:bg-white bg-stone-50/50"}`})]},K);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded-lg justify-center",children:[f.jsx(zs,{size:14})," "]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-100 shadow-sm space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400 uppercase",children:""}),f.jsx(Ez,{selectedDate:r,onDateSelect:i,stores:[],salesData:[]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:d,onChange:K=>{m(K.target.value),g("")},disabled:e!=="director",className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(n).map(K=>f.jsxs("option",{value:K,children:[K,""]},K))]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold mb-1.5 text-stone-400",children:""}),f.jsx("div",{className:"relative",children:f.jsxs("select",{value:p,onChange:K=>g(K.target.value),disabled:!d,className:"w-full border-2 border-stone-100 p-3 rounded-xl font-bold text-stone-700 bg-white disabled:bg-stone-50 outline-none focus:border-amber-400 appearance-none",children:[f.jsx("option",{value:"",children:"..."}),R.map(K=>f.jsx("option",{value:K,children:K},K))]})})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-stone-200 shadow-lg space-y-8",children:[f.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-stone-100",children:[f.jsx(fz,{size:20,className:"text-amber-500"}),f.jsx("h3",{className:"font-bold text-stone-700 text-lg",children:""})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(Hue,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ce("cash"),ce("accrual"),ce("operationalAccrual"),ce("skincareSales")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[f.jsx(Zh,{size:14})," "]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ce("newCustomerSales"),ce("traffic"),ce("newCustomers"),ce("newCustomerClosings")]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-rose-300 uppercase tracking-wider mb-4 flex items-center gap-2 border-b border-rose-50 pb-1 w-full",children:[f.jsx(yz,{size:14}),"  ()"]}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[ce("refund"),ce("skincareRefund")]})]}),f.jsxs("div",{className:"flex gap-4 pt-4 border-t border-stone-100",children:[f.jsx("button",{onClick:D,className:"px-6 py-4 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200 transition-colors",children:f.jsx(vz,{size:20})}),f.jsx("button",{onClick:V,disabled:S,className:"flex-1 bg-stone-800 text-white py-4 rounded-xl font-bold shadow-xl hover:bg-stone-900 transition-all active:scale-95 disabled:opacity-70",children:S?f.jsx(ec,{className:"animate-spin mx-auto"}):""})]})]}),k&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(Ws,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:r})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(ju,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",E,")",M&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>B(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:z,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),I&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(Ku,{})," "]}),f.jsx("button",{onClick:()=>L(!1),children:f.jsx(Ji,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:r})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:p})]}),f.jsxs("div",{className:"flex justify-between font-bold text-amber-600 border-t pt-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",w.cash]})]}),f.jsxs("div",{className:"flex justify-between font-bold text-indigo-600",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",w.accrual]})]})]}),M&&f.jsx("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded",children:" "}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>L(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:X,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold hover:bg-stone-900",children:""})]})]})]})})]})},Qde=()=>{const{currentUser:t,inputDate:e,setInputDate:n,showToast:r,logActivity:i}=_.useContext(Mr),s={totalRevenue:"",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},[l,u]=_.useState(s),[d,m]=_.useState(!1),[p,g]=_.useState(!1),[b,w]=_.useState(!1),[T,S]=_.useState(!1),[A,I]=_.useState(null),L={totalRevenue:" (+-)",newCustomerRevenue:"",newCustomerCount:"",newCustomerClosings:"",oldCustomerRevenue:"",oldCustomerCount:"",returnRevenue:""},k=Cu();_.useEffect(()=>{const E=()=>{if(document.visibilityState==="visible"||document.hasFocus()){const O=Cu(),R=!l.newCustomerRevenue&&!l.oldCustomerRevenue;e!==O&&R&&(console.log(`[] : ${e} -> ${O}`),n(O))}};return document.addEventListener("visibilitychange",E),window.addEventListener("focus",E),()=>{document.removeEventListener("visibilitychange",E),window.removeEventListener("focus",E)}},[e,l,n]),_.useEffect(()=>{const E=localStorage.getItem("cyj_therapist_draft_v2");if(E)try{const O=JSON.parse(E);O.formData&&u(O.formData);const R=O.date;R===Cu()&&n(R)}catch(O){console.error(O)}},[]),_.useEffect(()=>{const E={formData:l,date:e,timestamp:Date.now()};localStorage.setItem("cyj_therapist_draft_v2",JSON.stringify(E))},[l,e]),_.useEffect(()=>{const E=lr(l.newCustomerRevenue)||0,O=lr(l.oldCustomerRevenue)||0,R=lr(l.returnRevenue)||0,D=E+O-R;lr(l.totalRevenue)!==D&&u(V=>({...V,totalRevenue:tc(D)}))},[l.newCustomerRevenue,l.oldCustomerRevenue,l.returnRevenue]),_.useEffect(()=>{(async()=>{if(t?.id)try{const D=`${dr(e).replace(/\//g,"-")}_${t.id}`,V=lt(Be,"artifacts",ze,"public","data","therapist_daily_reports",D),z=await AC(V);g(z.exists())}catch(O){console.error("",O)}})()},[e,t]);const B=(E,O)=>{const R=O.replace(/,/g,"");/^\d*$/.test(R)&&u(D=>({...D,[E]:tc(R)}))},M=()=>{if(!(l.newCustomerRevenue||l.oldCustomerRevenue||l.newCustomerCount||l.oldCustomerCount||l.returnRevenue))return r("","error");e!==k?S(!0):w(!0)},q=()=>{S(!1),w(!0)},j=async()=>{m(!0),I(null);try{if(!t||!t.id)throw new Error(" ID ");const E=dr(e),R=`${E.replace(/\//g,"-")}_${t.id}`,D={date:E,therapistId:t.id,therapistName:t.name,storeName:t.store||"",totalRevenue:lr(l.totalRevenue),newCustomerRevenue:lr(l.newCustomerRevenue),newCustomerCount:lr(l.newCustomerCount),newCustomerClosings:lr(l.newCustomerClosings),oldCustomerRevenue:lr(l.oldCustomerRevenue),oldCustomerCount:lr(l.oldCustomerCount),returnRevenue:lr(l.returnRevenue),updatedAt:rd()},V=lt(Be,"artifacts",ze,"public","data","therapist_daily_reports",R);if(await Rn(V,D),(await AC(V)).exists())i("therapist",t.name,"",`${E} `),r("","success"),g(!0),u(s),localStorage.removeItem("cyj_therapist_draft_v2"),w(!1);else throw new Error("")}catch(E){console.error(":",E),I({error:E.message,code:E.code||"unknown",path:`artifacts/${ze}/.../therapist_daily_reports`}),r("","error")}finally{m(!1)}};return f.jsxs("div",{className:"max-w-xl mx-auto space-y-6 pb-20",children:[f.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 mb-1",children:[f.jsx(wc,{className:"text-indigo-200"})," ",t?.name," "]}),f.jsxs("p",{className:"text-indigo-100 text-sm opacity-90",children:["",t?.store||" ()",""]})]}),f.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 pointer-events-none",children:f.jsx(Sk,{size:120})})]}),f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-200 flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 font-bold text-sm",children:""}),f.jsx("div",{className:"relative",children:f.jsx("input",{type:"date",value:e,max:new Date().toISOString().split("T")[0],onChange:E=>n(E.target.value),className:"bg-white border border-stone-300 rounded-lg px-3 py-1 font-mono font-bold text-stone-700 outline-none focus:border-indigo-500"})})]}),p&&f.jsxs("div",{className:"bg-emerald-50 text-emerald-600 p-3 rounded-xl text-sm font-bold flex items-center gap-2 border border-emerald-100",children:[f.jsx(zs,{size:16}),"  (",e,") "]}),A&&f.jsxs("div",{className:"bg-rose-50 border-l-4 border-rose-500 p-4 rounded-r-xl space-y-2 animate-in slide-in-from-top-2",children:[f.jsxs("h3",{className:"text-rose-800 font-bold flex items-center gap-2",children:[f.jsx(mue,{})," "]}),f.jsx("p",{className:"text-rose-700 text-sm font-bold",children:A.error})]}),f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100",children:[f.jsxs("label",{className:"text-xs font-bold text-indigo-500 mb-1 flex items-center gap-1",children:[f.jsx(gue,{size:12})," ",L.totalRevenue," ()"]}),f.jsxs("div",{className:"relative",children:[f.jsx(il,{size:18,className:"absolute left-3 top-3.5 text-indigo-400"}),f.jsx("input",{type:"text",value:l.totalRevenue,readOnly:!0,className:"w-full pl-10 pr-3 py-3 border-2 border-indigo-200 rounded-xl font-mono text-2xl font-bold text-indigo-700 bg-white outline-none",placeholder:"0"})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(Sk,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:L.newCustomerRevenue}),f.jsx("input",{type:"text",value:l.newCustomerRevenue,onChange:E=>B("newCustomerRevenue",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-amber-600 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:L.newCustomerCount}),f.jsx("input",{type:"text",value:l.newCustomerCount,onChange:E=>B("newCustomerCount",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:L.newCustomerClosings}),f.jsx("input",{type:"text",value:l.newCustomerClosings,onChange:E=>B("newCustomerClosings",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-amber-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("h4",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider mb-2 flex items-center gap-2",children:[f.jsx(Zh,{size:12})," "]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:L.oldCustomerRevenue}),f.jsx("input",{type:"text",value:l.oldCustomerRevenue,onChange:E=>B("oldCustomerRevenue",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-indigo-600 focus:border-indigo-400 outline-none",inputMode:"numeric"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-500 mb-1 block",children:L.oldCustomerCount}),f.jsx("input",{type:"text",value:l.oldCustomerCount,onChange:E=>B("oldCustomerCount",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-stone-700 focus:border-indigo-400 outline-none",inputMode:"numeric"})]})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-rose-500 mb-1 block flex items-center gap-1",children:[f.jsx(yz,{size:12})," ",L.returnRevenue]}),f.jsx("input",{type:"text",value:l.returnRevenue,onChange:E=>B("returnRevenue",E.target.value),placeholder:"0",className:"w-full border-2 p-3 rounded-xl font-bold text-rose-600 border-rose-100 focus:border-rose-400 outline-none mb-4",inputMode:"numeric"})]}),f.jsxs("button",{onClick:M,disabled:d,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50",children:[d?f.jsx(ec,{className:"animate-spin"}):f.jsx(bz,{size:20}),""]})]})}),T&&f.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 bg-stone-900/80 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 border-4 border-rose-100",children:[f.jsxs("div",{className:"bg-rose-500 p-6 flex flex-col items-center text-center",children:[f.jsx("div",{className:"bg-white/20 p-3 rounded-full mb-3",children:f.jsx(Ws,{size:32,className:"text-white"})}),f.jsx("h3",{className:"text-white text-xl font-extrabold tracking-wide",children:""})]}),f.jsxs("div",{className:"p-6 space-y-6 text-center",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-stone-500 font-bold mb-1",children:""}),f.jsx("p",{className:"text-3xl font-mono font-black text-rose-600",children:e})]}),f.jsx("div",{className:"bg-rose-50 p-4 rounded-xl border border-rose-100 text-left",children:f.jsxs("p",{className:"flex items-start gap-2 text-rose-800 text-sm font-bold",children:[f.jsx(ju,{size:18,className:"shrink-0 mt-0.5"}),f.jsxs("span",{children:[" ",f.jsx("u",{children:""})," (",k,")",p&&f.jsxs("span",{className:"block mt-2 pt-2 border-t border-rose-200 text-rose-600",children:["  ",f.jsx("span",{className:"underline font-black",children:""}),""]})]})]})}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-3.5 bg-stone-100 text-stone-500 rounded-xl font-bold hover:bg-stone-200 transition-colors",children:""}),f.jsx("button",{onClick:q,className:"flex-1 py-3.5 bg-rose-600 text-white rounded-xl font-bold hover:bg-rose-700 shadow-lg shadow-rose-200 transition-all active:scale-95",children:""})]})]})]})}),b&&f.jsx("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4 bg-stone-900/60 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-indigo-600 p-4 flex justify-between items-center",children:[f.jsxs("h3",{className:"text-white font-bold flex gap-2",children:[f.jsx(Ku,{})," "]}),f.jsx("button",{onClick:()=>w(!1),children:f.jsx(Ji,{className:"text-white"})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:e})]}),f.jsxs("div",{className:"flex justify-between font-bold text-stone-700",children:[f.jsx("span",{children:""}),f.jsx("span",{children:t?.name})]}),f.jsxs("div",{className:"border-t border-stone-200 my-2 pt-2 space-y-1",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-indigo-600 text-lg",children:["$",l.totalRevenue||0]})]}),f.jsx("div",{className:"flex justify-between text-xs text-stone-400 pl-2",children:f.jsxs("span",{children:["( $",l.newCustomerRevenue||0," +  $",l.oldCustomerRevenue||0,")"]})}),f.jsxs("div",{className:"flex justify-between mt-2",children:[f.jsx("span",{className:"text-stone-500",children:""}),f.jsxs("span",{className:"font-mono font-bold text-rose-500",children:["$",l.returnRevenue||0]})]})]})]}),p&&f.jsxs("p",{className:"text-xs text-rose-500 font-bold bg-rose-50 p-2 rounded flex items-center gap-1",children:[f.jsx(ju,{size:12})," "]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 border rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsx("button",{onClick:j,className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 shadow-md",children:""})]})]})]})})]})},Zde=()=>{const{userRole:t}=_.useContext(Mr);return f.jsx(Yr,{children:t==="therapist"?f.jsx(Qde,{}):f.jsx(Xde,{})})},Jde=()=>{const{showToast:t,managers:e,userRole:n,currentUser:r}=_.useContext(Mr),[i,s]=_.useState(n==="trainer"||n==="therapist"?"therapist":"store"),[l,u]=_.useState([]),[d,m]=_.useState([]),[p,g]=_.useState(!1),b=()=>new Date().toISOString().split("T")[0],[w,T]=_.useState(b()),[S,A]=_.useState(b()),[I,L]=_.useState(""),[k,B]=_.useState(null),[M,q]=_.useState({}),j=ee=>typeof ee=="number"?ee.toLocaleString():ee,E=_.useMemo(()=>n==="director"||n==="trainer"?null:n==="manager"&&r?(e[r.name]||[]).map(ee=>ee.trim()):n==="store"&&r?(r.stores||[r.storeName]).map($=>$.replace(/CYJ|/g,"").trim()):n==="therapist"&&r?[r.store]:[],[n,r,e]),O=_.useMemo(()=>{let ee=[];return E!==null?ee=E:ee=Object.values(e).flat(),ee.filter($=>$).map($=>`CYJ${$}`).sort()},[e,E]);_.useEffect(()=>{O.length===1&&L(O[0])},[O]);const R=ee=>ee?ee.storeName||ee.store||"":"",D=[{key:"cash",label:"",width:"min-w-[100px]"},{key:"accrual",label:"",width:"min-w-[100px]"},{key:"operationalAccrual",label:"",width:"min-w-[100px]"},{key:"skincareSales",label:"",width:"min-w-[100px]"},{key:"traffic",label:"",width:"min-w-[90px]"},{key:"newCustomers",label:"",width:"min-w-[90px]"},{key:"newCustomerClosings",label:"",width:"min-w-[90px]"},{key:"newCustomerSales",label:"",width:"min-w-[100px]"},{key:"refund",label:"",width:"min-w-[100px]",isNegative:!0},{key:"skincareRefund",label:"",width:"min-w-[100px]",isNegative:!0}],V=[{key:"totalRevenue",label:"",width:"min-w-[100px]",isHighlight:!0,readOnly:!0},{key:"newCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"newCustomerCount",label:"",width:"min-w-[80px]"},{key:"newCustomerClosings",label:"",width:"min-w-[80px]"},{key:"oldCustomerRevenue",label:"",width:"min-w-[100px]"},{key:"oldCustomerCount",label:"",width:"min-w-[80px]"},{key:"returnRevenue",label:"",width:"min-w-[100px]",isNegative:!0}];_.useEffect(()=>{if(!w||!S)return;(async()=>{g(!0);try{const $=i==="store"?"daily_reports":"therapist_daily_reports",Y=new Map,Q=Lu(oi(Be,"artifacts",ze,"public","data",$),ql("date",">=",w),ql("date","<=",S),Tg("date","desc"));(await h_(Q)).docs.forEach(Te=>Y.set(Te.id,{id:Te.id,...Te.data()}));const _e=w.replace(/-/g,"/"),oe=S.replace(/-/g,"/"),we=Lu(oi(Be,"artifacts",ze,"public","data",$),ql("date",">=",_e),ql("date","<=",oe),Tg("date","desc"));(await h_(we)).docs.forEach(Te=>Y.set(Te.id,{id:Te.id,...Te.data()}));const le=Array.from(Y.values()).sort((Te,Ve)=>Ve.date.localeCompare(Te.date));i==="store"?u(le):m(le)}catch($){console.error($),t(": "+$.message,"error")}finally{g(!1)}})()},[i,w,S,ze,t]);const z=i==="store"?l:d,X=_.useMemo(()=>z.filter(ee=>{if(n==="therapist"){if(i!=="therapist"||ee.therapistId!==r?.id)return!1}else if(E!==null){const Y=_e=>String(_e||"").replace(/CYJ/ig,"").replace(//g,"").replace(/\s/g,"").toLowerCase().trim(),Q=Y(R(ee));if(!E.some(_e=>Q===Y(_e)))return!1}let $=!0;if(I){const Y=_e=>String(_e||"").replace(/CYJ/ig,"").replace(//g,"").replace(/\s/g,"").toLowerCase().trim(),Q=Y(I);$=Y(R(ee))===Q}return $}),[z,I,E,n,r,i]),ce=ee=>{B(ee.id),q({...ee,date:dr(ee.date)})},K=()=>{B(null),q({})},Z=(ee,$)=>{q(Y=>{const Q={...Y,[ee]:$};if(i==="therapist"&&(ee==="newCustomerRevenue"||ee==="oldCustomerRevenue"||ee==="returnRevenue")){const ne=Number(Q.newCustomerRevenue||0),_e=Number(Q.oldCustomerRevenue||0),oe=Number(Q.returnRevenue||0);Q.totalRevenue=ne+_e-oe}if(i==="store"&&(ee==="operationalAccrual"||ee==="skincareSales")){const ne=Number(Q.operationalAccrual||0),_e=Number(Q.skincareSales||0);Q.accrual=ne+_e}return Q})},he=async()=>{try{const $=lt(Be,"artifacts",ze,"public","data",i==="store"?"daily_reports":"therapist_daily_reports",k);let Y={};i==="store"?Y={...M,cash:Number(M.cash||0),accrual:Number(M.accrual||0),operationalAccrual:Number(M.operationalAccrual||0),skincareSales:Number(M.skincareSales||0),traffic:Number(M.traffic||0),newCustomers:Number(M.newCustomers||0),newCustomerClosings:Number(M.newCustomerClosings||0),newCustomerSales:Number(M.newCustomerSales||0),refund:Number(M.refund||0),skincareRefund:Number(M.skincareRefund||0)}:Y={...M,totalRevenue:Number(M.totalRevenue||0),newCustomerRevenue:Number(M.newCustomerRevenue||0),newCustomerCount:Number(M.newCustomerCount||0),newCustomerClosings:Number(M.newCustomerClosings||0),oldCustomerRevenue:Number(M.oldCustomerRevenue||0),oldCustomerCount:Number(M.oldCustomerCount||0),returnRevenue:Number(M.returnRevenue||0)},await Ng($,Y),t("","success"),(i==="store"?u:m)(ne=>ne.map(_e=>_e.id===k?{..._e,...Y}:_e)),B(null)}catch{t("","error")}},me=async ee=>{if(confirm("?"))try{await GD(lt(Be,"artifacts",ze,"public","data",i==="store"?"daily_reports":"therapist_daily_reports",ee)),t("","success"),(i==="store"?u:m)(Q=>Q.filter(ne=>ne.id!==ee))}catch{t("","error")}};return f.jsx(Yr,{children:f.jsxs("div",{className:"grid grid-cols-1 gap-6 w-full pb-20",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:""}),f.jsx("span",{className:"hidden sm:inline text-stone-400",children:"|"}),f.jsxs("div",{className:"flex bg-stone-200 p-1 rounded-xl w-full sm:w-auto",children:[n!=="trainer"&&n!=="therapist"&&f.jsxs("button",{onClick:()=>{s("store"),L("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${i==="store"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(ki,{size:16})," "]}),f.jsxs("button",{onClick:()=>{s("therapist"),L("")},className:`flex-1 sm:flex-none px-4 py-2 rounded-lg text-sm font-bold flex justify-center items-center gap-2 transition-all ${i==="therapist"?"bg-white text-stone-800 shadow-sm":"text-stone-500 hover:text-stone-700"}`,children:[f.jsx(wc,{size:16})," "]})]})]}),f.jsx(Pt,{children:f.jsxs("div",{className:"space-y-4 w-full",children:[f.jsxs("div",{className:"flex flex-wrap items-end gap-4 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[f.jsxs("div",{className:"w-full md:w-auto flex-grow",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(Ws,{size:12})," "]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full",children:[f.jsx("input",{type:"date",value:w,onChange:ee=>T(ee.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"}),f.jsx("span",{className:"text-stone-400 font-bold transform rotate-90 md:rotate-0",children:""}),f.jsx("input",{type:"date",value:S,onChange:ee=>A(ee.target.value),className:"w-full sm:w-auto flex-grow px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400"})]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto shrink-0",children:[f.jsxs("div",{className:"flex-grow min-w-[150px]",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("select",{value:I,onChange:ee=>L(ee.target.value),disabled:O.length===1,className:"w-full px-4 py-2 rounded-xl font-bold bg-white border border-stone-200 outline-none focus:border-amber-400 h-[42px] disabled:bg-stone-100 disabled:text-stone-500",children:[O.length>1&&f.jsx("option",{value:"",children:""}),O.map(ee=>f.jsx("option",{value:ee,children:ee},ee))]})]}),f.jsx("div",{className:"flex items-end",children:f.jsxs("button",{onClick:()=>{T(b()),A(b()),O.length>1&&L("")},className:"px-4 py-2 bg-white border border-stone-200 text-stone-600 rounded-xl font-bold flex gap-2 hover:bg-stone-50 transition-colors shadow-sm h-[42px] items-center justify-center whitespace-nowrap",children:[f.jsx(vz,{size:16})," ",f.jsx("span",{className:"hidden sm:inline",children:""})]})})]})]}),f.jsxs("div",{className:"w-full border border-stone-200 rounded-xl bg-white shadow-sm flex flex-col",children:[f.jsx("div",{className:"overflow-x-auto w-full rounded-xl",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-100 text-stone-500 font-bold uppercase text-xs",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 md:sticky md:left-0 bg-stone-100 md:z-20 border-r border-stone-200 min-w-[140px]",children:" / "}),i==="store"?D.map(ee=>f.jsx("th",{className:`p-4 text-right ${ee.isNegative?"text-rose-500":""} ${ee.width}`,children:ee.label},ee.key)):f.jsxs(f.Fragment,{children:[f.jsx("th",{className:"p-4 min-w-[100px]",children:""}),V.map(ee=>f.jsx("th",{className:`p-4 text-right ${ee.isNegative?"text-rose-500":ee.isHighlight?"text-indigo-600":""} ${ee.width}`,children:ee.label},ee.key))]}),f.jsx("th",{className:"p-4 text-center bg-stone-100 md:sticky md:right-0 md:z-20 border-l border-stone-200 min-w-[100px] shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:""})]})}),f.jsxs("tbody",{className:"divide-y divide-stone-100",children:[p&&f.jsx("tr",{children:f.jsxs("td",{colSpan:20,className:"p-10 text-center",children:[f.jsx(Vo,{className:"animate-spin inline mr-2"}),"..."]})}),!p&&(!w||!S)&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-12 text-center text-stone-400",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx(xA,{size:24,className:"opacity-50"}),f.jsx("p",{className:"font-bold",children:""})]})})}),!p&&X.map(ee=>{const $=k===ee.id,Y=R(ee).replace("CYJ","").replace("","");return f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 md:sticky md:left-0 bg-white group-hover:bg-stone-50 md:z-10 border-r border-stone-100",children:f.jsxs("div",{className:"flex flex-col",children:[$?f.jsx("input",{type:"date",value:M.date,onChange:Q=>Z("date",Q.target.value),className:"border rounded px-2 py-1 mb-1 text-xs"}):f.jsx("span",{className:"font-mono font-bold text-stone-600",children:ee.date}),f.jsx("span",{className:"font-bold text-stone-800",children:Y||f.jsx("span",{className:"text-stone-300 text-xs",children:""})})]})}),i==="store"?D.map(Q=>f.jsx("td",{className:"p-4 text-right",children:$?f.jsx("input",{type:"number",value:M[Q.key],onChange:ne=>Z(Q.key,ne.target.value),readOnly:Q.key==="accrual",className:`border rounded w-20 text-right px-1 outline-none focus:border-amber-400 ${Q.isNegative?"text-rose-500":""} ${Q.key==="accrual"?"bg-stone-100 text-stone-500":""}`}):f.jsx("span",{className:Q.isNegative?"text-rose-500 font-bold":"",children:j(ee[Q.key])})},Q.key)):f.jsxs(f.Fragment,{children:[f.jsx("td",{className:"p-4 font-bold",children:ee.therapistName}),V.map(Q=>f.jsx("td",{className:"p-4 text-right",children:$?f.jsx("input",{type:"number",value:M[Q.key],onChange:ne=>Z(Q.key,ne.target.value),readOnly:Q.readOnly,className:`border rounded w-20 text-right px-1 outline-none focus:border-indigo-400 ${Q.isNegative?"text-rose-500":Q.isHighlight?"font-bold text-indigo-600":""} ${Q.readOnly?"bg-stone-100 text-stone-500 cursor-not-allowed":""}`}):f.jsx("span",{className:Q.isNegative?"text-rose-500 font-bold":Q.isHighlight?"text-indigo-600 font-bold":"",children:j(ee[Q.key])})},Q.key))]}),f.jsx("td",{className:"p-4 text-center md:sticky md:right-0 bg-white group-hover:bg-stone-50 md:z-10 border-l border-stone-100 shadow-[-4px_0_8px_-2px_rgba(0,0,0,0.05)]",children:$?f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:he,className:"p-1.5 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:f.jsx(_c,{size:16})}),f.jsx("button",{onClick:K,className:"p-1.5 bg-stone-100 text-stone-500 rounded hover:bg-stone-200",children:f.jsx(Ji,{size:16})})]}):f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{onClick:()=>ce(ee),className:"p-1.5 hover:bg-amber-50 text-amber-500 rounded transition-colors",children:f.jsx(gz,{size:16})}),f.jsx("button",{onClick:()=>me(ee.id),className:"p-1.5 hover:bg-rose-50 text-rose-500 rounded transition-colors",children:f.jsx(ag,{size:16})})]})})]},ee.id)}),!p&&X.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:20,className:"p-10 text-center text-stone-400",children:""})})]})]})}),f.jsxs("div",{className:"md:hidden py-2 text-center text-stone-400 text-xs flex justify-center items-center gap-1 bg-stone-50 rounded-b-xl border-t border-stone-100",children:[f.jsx(sz,{size:12}),"  ",f.jsx(vA,{size:12})]})]})]})})]})})},efe=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,userRole:r}=_.useContext(Mr),i=_.useMemo(()=>t.regionalStats.map(l=>({name:l.manager,value:l.cashTotal})).filter(l=>l.value>0),[t.regionalStats]),s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"];return f.jsx(Yr,{children:f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.regionalStats.map(l=>f.jsxs(Pt,{className:"hover:shadow-lg transition-shadow duration-300 border-l-4 border-l-stone-200",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-stone-50 pb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-stone-100 flex items-center justify-center font-bold text-stone-500 text-lg",children:l.manager.charAt(0)}),f.jsx("div",{children:f.jsxs("h3",{className:"text-xl font-bold text-stone-700",children:[l.manager," "]})})]}),f.jsx("div",{className:"text-right",children:f.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-bold mb-1 inline-block ${l.achievement>=100?"bg-emerald-100 text-emerald-700":"bg-amber-50 text-amber-600"}`,children:[l.achievement.toFixed(1),"%"]})})]}),f.jsxs("div",{className:"space-y-3 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-lg font-bold text-stone-700",children:e(l.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-stone-600",children:e(l.accrualTotal)})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-stone-500 text-sm",children:""}),f.jsx("span",{className:"text-base font-bold text-rose-500",children:e(l.skincareSalesTotal)})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2 py-4 border-t border-stone-100 bg-stone-50/50 -mx-6 px-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:n(l.trafficTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomersTotal)})]}),f.jsxs("div",{className:"text-center border-l border-stone-200",children:[f.jsx("p",{className:"text-[10px] text-stone-400 font-bold uppercase mb-1",children:""}),f.jsx("p",{className:"text-stone-700 font-bold",children:n(l.newCustomerClosingsTotal)})]})]})]},l.manager))}),r==="director"?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-in slide-in-from-bottom-4 duration-500",children:f.jsx(Pt,{title:"",subtitle:"",children:f.jsx("div",{className:"h-[350px] w-full flex justify-center items-center",children:f.jsx(c0,{width:"100%",height:"100%",children:f.jsxs(Qce,{children:[f.jsx(mL,{data:i,cx:"50%",cy:"50%",labelLine:!0,label:({name:l,percent:u})=>`${l} ${(u*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:i.map((l,u)=>f.jsx(Yh,{fill:s[u%s.length]},`cell-${u}`))}),f.jsx(k0,{formatter:l=>e(l)}),f.jsx(p0,{verticalAlign:"bottom",height:36})]})})})})}):f.jsx("div",{className:"space-y-6",children:t.regionalStats.map(l=>{const u=t.storeList.filter(d=>d.manager===l.manager);return f.jsxs("div",{className:"bg-white rounded-3xl border border-stone-100 overflow-hidden shadow-sm mb-6",children:[f.jsx("div",{className:"bg-stone-50/80 px-6 py-4 border-b border-stone-100 flex justify-between items-center",children:f.jsxs("h3",{className:"font-bold text-stone-700",children:[l.manager," "]})}),f.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(d=>f.jsxs("div",{className:"bg-white border border-stone-100 rounded-2xl p-5 hover:shadow-lg transition-all",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsx("h4",{className:"font-bold text-stone-700",children:d.name.replace("CYJ","").replace("","")}),f.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[d.achievement.toFixed(1),"%"]})]}),f.jsxs("div",{className:"space-y-2 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:e(d.cashTotal)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-stone-400",children:""}),f.jsx("span",{className:"font-bold",children:e(d.accrualTotal)})]})]})]},d.name))})]},l.manager)})})]})})},tfe=()=>{const{analytics:t,fmtMoney:e,fmtNum:n,budgets:r,selectedYear:i,selectedMonth:s,managers:l,auditExclusions:u,handleUpdateAuditExclusions:d,showToast:m}=_.useContext(Mr),[p,g]=_.useState({key:"achievement",direction:"desc"}),[b,w]=_.useState(!1),[T,S]=_.useState([]),A=()=>{S(u||[]),w(!0)},I=async()=>{await d(T),w(!1),m("","success")},L=E=>{S(O=>O.includes(E)?O.filter(R=>R!==E):[...O,E])},k=_.useMemo(()=>t?.storeList?t.storeList.filter(E=>{const O=E.name.replace("CYJ","").replace("","");return!(u||[]).includes(O)}).map(E=>{const O=`${E.name}_${i}_${parseInt(s)}`,R=r[O],D=R?Number(R.accrualTarget||0):0,V=E.accrualTotal||0,z=D>0?V/D*100:0;return{...E,accrualTarget:D,accrualAchievement:z}}):[],[t.storeList,r,i,s,u]),B=_.useMemo(()=>{let E=[...k];return p.key&&E.sort((O,R)=>{const D=O[p.key]||0,V=R[p.key]||0;return D<V?p.direction==="ascending"?-1:1:D>V?p.direction==="ascending"?1:-1:0}),E},[k,p]),M=E=>g({key:E,direction:p.key===E&&p.direction==="desc"?"ascending":"desc"}),q=()=>{const E=[",,,,,,,,,,,,"],O=B.map((X,ce)=>{const K=X.name.replace("CYJ","").replace("","");return[ce+1,K,X.manager,X.cashTotal||0,(X.achievement||0).toFixed(2)+"%",X.accrualTotal||0,X.accrualTarget||0,(X.accrualAchievement||0).toFixed(2)+"%",X.skincareSalesTotal||0,X.trafficTotal||0,X.trafficASP||0,X.newCustomersTotal||0,X.newCustomerClosingsTotal||0].join(",")}),R="\uFEFF"+[E,...O].join(`
`),D=new Blob([R],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(D),z=document.createElement("a");z.href=V,z.download=`_${new Date().toISOString().split("T")[0]}.csv`,z.click()},j=({store:E,index:O})=>{const R=E.name.replace("CYJ","").replace("","");return f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm mb-3",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-stone-50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${O<3?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-500"}`,children:O+1}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-stone-700 text-lg",children:R}),f.jsxs("p",{className:"text-xs text-stone-400",children:[E.manager,""]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-xs text-stone-400 font-bold uppercase",children:""}),f.jsxs("div",{className:`text-xl font-mono font-bold ${E.achievement>=100?"text-emerald-500":"text-stone-700"}`,children:[E.achievement.toFixed(1),"%"]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(il,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-700",children:e(E.cashTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(fue,{size:10})," "]}),f.jsxs("p",{className:`font-mono font-bold ${E.accrualAchievement>=100?"text-emerald-600":"text-blue-600"}`,children:[E.accrualAchievement.toFixed(1),"%"]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(Gu,{size:10})," "]}),f.jsx("p",{className:"font-mono font-bold text-stone-600",children:e(E.accrualTotal)})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("p",{className:"text-xs text-stone-400 flex items-center gap-1",children:[f.jsx(Zh,{size:10})," /"]}),f.jsxs("p",{className:"font-mono text-stone-600 text-sm",children:[n(E.trafficTotal)," / ",f.jsx("span",{className:"text-stone-800 font-bold",children:n(E.newCustomersTotal)})]})]})]})]})};return f.jsxs(Yr,{children:[f.jsxs(Pt,{title:"",subtitle:"",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-end mb-4 gap-2",children:[f.jsxs("button",{onClick:A,className:"flex items-center justify-center gap-2 px-4 py-2 bg-stone-100 text-stone-600 rounded-xl text-sm font-bold hover:bg-stone-200 transition-colors",children:[f.jsx(K0,{size:16})," "]}),f.jsxs("button",{onClick:q,className:"flex items-center justify-center gap-2 px-4 py-2 bg-emerald-50 text-emerald-600 rounded-xl text-sm font-bold hover:bg-emerald-100 transition-colors border border-emerald-100",children:[f.jsx(dz,{size:16}),"  CSV"]})]}),f.jsx("div",{className:"block md:hidden",children:B.map((E,O)=>f.jsx(j,{store:E,index:O},E.name))}),f.jsx("div",{className:"hidden md:block w-full overflow-hidden rounded-2xl border border-stone-100",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-xs text-stone-500 uppercase sticky top-0 z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-16 text-center",children:""}),f.jsx("th",{className:"p-4 cursor-pointer hover:text-stone-700",onClick:()=>M("name"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>M("cashTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>M("achievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>M("accrualTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-blue-700 text-blue-600/80",onClick:()=>M("accrualAchievement"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>M("trafficTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>M("newCustomersTotal"),children:""}),f.jsx("th",{className:"p-4 cursor-pointer text-right hover:text-stone-700",onClick:()=>M("newCustomerClosingsTotal"),children:""})]})}),f.jsx("tbody",{className:"text-sm divide-y divide-stone-50",children:B.map((E,O)=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 text-center text-stone-400 font-bold",children:O+1}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:E.name.replace("CYJ","").replace("","")}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-stone-700",children:e(E.cashTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${E.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[E.achievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono font-bold text-blue-600",children:e(E.accrualTotal)}),f.jsxs("td",{className:`p-4 text-right font-mono font-bold ${E.accrualAchievement>=100?"text-emerald-500":"text-blue-400"}`,children:[E.accrualAchievement.toFixed(1),"%"]}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(E.trafficTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(E.newCustomersTotal)}),f.jsx("td",{className:"p-4 text-right font-mono text-stone-600",children:n(E.newCustomerClosingsTotal)})]},E.name))})]})})})]}),b&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(yA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>w(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(Ji,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(l).map(([E,O])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[E," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:O.map(R=>{const D=T.includes(R);return f.jsxs("button",{onClick:()=>L(R),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${D?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[D&&f.jsx(zs,{size:14}),R]},R)})})]},E))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:I,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(_c,{size:18})," "]})]})]})})]})},nfe=()=>{const{rawData:t,budgets:e,managers:n,selectedYear:r,selectedMonth:i,fmtMoney:s,fmtNum:l,currentUser:u,userRole:d,activeView:m}=_.useContext(Mr),[p,g]=_.useState(""),[b,w]=_.useState("");_.useEffect(()=>{m==="store-analysis"&&u&&n[u.name]&&g(u.name)},[m,u,n]),_.useEffect(()=>{const A=I=>w(I.detail);return window.addEventListener("navigate-to-store",A),()=>window.removeEventListener("navigate-to-store",A)},[]);const T=_.useMemo(()=>d==="director"?p?(n[p]||[]).map(A=>`CYJ${A}`):[]:d==="manager"?Object.values(n).flat().map(A=>`CYJ${A}`):d==="store"&&u?(u.stores||[u.storeName]).map(A=>A.startsWith("CYJ")?A:`CYJ${A}`):[],[p,n,u,d]);_.useEffect(()=>{u&&T.length===1&&!b&&w(T[0])},[u,T,b]);const S=_.useMemo(()=>{if(!b)return null;const A=parseInt(r),I=parseInt(i),L=A-1911,k=t.filter(z=>{if(z.storeName!==b||!z.date)return!1;const X=z.date.replace(/-/g,"/").split("/"),ce=parseInt(X[0]),K=parseInt(X[1]);return(ce===A||ce===L)&&K===I}).sort((z,X)=>{const ce=dr(z.date),K=dr(X.date);return ce.localeCompare(K)}),B=k.reduce((z,X)=>z+(X.cash||0),0),M=k.reduce((z,X)=>z+(X.refund||0),0),q=B-M,j=k.reduce((z,X)=>z+(X.traffic||0),0),E=k.reduce((z,X)=>z+(X.operationalAccrual||0),0),O=k.reduce((z,X)=>z+(X.newCustomers||0),0),R=k.reduce((z,X)=>z+(X.newCustomerSales||0),0),D=k.reduce((z,X)=>z+(X.newCustomerClosings||0),0),V=e[`${b}_${A}_${I}`]?.cashTarget||0;return{totalCash:q,achievement:V>0?q/V*100:0,trafficASP:j>0?Math.round(E/j):0,newCustomerASP:O>0?Math.round(R/O):0,totalNewCustomerClosings:D,totalRefund:M,dailyData:k.map(z=>({date:dr(z.date).split("/")[2],cash:(z.cash||0)-(z.refund||0),accrual:z.accrual||0,traffic:z.traffic})),budget:V}},[b,r,i,t,e]);return f.jsx(Yr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("select",{value:p,onChange:A=>g(A.target.value),disabled:d!=="director",className:"px-4 py-2 border rounded-xl",children:[f.jsx("option",{value:"",children:""}),Object.keys(n).map(A=>f.jsx("option",{value:A,children:A},A))]}),f.jsxs("select",{value:b,onChange:A=>w(A.target.value),className:"px-4 py-2 border rounded-xl",children:[f.jsx("option",{value:"",children:""}),T.map(A=>f.jsx("option",{value:A,children:A},A))]})]})}),b&&S&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.totalCash)}),f.jsxs("p",{className:`text-sm font-bold ${S.achievement>=100?"text-emerald-500":"text-amber-500"}`,children:[S.achievement.toFixed(1),"% "]})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.trafficASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.budget)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:s(S.newCustomerASP)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-stone-700",children:l(S.totalNewCustomerClosings)})]}),f.jsxs("div",{className:"bg-white p-5 rounded-2xl border shadow-sm",children:[f.jsx("p",{className:"text-stone-400 text-xs font-bold mb-1",children:""}),f.jsx("h3",{className:"text-2xl font-bold text-rose-500",children:s(S.totalRefund)})]})]}),f.jsx(Pt,{title:"",subtitle:"()",children:f.jsx("div",{className:"h-[400px] w-full",children:f.jsx(c0,{width:"100%",height:"100%",children:f.jsxs(gA,{data:S.dailyData,margin:{top:20,right:20,left:20,bottom:20},children:[f.jsx(q0,{strokeDasharray:"3 3",vertical:!1,stroke:"#e7e5e4"}),f.jsx(H0,{dataKey:"date",tick:{fontSize:12,fill:"#78716c"},axisLine:{stroke:"#e7e5e4"},tickLine:!1,dy:10}),f.jsx(Hu,{yAxisId:"left",width:80,tickFormatter:A=>A===0?"0":`$${(A/1e3).toFixed(0)}k`,tick:{fontSize:12,fill:"#f59e0b"},axisLine:!1,tickLine:!1,label:{value:" (NT$)",angle:-90,position:"insideLeft",fill:"#d6d3d1",fontSize:10}}),f.jsx(Hu,{yAxisId:"right",orientation:"right",allowDecimals:!1,tick:{fontSize:12,fill:"#0ea5e9"},axisLine:!1,tickLine:!1,label:{value:"",angle:90,position:"insideRight",fill:"#d6d3d1",fontSize:10}}),f.jsx(k0,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"},formatter:(A,I)=>I===""?[l(A),I]:[s(A),I],labelStyle:{color:"#78716c",marginBottom:"0.5rem",fontWeight:"bold"},cursor:{fill:"#f5f5f4",opacity:.6}}),f.jsx(p0,{verticalAlign:"top",height:36,iconType:"circle",wrapperStyle:{paddingBottom:"20px",fontSize:"12px",fontWeight:"bold"}}),f.jsx(fA,{yAxisId:"left",dataKey:"cash",name:" ()",fill:"#fbbf24",radius:[4,4,0,0],barSize:20,fillOpacity:.9}),f.jsx(Fu,{yAxisId:"left",type:"monotone",dataKey:"accrual",name:"",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6",strokeWidth:2,stroke:"#fff"},activeDot:{r:6}}),f.jsx(Fu,{yAxisId:"right",type:"monotone",dataKey:"traffic",name:"",stroke:"#0ea5e9",strokeWidth:2,strokeDasharray:"5 5",dot:{r:3,fill:"#0ea5e9",strokeWidth:2,stroke:"#fff"}})]})})})})]})]})})},rfe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!1),[i,s]=_.useState(1),l=20,u=new Date().toISOString().split("T")[0],[d,m]=_.useState({start:u,end:u}),p=()=>{r(!0),e([]);const A=new Date(d.start);A.setHours(0,0,0,0);const I=new Date(d.end);I.setHours(23,59,59,999);const L=Lu(oi(Be,"artifacts",ze,"public","data","system_logs"),ql("timestamp",">=",Mt.fromDate(A)),ql("timestamp","<=",Mt.fromDate(I)),HD(500));return Fr(L,B=>{let M=B.docs.map(q=>({id:q.id,...q.data()}));M.sort((q,j)=>{const E=q.timestamp?.toMillis?q.timestamp.toMillis():0;return(j.timestamp?.toMillis?j.timestamp.toMillis():0)-E}),e(M),r(!1)})};_.useEffect(()=>{const A=p();return()=>A()},[d]);const g=Math.ceil(t.length/l),b=t.slice((i-1)*l,i*l),w=A=>{if(!A)return"-";const I=A.toDate?A.toDate():new Date(A);return`${I.getMonth()+1}/${I.getDate()} ${I.getHours().toString().padStart(2,"0")}:${I.getMinutes().toString().padStart(2,"0")}`},T=A=>{switch(A){case"director":return f.jsx("span",{className:"bg-rose-100 text-rose-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"manager":return f.jsx("span",{className:"bg-teal-100 text-teal-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"store":return f.jsx("span",{className:"bg-amber-100 text-amber-600 px-2 py-0.5 rounded text-xs font-bold",children:""});case"therapist":return f.jsx("span",{className:"bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded text-xs font-bold",children:""});default:return f.jsx("span",{className:"bg-stone-100 text-stone-500 px-2 py-0.5 rounded text-xs",children:""})}},S=A=>A==="iOS"||A==="Android"||A==="Mobile"?f.jsxs("div",{className:"flex items-center gap-1 text-stone-500 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(gde,{size:12})," ",A]}):f.jsxs("div",{className:"flex items-center gap-1 text-stone-400 bg-stone-50 px-2 py-1 rounded text-xs w-max",children:[f.jsx(ide,{size:12})," PC"]});return f.jsx(Yr,{children:f.jsx("div",{className:"space-y-6 pb-20",children:f.jsxs(Pt,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-stone-700",children:""}),f.jsx("p",{className:"text-xs text-stone-400",children:""})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-stone-50 p-1.5 rounded-xl border border-stone-200 w-full md:w-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 px-2",children:[f.jsx(Ws,{size:14,className:"text-stone-400"}),f.jsx("span",{className:"text-xs font-bold text-stone-500 whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full sm:w-auto",children:[f.jsx("input",{type:"date",value:d.start,onChange:A=>m(I=>({...I,start:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"}),f.jsx("span",{className:"text-stone-300",children:"~"}),f.jsx("input",{type:"date",value:d.end,onChange:A=>m(I=>({...I,end:A.target.value})),className:"bg-white border border-stone-200 rounded-lg px-2 py-1 text-xs font-bold text-stone-600 outline-none focus:border-amber-400 flex-1 min-w-[110px]"})]})]})]}),n?f.jsxs("div",{className:"space-y-4 p-4 text-center text-stone-400 py-20",children:[f.jsx(lde,{className:"animate-spin mx-auto mb-2"}),f.jsx("p",{children:"..."})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"overflow-x-auto min-h-[400px] rounded-2xl border border-stone-100",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px]",children:[f.jsx("thead",{className:"bg-stone-50/50 text-stone-400 font-bold text-xs uppercase tracking-wider border-b border-stone-100",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-24",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4 w-32",children:""}),f.jsx("th",{className:"p-4",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50 text-sm bg-white",children:b.length>0?b.map(A=>f.jsxs("tr",{className:"hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"p-4 font-mono text-stone-400 text-xs",children:w(A.timestamp)}),f.jsx("td",{className:"p-4",children:S(A.device)}),f.jsx("td",{className:"p-4",children:T(A.role)}),f.jsx("td",{className:"p-4 font-bold text-stone-700",children:A.user}),f.jsx("td",{className:"p-4 font-medium text-stone-600",children:A.action}),f.jsx("td",{className:"p-4 text-stone-500 text-xs max-w-xs truncate",title:typeof A.details=="string"?A.details:JSON.stringify(A.details),children:typeof A.details=="string"?A.details:JSON.stringify(A.details)})]},A.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:"6",className:"p-10 text-center text-stone-400",children:""})})})]})}),g>1&&f.jsxs("div",{className:"flex justify-between items-center mt-4 pt-2 px-2",children:[f.jsxs("span",{className:"text-sm text-stone-400 font-medium",children:[" ",i," / ",g]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>s(A=>Math.max(1,A-1)),disabled:i===1,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(lz,{size:18})}),f.jsx("button",{onClick:()=>s(A=>Math.min(g,A+1)),disabled:i===g,className:"p-2 border-2 border-stone-100 rounded-xl hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed text-stone-500",children:f.jsx(cz,{size:18})})]})]})]})]})})})},ife=()=>{const{targets:t,setTargets:e,showToast:n,managers:r,storeAccounts:i,managerAuth:s,userRole:l,permissions:u,currentUser:d,therapists:m,therapistTargets:p,therapistSchedules:g,trainerAuth:b,handleUpdateTrainerAuth:w}=_.useContext(Mr),[T,S]=_.useState(""),[A,I]=_.useState(t),[L,k]=_.useState(u||wz),[B,M]=_.useState({name:"",password:"",stores:""}),[q,j]=_.useState(null),[E,O]=_.useState({name:"",password:"",stores:[]}),[R,D]=_.useState({name:"",password:""}),[V,z]=_.useState(null),[X,ce]=_.useState([]),[K,Z]=_.useState({name:"",manager:""}),[he,me]=_.useState(!1),[ee,$]=_.useState(null),[Y,Q]=_.useState(""),[ne,_e]=_.useState(""),[oe,we]=_.useState(""),[je,le]=_.useState(""),[Te,Ve]=_.useState("0000"),[xe,bt]=_.useState(""),qe=_.useMemo(()=>{const H=[],fe=u?.[l]||[];return[{id:"kpi",label:"KPI ",isAdminOnly:!0},{id:"permissions",label:"",isAdminOnly:!0},{id:"trainer-account",label:"",isAdminOnly:!0,icon:Zh},{id:"shops",label:"",isAdminOnly:!0},{id:"stores",label:"",isAdminOnly:!0},{id:"managers",label:"",isAdminOnly:!0},{id:"therapists",label:"",isAdminOnly:!0}].forEach(He=>{(l==="director"||!He.isAdminOnly&&He.permissionId&&fe.includes(He.permissionId))&&H.push(He)}),H},[l,u]);_.useEffect(()=>{if(qe.length>0){const H=qe.some(fe=>fe.id===T);(!T||!H)&&S(qe[0].id)}},[qe,T]),_.useMemo(()=>{let H=m.filter(fe=>fe.status==="active");if(l==="director"||l==="trainer")return H.sort((fe,Se)=>fe.store.localeCompare(Se.store));if(l==="manager"){const fe=r[d?.name]||[];return H.filter(Se=>fe.includes(Se.store)).sort((Se,He)=>Se.store.localeCompare(He.store))}if(l==="store"){const Se=(d?.stores||[d?.storeName]).map(He=>He.replace("CYJ","").replace("",""));return H.filter(He=>Se.includes(He.store))}return l==="therapist"?H.filter(fe=>fe.id===d?.id):[]},[m,l,d,r]);const zt=async()=>{if(!xe)return n("","error");await w(xe)?(n("","success"),bt("")):n("","error")};_.useEffect(()=>{u&&k(u)},[u]),_.useEffect(()=>{t&&I(t)},[t]);const $t=async()=>{try{await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","kpi_targets"),A),e(A),n("KPI ","success")}catch{n("","error")}},Bn=async()=>{try{await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","permissions"),L),n("","success")}catch{n("","error")}},Sr=(H,fe)=>{const Se=L[H]||[],He=Se.includes(fe)?Se.filter(xt=>xt!==fe):[...Se,fe];k({...L,[H]:He})},Qe="",Rt=async()=>{if(!K.name||!K.manager)return n("","error");try{const H=K.manager,fe=r[H]||[];await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[H]:[...fe,K.name]}}),Z({name:"",manager:""}),n("","success")}catch{n("","error")}},Er=async(H,fe)=>{if(confirm(fe===Qe?"":""))try{const Se=(r[fe]||[]).filter(xt=>xt!==H);let He={...r,[fe]:Se};if(fe!==Qe){const xt=r[Qe]||[];xt.includes(H)||(He[Qe]=[...xt,H])}await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:He}),n(fe===Qe?"":"","success")}catch{n("","error")}},Ha=async H=>{try{const fe=r[H]||[],Se=X,He=fe.filter(Ar=>!Se.includes(Ar)),xt=Se.filter(Ar=>!fe.includes(Ar));let tr=[...r[Qe]||[],...He];tr=tr.filter(Ar=>!xt.includes(Ar)),tr=[...new Set(tr)];const dl={...r,[H]:Se,[Qe]:tr};await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:dl}),z(null),n("","success")}catch(fe){console.error(fe),n("","error")}},Xs=_.useMemo(()=>{const H=Object.values(r).flat(),fe=i.flatMap(Se=>Se.stores||[]);return H.filter(Se=>!fe.includes(Se)).sort()},[r,i]),un=_.useMemo(()=>(r[Qe]||[]).sort(),[r]),Xr=_.useMemo(()=>{const H=Object.values(r).flat(),fe=i.filter(Se=>Se.id!==q?.id).flatMap(Se=>Se.stores||[]);return H.filter(Se=>!fe.includes(Se)&&!E.stores.includes(Se)).sort()},[r,i,q,E]),Vi=async()=>{if(!B.name||!B.password)return n("","error");const H={id:$de(),...B,stores:B.stores?[B.stores]:[]};try{await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:[...i,H]}),M({name:"",password:"",stores:""}),n("","success")}catch{n("","error")}},Ui=H=>{j(H),O({name:H.name,password:H.password,stores:H.stores||[]})},Qr=H=>{H&&!E.stores.includes(H)&&O({...E,stores:[...E.stores,H]})},Ka=H=>{O({...E,stores:E.stores.filter(fe=>fe!==H)})},aa=async()=>{if(!E.name)return;const H=i.map(fe=>fe.id===q.id?{...fe,...E}:fe);await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:H}),j(null),n("","success")},Ga=async H=>{if(!confirm("?"))return;const fe=i.filter(Se=>Se.id!==H);await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:fe}),n("","success")},Ya=async()=>{if(R.name)try{await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:{...r,[R.name]:[]}},{merge:!0}),await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","manager_auth"),{[R.name]:R.password},{merge:!0}),D({name:"",password:""}),n("","success")}catch{n("","error")}},er=H=>{H&&(X.includes(H)||ce([...X,H]))},dn=H=>{ce(X.filter(fe=>fe!==H))},$n=async H=>{if(!confirm("?"))return;const fe={...r};delete fe[H],await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),{managers:fe}),n("","success")},qt=async()=>{if(!je)return n("","error");try{await hS(oi(Be,"artifacts",ze,"public","data","therapists"),{name:je,store:oe,manager:ne,password:Te,status:"active",createdAt:rd()}),me(!1),le(""),n("","success")}catch{n("","error")}},Qs=async()=>{if(!ee)return;const H=lt(Be,"artifacts",ze,"public","data","therapists",ee.id);await Ng(H,{name:je,store:oe,manager:ne,password:Te}),$(null),n("","success")},sa=async H=>{const fe=lt(Be,"artifacts",ze,"public","data","therapists",H.id);await Ng(fe,{status:H.status==="active"?"resigned":"active"}),n("","success")},Zs=async H=>{confirm("?")&&(await GD(lt(Be,"artifacts",ze,"public","data","therapists",H)),n("","success"))},Dr=H=>{$(H),_e(H.manager||""),we(H.store),le(H.name),Ve(H.password)},mi=_.useMemo(()=>ne?r[ne]||[]:[],[ne,r]),Yt=_.useMemo(()=>m.filter(H=>(H.name||"").includes(Y)||(H.store||"").includes(Y)||H.status==="resigned"&&Y===""),[m,Y]);return qe.length===0?f.jsx(Yr,{children:f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"text-center py-10 text-stone-400",children:[f.jsx(Df,{size:48,className:"mx-auto mb-4 opacity-50"}),f.jsx("p",{children:""})]})})}):f.jsx(Yr,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-stone-800 shrink-0",children:""}),f.jsx("div",{className:"w-full xl:w-auto min-w-0 bg-white p-1 rounded-xl shadow-sm border border-stone-100 flex overflow-x-auto no-scrollbar",children:qe.map(H=>f.jsxs("button",{onClick:()=>S(H.id),className:`px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap transition-all flex items-center gap-1 ${T===H.id?"bg-stone-800 text-white shadow":"text-stone-500 hover:bg-stone-50"}`,children:[H.icon&&f.jsx(H.icon,{size:14}),H.label]},H.id))})]}),T==="kpi"&&f.jsx(Pt,{title:"KPI ",subtitle:"",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:A.newASP,onChange:H=>I({...A,newASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"number",value:A.trafficASP,onChange:H=>I({...A,trafficASP:Number(H.target.value)}),className:"w-full px-4 py-3 border-2 rounded-xl"})]}),f.jsx("button",{onClick:$t,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold",children:" KPI "})]})}),T==="trainer-account"&&f.jsx(Pt,{title:"",subtitle:"/",children:f.jsxs("div",{className:"max-w-md space-y-6",children:[f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("p",{className:"text-xs font-bold text-stone-400 uppercase mb-1",children:""}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"font-bold text-stone-700",children:" (Trainer)"}),f.jsx("span",{className:"font-mono bg-white px-3 py-1 rounded border text-stone-500",children:b?.password||"0000"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-stone-500 mb-2",children:""}),f.jsx("input",{type:"text",value:xe,onChange:H=>bt(H.target.value),placeholder:"",className:"w-full px-4 py-3 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsx("button",{onClick:zt,className:"w-full bg-stone-800 text-white py-3 rounded-xl font-bold hover:bg-stone-900 shadow-lg",children:""})]})}),T==="permissions"&&f.jsxs(Pt,{title:"",subtitle:"",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-stone-200",children:[f.jsx("th",{className:"p-4 font-bold text-stone-500",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-rose-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-teal-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-amber-50/50",children:""}),f.jsx("th",{className:"p-4 font-bold text-stone-700 text-center bg-indigo-50/50",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:gc.map(H=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsxs("td",{className:"p-4 flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-stone-100 rounded-lg text-stone-500",children:f.jsx(H.icon,{size:18})}),f.jsx("span",{className:"font-bold text-stone-700",children:H.label})]}),f.jsx("td",{className:"p-4 text-center bg-rose-50/30",children:f.jsx("input",{type:"checkbox",checked:L.trainer?.includes(H.id),onChange:()=>Sr("trainer",H.id),className:"w-5 h-5 rounded border-stone-300 text-rose-600 focus:ring-rose-500 cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-teal-50/30",children:f.jsx("input",{type:"checkbox",checked:L.manager?.includes(H.id),onChange:()=>Sr("manager",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-amber-50/30",children:f.jsx("input",{type:"checkbox",checked:L.store?.includes(H.id),onChange:()=>Sr("store",H.id),className:"w-5 h-5 rounded cursor-pointer"})}),f.jsx("td",{className:"p-4 text-center bg-indigo-50/30",children:f.jsx("input",{type:"checkbox",checked:L.therapist?.includes(H.id),onChange:()=>Sr("therapist",H.id),className:"w-5 h-5 rounded cursor-pointer"})})]},H.id))})]})}),f.jsx("div",{className:"mt-6 flex justify-end",children:f.jsx("button",{onClick:Bn,className:"bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-lg active:scale-95 transition-all",children:""})})]}),T==="shops"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:K.name,onChange:H=>Z({...K,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:K.manager,onChange:H=>Z({...K,manager:H.target.value}),className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(r).map(H=>f.jsxs("option",{value:H,children:[H," "]},H))]}),f.jsx(B1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("button",{onClick:Rt,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(qp,{size:18})," "]})]})}),f.jsx(Pt,{title:"",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(r).map(([H,fe])=>f.jsxs("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 border-b border-stone-200 pb-2",children:[f.jsxs("span",{className:`font-bold ${H===Qe?"text-stone-400":"text-stone-700"}`,children:[H," "]}),f.jsxs("span",{className:"text-xs text-stone-400 ml-auto",children:[fe.length," "]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:fe.map(Se=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:`px-3 py-1.5 border rounded-lg text-xs font-bold shadow-sm pr-7 ${H===Qe?"bg-stone-100 text-stone-400 border-stone-200":"bg-white text-stone-600 border-stone-200"}`,children:Se}),f.jsx("button",{onClick:()=>Er(Se,H),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(Ji,{size:12})})]},Se))})]},H))})})]}),T==="stores"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" / "}),f.jsx("input",{type:"text",value:B.name,onChange:H=>M({...B,name:H.target.value}),placeholder:": ",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:B.password,onChange:H=>M({...B,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"relative w-full",children:[f.jsx(ki,{size:16,className:"absolute left-3 top-3 text-stone-400 pointer-events-none"}),f.jsxs("select",{value:B.stores,onChange:H=>M({...B,stores:H.target.value}),className:"w-full pl-10 pr-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold appearance-none bg-white text-stone-700",children:[f.jsx("option",{value:"",children:"..."}),Xs.map(H=>f.jsx("option",{value:H,children:H},H))]}),f.jsx(B1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]}),f.jsx("button",{onClick:Vi,className:"bg-stone-800 text-white px-4 rounded-xl font-bold shrink-0 hover:bg-stone-700",children:f.jsx(qp,{size:20})})]})]})]})}),f.jsx(Pt,{title:"",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-stone-50 font-bold text-stone-500 uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 rounded-tl-xl",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4",children:""}),f.jsx("th",{className:"p-4 rounded-tr-xl text-right",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:i.map(H=>f.jsxs("tr",{className:"hover:bg-stone-50",children:[f.jsx("td",{className:"p-4 font-bold text-stone-700",children:H.name}),f.jsx("td",{className:"p-4 font-mono text-stone-500",children:H.password}),f.jsx("td",{className:"p-4",children:f.jsx("div",{className:"flex flex-wrap gap-1",children:H.stores&&H.stores.map(fe=>f.jsx("span",{className:"px-2 py-1 bg-stone-100 rounded text-xs font-bold text-stone-600",children:fe},fe))})}),f.jsxs("td",{className:"p-4 text-right flex justify-end gap-1",children:[f.jsx("button",{onClick:()=>Ui(H),className:"text-stone-400 hover:text-stone-600 hover:bg-stone-100 p-2 rounded-lg transition-colors",children:f.jsx(gz,{size:18})}),f.jsx("button",{onClick:()=>Ga(H.id),className:"text-rose-400 hover:text-rose-600 hover:bg-rose-50 p-2 rounded-lg transition-colors",children:f.jsx(ag,{size:18})})]})]},H.id))})]})})}),q&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:""}),f.jsx("button",{onClick:()=>j(null),children:f.jsx(Ji,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" / "}),f.jsx("input",{type:"text",value:E.name,onChange:H=>O({...E,name:H.target.value}),className:"w-full p-2 border rounded-lg font-bold"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:E.password,onChange:H=>O({...E,password:H.target.value}),className:"w-full p-2 border rounded-lg font-mono"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ()"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-2 p-2 bg-stone-50 rounded-lg min-h-[40px]",children:E.stores.map(H=>f.jsxs("span",{className:"px-2 py-1 bg-white border border-stone-200 rounded text-xs font-bold text-stone-600 shadow-sm flex items-center gap-1",children:[H," ",f.jsx("button",{onClick:()=>Ka(H),className:"text-stone-300 hover:text-rose-500",children:f.jsx(Ji,{size:12})})]},H))}),f.jsx("div",{className:"relative",children:f.jsxs("select",{onChange:H=>{Qr(H.target.value),H.target.value=""},className:"w-full p-2 border rounded-lg font-bold bg-white",children:[f.jsx("option",{value:"",children:"+ "}),Xr.map(H=>f.jsx("option",{value:H,children:H},H))]})})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>j(null),className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:aa,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:""})]})]})]})})]}),T==="managers"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Pt,{title:"",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:R.name,onChange:H=>D({...R,name:H.target.value}),placeholder:": Jonas",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("input",{type:"text",value:R.password,onChange:H=>D({...R,password:H.target.value}),placeholder:"",className:"w-full px-4 py-2 border-2 border-stone-100 rounded-xl outline-none focus:border-amber-400 font-bold"})]}),f.jsxs("button",{onClick:Ya,className:"w-full md:w-auto bg-stone-800 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2",children:[f.jsx(qp,{size:18})," "]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(r).filter(([H])=>H!==Qe).map(([H,fe])=>f.jsxs(Pt,{className:"border border-stone-200",children:[f.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-3 mb-4",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[f.jsx(wc,{size:20,className:"text-amber-500"}),H," "]}),f.jsxs("p",{className:"text-xs text-stone-400 mt-1 font-mono",children:[": ",s[H]||""]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{z(H),ce(fe)},className:"text-xs bg-stone-100 text-stone-600 px-3 py-1.5 rounded-lg hover:bg-stone-200 font-bold whitespace-nowrap",children:""}),f.jsx("button",{onClick:()=>$n(H),className:"text-rose-400 hover:bg-rose-50 p-1.5 rounded-lg",children:f.jsx(ag,{size:16})})]})]}),V===H?f.jsxs("div",{className:"mt-4 animate-in fade-in bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-2",children:""}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:X.map(Se=>f.jsxs("div",{className:"group relative flex items-center",children:[f.jsx("span",{className:"px-3 py-1.5 bg-white border border-stone-200 rounded-lg text-xs font-bold text-stone-600 shadow-sm pr-7",children:Se}),f.jsx("button",{onClick:()=>dn(Se),className:"absolute right-1 p-1 text-stone-300 hover:text-rose-500 transition-colors",children:f.jsx(Ji,{size:12})})]},Se))}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:" ()"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{onChange:Se=>{er(Se.target.value),Se.target.value=""},className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white appearance-none text-stone-700",children:[f.jsx("option",{value:"",children:"+ "}),un.filter(Se=>!X.includes(Se)).map(Se=>f.jsx("option",{value:Se,children:Se},Se))]}),f.jsx(B1,{size:16,className:"absolute right-3 top-3 text-stone-400 pointer-events-none"})]})]}),f.jsxs("div",{className:"flex gap-2 justify-end",children:[f.jsx("button",{onClick:()=>z(null),className:"px-3 py-1.5 text-xs font-bold text-stone-400 hover:text-stone-600",children:""}),f.jsx("button",{onClick:()=>Ha(H),className:"px-4 py-1.5 bg-stone-800 text-white text-xs font-bold rounded-lg hover:bg-stone-700 shadow-sm",children:""})]})]}):f.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:fe.map(Se=>f.jsx("span",{className:"px-2.5 py-1 bg-stone-50 border border-stone-100 rounded-lg text-xs font-bold text-stone-600",children:Se},Se))})]},H))})]}),T==="therapists"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Pt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[f.jsxs("div",{className:"relative w-full md:w-64",children:[f.jsx(xA,{className:"absolute left-3 top-2.5 text-stone-400",size:16}),f.jsx("input",{type:"text",placeholder:"...",value:Y,onChange:H=>Q(H.target.value),className:"w-full pl-9 pr-4 py-2 bg-stone-50 border border-stone-200 rounded-xl outline-none focus:border-amber-400"})]}),f.jsxs("button",{onClick:()=>me(!0),className:"w-full md:w-auto px-4 py-2 bg-stone-800 text-white rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-stone-700 transition-colors",children:[f.jsx(qp,{size:18})," "]})]})}),(he||ee)&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95",children:[f.jsxs("div",{className:"bg-amber-400 p-4 font-bold text-white flex justify-between items-center",children:[f.jsx("span",{children:ee?"":""}),f.jsx("button",{onClick:()=>{me(!1),$(null)},children:f.jsx(Ji,{size:20})})]}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:ne,onChange:H=>{_e(H.target.value),we("")},className:"w-full p-2 border rounded-lg font-bold bg-stone-50",children:[f.jsx("option",{value:"",children:""}),Object.keys(r).map(H=>f.jsxs("option",{value:H,children:[H,""]},H))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsxs("select",{value:oe,onChange:H=>we(H.target.value),className:"w-full p-2 border rounded-lg font-bold bg-stone-50",disabled:!ne,children:[f.jsx("option",{value:"",children:""}),mi.map(H=>f.jsx("option",{value:H,children:H},H))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:""}),f.jsx("input",{type:"text",value:je,onChange:H=>le(H.target.value),className:"w-full p-2 border rounded-lg font-bold",placeholder:""})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-stone-400 block mb-1",children:" ( 0000)"}),f.jsx("input",{type:"text",value:Te,onChange:H=>Ve(H.target.value),className:"w-full p-2 border rounded-lg font-mono",placeholder:"0000"})]}),f.jsxs("div",{className:"pt-4 flex gap-3",children:[f.jsx("button",{onClick:()=>{me(!1),$(null)},className:"flex-1 py-3 bg-stone-100 text-stone-500 rounded-xl font-bold",children:""}),f.jsx("button",{onClick:ee?Qs:qt,className:"flex-1 py-3 bg-stone-800 text-white rounded-xl font-bold",children:ee?"":""})]})]})]})}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Yt.map(H=>f.jsxs("div",{className:`bg-white p-4 rounded-xl border-l-4 shadow-sm flex flex-col gap-2 ${H.status==="resigned"?"border-stone-200 opacity-60":"border-amber-400"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-xs text-stone-400 font-bold mb-1 flex items-center gap-1",children:[f.jsx(ki,{size:12})," ",H.store,""]}),f.jsxs("div",{className:"text-lg font-bold text-stone-700 flex items-center gap-2",children:[H.name,H.status==="resigned"&&f.jsx("span",{className:"text-[10px] bg-stone-100 px-2 rounded text-stone-500",children:""})]})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Dr(H),className:"p-2 hover:bg-stone-100 rounded-lg text-stone-400",title:"",children:f.jsx(_de,{size:16})}),f.jsx("button",{onClick:()=>sa(H),className:`p-2 rounded-lg ${H.status==="active"?"hover:bg-rose-50 text-stone-400 hover:text-rose-500":"hover:bg-emerald-50 text-stone-400 hover:text-emerald-600"}`,title:H.status==="active"?"":"",children:H.status==="active"?f.jsx(_z,{size:16}):f.jsx(xz,{size:16})})]})]}),f.jsxs("div",{className:"mt-2 pt-2 border-t border-stone-100 flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"text-stone-400 font-mono text-xs flex items-center gap-1",children:[f.jsx(que,{size:12})," : ",H.password]}),f.jsx("button",{onClick:()=>Zs(H.id),className:"text-stone-300 hover:text-rose-400",children:f.jsx(ag,{size:14})})]})]},H.id))})]})]})})},afe=()=>{const{managers:t,showToast:e,budgets:n,selectedYear:r,selectedMonth:i,rawData:s,therapists:l,therapistReports:u,therapistSchedules:d,userRole:m,therapistTargets:p,auditExclusions:g,handleUpdateAuditExclusions:b}=_.useContext(Mr),[w,T]=_.useState(Sz(new Date)),[S,A]=_.useState(m==="trainer"?"therapist-daily":"daily"),[I,L]=_.useState(!1),[k,B]=_.useState([]),M=()=>{B(g||[]),L(!0)},q=async()=>{await b(k),L(!1),e("","success")},j=$=>{B(Y=>Y.includes($)?Y.filter(Q=>Q!==$):[...Y,$])},E=_.useMemo(()=>Object.values(t).flat().filter(Y=>!g.includes(Y)).map(Y=>({id:Y,name:`${Y}`,stores:[Y]})),[t,g]),O=_.useMemo(()=>l.filter($=>$.status==="active").map($=>({id:$.id,name:$.name,stores:[$.id]})),[l]),R=_.useMemo(()=>s.map($=>({...$,storeName:$.storeName?$.storeName.replace(/CYJ|/g,""):"",date:dr($.date)})),[s]),D=_.useMemo(()=>{const $=u.map(_e=>({..._e,storeName:_e.therapistId,date:dr(_e.date)}));if(S!=="therapist-daily")return $;const Y=[],Q=parseInt(r),ne=parseInt(i);return new Date(Q,ne,0).getDate(),l.filter(_e=>_e.status==="active").forEach(_e=>{const oe=`${_e.id}_${Q}_${ne}`;(d[oe]?.daysOff||[]).forEach(le=>{const Te=`${Q}/${ne.toString().padStart(2,"0")}/${le.toString().padStart(2,"0")}`;Y.push({id:`ghost_${_e.id}_${Te}`,storeName:_e.id,date:Te,isGhost:!0,revenue:0})})}),[...$,...Y]},[u,S,r,i,l,d]),V=S==="therapist-daily",z=V?O:E,X=V?D:R,ce=_.useMemo(()=>{if(!w)return{submitted:[],missing:[],missingByManager:{}};const $=dr(w),Y=new Set(s.filter(ne=>dr(ne.date)===$).map(ne=>ne.storeName)),Q={};return Object.entries(t).forEach(([ne,_e])=>{const oe=[];_e.forEach(we=>{if(g.includes(we))return;const je=`CYJ${we}`;!Y.has(je)&&!Y.has(we)&&oe.push(je)}),oe.length&&(Q[ne]=oe)}),{submitted:Array.from(Y),missing:Object.values(Q).flat(),missingByManager:Q}},[w,s,t,g]),K=_.useMemo(()=>{const $={},Y=parseInt(r),Q=parseInt(i);return Object.entries(t).forEach(([ne,_e])=>{const oe=[];_e.forEach(we=>{if(g.includes(we))return;const je=`CYJ${we}`,le=`${je}_${Y}_${Q}`,Te=n[le];(!Te||!Te.cashTarget&&!Te.accrualTarget)&&oe.push(je)}),oe.length&&($[ne]=oe)}),{missing:Object.values($).flat(),missingByManager:$}},[n,t,r,i,g]),Z=_.useMemo(()=>{if(!w)return{missing:[],missingByManager:{}};const $=new Date(w),Y=dr(w),Q=$.getFullYear().toString(),ne=$.getMonth()+1,_e=$.getDate(),oe=new Set((u||[]).filter(je=>dr(je.date)===Y).map(je=>je.therapistId)),we={};return(l||[]).filter(je=>je.status==="active").forEach(je=>{const le=`${je.id}_${Q}_${ne}`;if(!d[le]?.daysOff?.includes(_e)&&!oe.has(je.id)){const xe=je.manager||"";we[xe]||(we[xe]=[]),we[xe].push(`${je.name} (${je.store})`)}}),{missing:Object.values(we).flat(),missingByManager:we}},[w,l,u,d]),he=_.useMemo(()=>{const $={},Y=r,Q=parseInt(i).toString();return(l||[]).filter(ne=>ne.status==="active").forEach(ne=>{const _e=`${ne.id}_${Y}`,we=p[_e]?.monthlyTargets?.[Q];if(!(we&&parseInt(we)>0)){const le=ne.manager||"";$[le]||($[le]=[]),$[le].push(`${ne.name} (${ne.store})`)}}),{missing:Object.values($).flat(),missingByManager:$}},[l,p,r,i]),me=S==="daily"?ce:S==="target"?K:S==="therapist-daily"?Z:he,ee=()=>{let $="";S==="target"?$=`(${r}/${i})
`:S==="therapist-target"?$=`(${r}/${i})
`:S==="therapist-daily"?$=`(${w})
`:$=`(${w})
`,Object.entries(me.missingByManager).forEach(([Y,Q])=>{const ne=Q.map(_e=>S.includes("therapist")?_e:_e.replace("CYJ","").replace("",""));$+=`${Y}${ne.join("")}
`}),navigator.clipboard.writeText($),e("","success")};return f.jsxs(Yr,{children:[f.jsxs(Pt,{title:"",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"bg-stone-100 p-1 rounded-xl flex shrink-0 self-start overflow-x-auto max-w-full",children:[m!=="trainer"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>A("daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>A("target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsx("button",{onClick:()=>A("therapist-daily"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="therapist-daily"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""}),f.jsx("button",{onClick:()=>A("therapist-target"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${S==="therapist-target"?"bg-white text-stone-800 shadow-sm":"text-stone-400 hover:text-stone-600"}`,children:""})]}),f.jsxs("div",{className:"flex gap-2 items-center w-full sm:w-auto",children:[S==="daily"||S==="therapist-daily"?f.jsx("div",{className:"w-full sm:w-auto relative z-10",children:f.jsx(Ez,{selectedDate:w,onDateSelect:T,stores:z,salesData:X})}):f.jsxs("div",{className:"px-4 py-2 bg-indigo-50 text-indigo-600 font-bold rounded-xl text-sm border border-indigo-100 flex items-center gap-2 self-start flex-grow",children:[f.jsx(Qh,{size:16})," ",r,"  ",i," "]}),(m==="director"||m==="manager")&&(S==="daily"||S==="target")&&f.jsx("button",{onClick:M,className:"p-2 bg-stone-100 text-stone-500 rounded-xl hover:bg-stone-200",title:"",children:f.jsx(K0,{size:20})})]})]}),(S==="daily"||S==="therapist-daily")&&f.jsxs("div",{className:"flex items-center gap-4 text-sm font-medium text-stone-600 self-start md:self-center pl-1 hidden md:flex",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-emerald-400 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-rose-500 shadow-sm"}),f.jsx("span",{className:"whitespace-nowrap",children:""})]})]})]}),f.jsxs("div",{className:"border border-rose-100 rounded-3xl overflow-hidden shadow-sm mb-8",children:[f.jsxs("div",{className:"bg-rose-50 px-6 py-4 flex justify-between items-center flex-wrap gap-2",children:[f.jsxs("h4",{className:"font-bold text-rose-600 flex items-center gap-2",children:[f.jsx(Ku,{size:20}),S==="therapist-daily"?" ()":S==="therapist-target"?"":"",f.jsx("span",{className:"bg-white px-2 py-0.5 rounded-full text-xs border border-rose-200 shadow-sm",children:me.missing.length})]}),f.jsx("button",{onClick:ee,className:"text-xs bg-white text-rose-500 px-4 py-2 rounded-xl border border-rose-200 font-bold hover:bg-rose-50 transition-colors",children:""})]}),f.jsxs("div",{className:"p-6 bg-white grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.entries(me.missingByManager).map(([$,Y])=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-2xl border border-stone-100",children:[f.jsxs("div",{className:"font-bold text-stone-600 mb-2",children:[$," "]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map((Q,ne)=>f.jsxs("span",{className:"bg-white px-2 py-1 rounded-lg text-xs border border-stone-200 text-stone-600 font-medium flex items-center gap-1",children:[S.includes("therapist")&&f.jsx(_z,{size:10,className:"text-rose-400"}),S.includes("therapist")?Q:Q.replace("CYJ","").replace("","")]},ne))})]},$)),me.missing.length===0&&f.jsx("div",{className:"col-span-3 text-center py-10",children:f.jsxs("div",{className:"inline-flex flex-col items-center gap-2 text-emerald-500 font-bold text-lg",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center mb-2",children:f.jsx(zs,{size:24})}),"",S==="therapist-daily"&&f.jsx("span",{className:"text-xs text-stone-400 font-normal",children:""})]})})]})]})]}),I&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(yA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>L(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(Ji,{size:20})})]}),f.jsx("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]})}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(t).map(([$,Y])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[$," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Y.map(Q=>{const ne=k.includes(Q);return f.jsxs("button",{onClick:()=>j(Q),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${ne?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[ne&&f.jsx(zs,{size:14}),Q]},Q)})})]},$))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:q,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(_c,{size:18})," "]})]})]})})]})},sfe=(t,e,n,r,i)=>_.useMemo(()=>{const s=parseInt(r),l=parseInt(i),u=s-1911,d=t.filter(j=>{if(!j.date)return!1;const E=j.date.replace(/-/g,"/"),[O]=E.split("/").map(Number);return O===s||O===u}),m=d.reduce((j,E)=>({cash:j.cash+(E.cash||0)-(E.refund||0),accrual:j.accrual+(E.accrual||0)}),{cash:0,accrual:0});let p={cash:0,accrual:0};const g=Object.values(e).flat().map(j=>`CYJ${j}`);for(let j=1;j<=12;j++)g.forEach(E=>{const O=`${E}_${s}_${j}`;n[O]&&(p.cash+=n[O].cashTarget||0,p.accrual+=n[O].accrualTarget||0)});const b={cashActual:m.cash,cashTarget:p.cash,cashAchievement:p.cash>0?m.cash/p.cash*100:0,accrualActual:m.accrual,accrualTarget:p.accrual,accrualAchievement:p.accrual>0?m.accrual/p.accrual*100:0},w=d.filter(j=>{const E=j.date.replace(/-/g,"/"),[,O]=E.split("/").map(Number);return O===l}),T=[...new Set(w.map(j=>dr(j.date)))].sort(),S=T[T.length-1]||"",A=new Date(s,l,0).getDate();let I=1;S!==""&&(I=parseInt(S.split("/")[2]));const L=T.map(j=>{const E=w.filter(O=>dr(O.date)===j);return{date:j.split("/")[2],fullDate:j,cash:E.reduce((O,R)=>O+(R.cash||0)-(R.refund||0),0),traffic:E.reduce((O,R)=>O+(R.traffic||0),0)}}),B=Object.entries(e).flatMap(([j,E])=>E.map(O=>({name:`CYJ${O}`,manager:j}))).map(j=>{const E=w.filter(Q=>Q.storeName===j.name),O=E.reduce((Q,ne)=>Q+(ne.cash||0),0),R=E.reduce((Q,ne)=>Q+(ne.refund||0),0),D=O-R,V=E.reduce((Q,ne)=>Q+(ne.accrual||0),0),z=E.reduce((Q,ne)=>Q+(ne.operationalAccrual||0),0),X=E.reduce((Q,ne)=>Q+(ne.traffic||0),0),ce=E.reduce((Q,ne)=>Q+(ne.newCustomers||0),0),K=E.reduce((Q,ne)=>Q+(ne.newCustomerClosings||0),0),Z=E.reduce((Q,ne)=>Q+(ne.newCustomerSales||0),0),he=E.reduce((Q,ne)=>Q+(ne.skincareSales||0),0),me=E.reduce((Q,ne)=>Q+(ne.skincareRefund||0),0),ee=he-me,$=`${j.name}_${s}_${l}`,Y=n[$]||{cashTarget:0,accrualTarget:0};return{...j,cashTotal:D,accrualTotal:V,operationalAccrualTotal:z,trafficTotal:X,newCustomersTotal:ce,newCustomerClosingsTotal:K,newCustomerSalesTotal:Z,skincareSalesTotal:ee,skincareRefundTotal:me,refundTotal:R,cashBudget:Y.cashTarget,accrualBudget:Y.accrualTarget,projection:I>0?Math.round(D/I*A):0,achievement:Y.cashTarget>0?D/Y.cashTarget*100:0,trafficASP:X>0?Math.round(z/X):0,newCustomerASP:ce>0?Math.round(Z/ce):0}}),M=B.reduce((j,E)=>({cash:j.cash+E.cashTotal,accrual:j.accrual+E.accrualTotal,operationalAccrual:j.operationalAccrual+E.operationalAccrualTotal,skincareSales:j.skincareSales+E.skincareSalesTotal,skincareRefund:j.skincareRefund+E.skincareRefundTotal,traffic:j.traffic+E.trafficTotal,newCustomers:j.newCustomers+E.newCustomersTotal,newCustomerClosings:j.newCustomerClosings+E.newCustomerClosingsTotal,newCustomerSales:j.newCustomerSales+E.newCustomerSalesTotal,refund:j.refund+E.refundTotal,budget:j.budget+E.cashBudget,accrualBudget:j.accrualBudget+E.accrualBudget,projection:j.projection+E.projection}),{cash:0,accrual:0,operationalAccrual:0,skincareSales:0,skincareRefund:0,traffic:0,newCustomers:0,newCustomerClosings:0,newCustomerSales:0,refund:0,budget:0,accrualBudget:0,projection:0}),q=Object.entries(e).map(([j,E])=>{const O=B.filter($=>$.manager===j),R=O.reduce(($,Y)=>$+Y.cashTotal,0),D=O.reduce(($,Y)=>$+Y.accrualTotal,0),V=O.reduce(($,Y)=>$+Y.operationalAccrualTotal,0),z=O.reduce(($,Y)=>$+Y.cashBudget,0),X=O.reduce(($,Y)=>$+Y.skincareSalesTotal,0),ce=O.reduce(($,Y)=>$+Y.skincareRefundTotal,0),K=O.reduce(($,Y)=>$+Y.trafficTotal,0),Z=O.reduce(($,Y)=>$+Y.newCustomersTotal,0),he=O.reduce(($,Y)=>$+Y.newCustomerClosingsTotal,0),me=O.reduce(($,Y)=>$+Y.refundTotal,0),ee=K>0?Math.round(V/K):0;return{manager:j,cashTotal:R,accrualTotal:D,operationalAccrualTotal:V,skincareSalesTotal:X,skincareRefundTotal:ce,trafficTotal:K,newCustomersTotal:Z,newCustomerClosingsTotal:he,refundTotal:me,trafficASP:ee,achievement:z>0?R/z*100:0}});return{latestDate:S,daysPassed:I,daysInMonth:A,remainingDays:A-I,dailyTotals:L,storeList:B,grandTotal:M,regionalStats:q,yearlyStats:b,totalAchievement:M.budget>0?M.cash/M.budget*100:0,avgTrafficASP:M.traffic>0?Math.round(M.operationalAccrual/M.traffic):0,avgNewCustomerASP:M.newCustomers>0?Math.round(M.newCustomerSales/M.newCustomers):0,allDates:T}},[t,e,n,r,i]),ofe=()=>f.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 sm:gap-6 pb-2 select-none",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px]",style:{backgroundColor:"#fef3c7",border:"2px solid #fbbf24"}}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"flex items-center justify-center w-6",children:f.jsx("div",{className:"w-full h-0 border-t-2 border-dashed border-[#818cf8]"})}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("div",{className:"w-3 h-3 rounded-[2px] bg-[#f59e0b]"}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsxs("div",{className:"relative flex items-center justify-center w-6",children:[f.jsx("div",{className:"w-full h-[2px] bg-[#4f46e5]"}),f.jsx("div",{className:"absolute w-2.5 h-2.5 rounded-full bg-[#4f46e5]"})]}),f.jsx("span",{className:"text-xs font-bold text-stone-600",children:""})]})]}),lfe=()=>{const{rawData:t,budgets:e,managers:n,fmtMoney:r,fmtNum:i,selectedYear:s,auditExclusions:l,handleUpdateAuditExclusions:u,userRole:d,showToast:m}=_.useContext(Mr),[p,g]=_.useState(`${s}-01`),[b,w]=_.useState(`${s}-12`),[T,S]=_.useState(!1),[A,I]=_.useState([]);_.useEffect(()=>{g(`${s}-01`),w(`${s}-12`)},[s]);const L=()=>{I(l||[]),S(!0)},k=async()=>{await u(A),S(!1),m("","success")},B=R=>{I(D=>D.includes(R)?D.filter(V=>V!==R):[...D,R])},M=R=>{let D="01",V="03";switch(R){case 1:D="01",V="03";break;case 2:D="04",V="06";break;case 3:D="07",V="09";break;case 4:D="10",V="12";break;case"ALL":D="01",V="12";break}g(`${s}-${D}`),w(`${s}-${V}`)},q=_.useMemo(()=>p===`${s}-01`&&b===`${s}-03`?1:p===`${s}-04`&&b===`${s}-06`?2:p===`${s}-07`&&b===`${s}-09`?3:p===`${s}-10`&&b===`${s}-12`?4:p===`${s}-01`&&b===`${s}-12`?"ALL":null,[p,b,s]),j=_.useMemo(()=>{const R=Object.values(n).flat().filter(ee=>!l.includes(ee)).map(ee=>`CYJ${ee}`),D=[];let V=new Date(`${p}-01`);const z=new Date(`${b}-01`);for(V>z&&(V=new Date(`${p}-01`));V<=z;){const ee=V.getFullYear(),$=V.getMonth()+1;D.push({label:`${ee}/${$}`,y:ee,m:$,dateKey:`${ee}/${$.toString().padStart(2,"0")}`}),V.setMonth(V.getMonth()+1)}const X=D.map(ee=>({...ee,cash:0,accrual:0,traffic:0,budget:0,accrualBudget:0}));t.forEach(ee=>{const $=ee.storeName?ee.storeName.replace("CYJ","").replace("",""):"";if(l.includes($)||!ee.date)return;const Q=ee.date.replace(/-/g,"/").split("/"),ne=parseInt(Q[0]),_e=parseInt(Q[1]),oe=ne<1911?ne+1911:ne,we=X.find(je=>je.y===oe&&je.m===_e);we&&(we.cash+=(ee.cash||0)-(ee.refund||0),we.accrual+=ee.accrual||0,we.traffic+=ee.traffic||0)});let ce=0,K=0,Z=0,he=0,me=0;return X.forEach(ee=>{R.forEach($=>{const Y=`${$}_${ee.y}_${ee.m}`;e[Y]&&(ee.budget+=e[Y].cashTarget||0,ee.accrualBudget+=e[Y].accrualTarget||0)}),ee.achievement=ee.budget>0?ee.cash/ee.budget*100:0,ee.accrualAchievement=ee.accrualBudget>0?ee.accrual/ee.accrualBudget*100:0,ce+=ee.cash,K+=ee.budget,Z+=ee.accrual,he+=ee.accrualBudget,me+=ee.traffic}),{monthlyStats:X,totals:{cash:ce,budget:K,cashAch:K>0?ce/K*100:0,accrual:Z,accrualBudget:he,accrualAch:he>0?Z/he*100:0,traffic:me}}},[t,e,n,p,b,l]),{monthlyStats:E,totals:O}=j;return f.jsxs(Yr,{children:[f.jsxs("div",{className:"space-y-6 pb-12",children:[f.jsxs("div",{className:"flex flex-col gap-4 mb-2",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl shadow-sm",children:f.jsx(Ws,{size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-stone-800",children:""}),f.jsx("p",{className:"text-xs text-stone-500 font-medium",children:"Performance Analytics"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 self-start md:self-auto md:ml-auto",children:[f.jsxs("div",{className:"px-4 py-1.5 bg-stone-100 text-stone-500 text-xs font-bold rounded-full",children:[":  (",Object.values(n).flat().filter(R=>!l.includes(R)).length," )"]}),(d==="director"||d==="manager")&&f.jsx("button",{onClick:L,className:"p-1.5 bg-stone-100 text-stone-500 rounded-full hover:bg-stone-200 transition-colors",title:" ()",children:f.jsx(K0,{size:16})})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-stone-100 shadow-sm flex flex-col xl:flex-row items-start xl:items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap shrink-0",children:[f.jsx(hz,{size:18,className:"text-amber-500"}),f.jsx("span",{children:""})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.jsx("button",{onClick:()=>M("ALL"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${q==="ALL"?"bg-stone-800 text-white border-stone-800":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:""}),[1,2,3,4].map(R=>f.jsxs("button",{onClick:()=>M(R),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${q===R?"bg-amber-500 text-white border-amber-500 shadow-md shadow-amber-200":"bg-stone-50 text-stone-500 border-stone-200 hover:bg-stone-100"}`,children:["Q",R]},R))]}),f.jsx("div",{className:"hidden xl:block w-px h-8 bg-stone-200 mx-2"}),f.jsx("div",{className:"flex items-center gap-2 text-stone-600 font-bold text-sm whitespace-nowrap xl:ml-0 shrink-0",children:f.jsx("span",{children:""})}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("input",{type:"month",value:p,onChange:R=>g(R.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"}),f.jsx("span",{className:"text-stone-400",children:f.jsx(vA,{size:16})}),f.jsx("input",{type:"month",value:b,onChange:R=>w(R.target.value),className:"bg-stone-50 border border-stone-200 text-stone-700 text-sm rounded-lg focus:ring-amber-500 focus:border-amber-500 block w-full p-2 font-mono"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-2xl p-6 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:f.jsx(il,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-amber-100 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(Qh,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4",children:r(O.cash)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-amber-100",children:[f.jsxs("span",{children:[" ",r(O.budget)]}),f.jsxs("span",{children:[O.cashAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-black/20 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-white h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(O.cashAch,100)}%`}})})]})]})]}),f.jsxs("div",{className:"bg-white border-2 border-indigo-100 rounded-2xl p-6 shadow-sm relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 text-indigo-600",children:f.jsx(ec,{size:100})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("p",{className:"text-indigo-400 font-bold text-sm mb-1 flex items-center gap-1",children:[f.jsx(oz,{size:14})," "]}),f.jsx("h2",{className:"text-4xl font-extrabold font-mono tracking-tight mb-4 text-stone-700",children:r(O.accrual)}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-xs font-medium text-stone-400",children:[f.jsxs("span",{children:[" ",r(O.accrualBudget)]}),f.jsxs("span",{className:O.accrualAch>=100?"text-emerald-500":"text-stone-500",children:[O.accrualAch.toFixed(1),"%"]})]}),f.jsx("div",{className:"w-full bg-stone-100 h-2 rounded-full overflow-hidden",children:f.jsx("div",{className:"bg-indigo-500 h-full rounded-full transition-all duration-1000",style:{width:`${Math.min(O.accrualAch,100)}%`}})})]})]})]})]}),f.jsx(Pt,{title:"",subtitle:" vs  (/)",children:f.jsx("div",{className:"h-[350px] w-full",children:f.jsx(c0,{width:"100%",height:"100%",children:f.jsxs(gA,{data:E,margin:{top:20,right:0,left:0,bottom:0},children:[f.jsx(q0,{strokeDasharray:"3 3",vertical:!1,stroke:"#f5f5f4"}),f.jsx(H0,{dataKey:"label",tick:{fontSize:12,fill:"#78716c"},axisLine:!1,tickLine:!1,dy:10}),f.jsx(Hu,{width:50,tick:{fontSize:11,fill:"#a8a29e"},axisLine:!1,tickLine:!1,tickFormatter:R=>`${(R/1e4).toFixed(0)}`}),f.jsx(k0,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},formatter:R=>r(R),itemSorter:R=>({:1,:2,:3,:4})[R.name]||99}),f.jsx(p0,{content:f.jsx(ofe,{}),verticalAlign:"top",height:36}),f.jsx(dA,{type:"monotone",dataKey:"budget",name:"",stroke:"#fbbf24",fill:"#fef3c7",strokeWidth:2,fillOpacity:.5}),f.jsx(Fu,{type:"monotone",dataKey:"accrualBudget",name:"",stroke:"#818cf8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),f.jsx(fA,{dataKey:"cash",name:"",barSize:12,radius:[4,4,0,0],fill:"#f59e0b"}),f.jsx(Fu,{type:"monotone",dataKey:"accrual",name:"",stroke:"#4f46e5",strokeWidth:3,dot:{r:3}})]})})})}),f.jsx(Pt,{title:"",children:f.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:f.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[f.jsx("thead",{className:"text-stone-400 font-bold border-b border-stone-100 text-xs uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"pb-3 pl-2",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-500/60",children:""}),f.jsx("th",{className:"pb-3 text-right text-amber-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-400/60 pl-4 border-l border-dashed border-stone-200",children:""}),f.jsx("th",{className:"pb-3 text-right text-indigo-600",children:""}),f.jsx("th",{className:"pb-3 text-right",children:""}),f.jsx("th",{className:"pb-3 text-right pl-4 border-l border-dashed border-stone-200",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-50",children:E.map((R,D)=>f.jsxs("tr",{className:"group hover:bg-stone-50 transition-colors",children:[f.jsx("td",{className:"py-4 pl-2 font-bold text-stone-700",children:R.label}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs",children:r(R.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-700 font-bold",children:r(R.cash)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${R.achievement>=100?"bg-amber-100 text-amber-700":"bg-stone-100 text-stone-400"}`,children:[R.achievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-400 text-xs pl-4 border-l border-dashed border-stone-100",children:r(R.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600 font-bold",children:r(R.accrual)}),f.jsx("td",{className:"py-4 text-right font-bold",children:f.jsxs("span",{className:`px-2 py-1 rounded-md text-xs ${R.accrualAchievement>=100?"bg-indigo-100 text-indigo-700":"bg-stone-100 text-stone-400"}`,children:[R.accrualAchievement.toFixed(1),"%"]})}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-600 pl-4 border-l border-dashed border-stone-100",children:i(R.traffic)})]},D))}),f.jsx("tfoot",{className:"bg-stone-50 font-bold text-stone-800 border-t-2 border-stone-100",children:f.jsxs("tr",{children:[f.jsx("td",{className:"py-4 pl-2 text-stone-500",children:""}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs",children:r(O.budget)}),f.jsx("td",{className:"py-4 text-right font-mono text-amber-600",children:r(O.cash)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[O.cashAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono text-stone-500 text-xs pl-4 border-l border-dashed border-stone-200",children:r(O.accrualBudget)}),f.jsx("td",{className:"py-4 text-right font-mono text-indigo-600",children:r(O.accrual)}),f.jsxs("td",{className:"py-4 text-right text-emerald-600",children:[O.accrualAch.toFixed(1),"%"]}),f.jsx("td",{className:"py-4 text-right font-mono pl-4 border-l border-dashed border-stone-200",children:i(O.traffic)})]})})]})})})]}),T&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:"bg-stone-800 text-white p-4 font-bold text-lg flex justify-between items-center shrink-0",children:[f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx(yA,{size:20,className:"text-rose-400"})," "]}),f.jsx("button",{onClick:()=>S(!1),className:"hover:bg-white/10 p-1 rounded-lg transition-colors",children:f.jsx(Ji,{size:20})})]}),f.jsxs("div",{className:"p-4 bg-stone-50 border-b border-stone-200 shrink-0 text-sm text-stone-500",children:[f.jsxs("p",{children:[" ",f.jsx("span",{className:"font-bold text-rose-500",children:""})," "]}),f.jsx("p",{className:"text-xs mt-1 text-stone-400",children:"()"})]}),f.jsx("div",{className:"p-6 overflow-y-auto space-y-6",children:Object.entries(n).map(([R,D])=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-stone-400 text-xs uppercase mb-2 ml-1",children:[R," "]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:D.map(V=>{const z=A.includes(V);return f.jsxs("button",{onClick:()=>B(V),className:`px-3 py-2 rounded-xl text-sm font-bold border-2 transition-all flex items-center justify-center gap-2 ${z?"bg-rose-50 border-rose-500 text-rose-600 shadow-sm":"bg-white border-stone-200 text-stone-500 hover:border-stone-400"}`,children:[z&&f.jsx(zs,{size:14}),V]},V)})})]},R))}),f.jsxs("div",{className:"p-4 border-t border-stone-100 bg-white shrink-0 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>S(!1),className:"px-6 py-2.5 rounded-xl font-bold text-stone-500 hover:bg-stone-50",children:""}),f.jsxs("button",{onClick:k,className:"px-6 py-2.5 rounded-xl font-bold bg-stone-800 text-white hover:bg-stone-700 shadow-lg flex items-center gap-2",children:[f.jsx(_c,{size:18})," "]})]})]})})]})},cfe=()=>{const{userRole:t,managers:e,currentUser:n,budgets:r,showToast:i,logActivity:s}=_.useContext(Mr),l=new Date().getFullYear(),[u,d]=_.useState(l),[m,p]=_.useState(""),[g,b]=_.useState(""),[w,T]=_.useState(!1),[S,A]=_.useState(Array.from({length:12},(M,q)=>({month:q+1,cashTarget:"",accrualTarget:""}))),I=_.useMemo(()=>m?(e[m]||[]).map(M=>`CYJ${M}`):t==="store"&&n?(n.stores||[n.storeName]).map(M=>M.startsWith("CYJ")?M:`CYJ${M}`):[],[m,e,t,n]);_.useEffect(()=>{if(t==="store"&&n){const M=n.stores||[n.storeName];if(M.length>0){const q=M[0].replace("CYJ","").replace("",""),j=Object.keys(e).find(O=>e[O].includes(q));j&&p(j);const E=M[0].startsWith("CYJ")?M[0]:`CYJ${M[0]}`;b(E)}}else t==="manager"&&n&&p(n.name)},[t,n,e]),_.useEffect(()=>{if(!g)return;const M=Array.from({length:12},(q,j)=>{const E=j+1,O=`${g}_${u}_${E}`,R=r[O];return{month:E,cashTarget:R?tc(R.cashTarget):"",accrualTarget:R?tc(R.accrualTarget):""}});A(M)},[g,u,r]);const L=M=>{if(t==="director"||t==="manager")return!1;const q=M+1,j=`${g}_${u}_${q}`,E=r[j];return!!(E&&(E.cashTarget>0||E.accrualTarget>0))},k=(M,q,j)=>{if(L(M))return;const E=j.replace(/,/g,"");/^\d*$/.test(E)&&A(O=>{const R=[...O];return R[M]={...R[M],[q]:tc(E)},R})},B=async()=>{if(!g){i("","error");return}T(!0);try{const M=lF(Be);let q=!1;if(S.forEach((j,E)=>{if(L(E))return;const O=lr(j.cashTarget),R=lr(j.accrualTarget);if(O>0||R>0){const D=`${g}_${u}_${j.month}`,V=lt(Be,"artifacts",ze,"public","data","monthly_targets",D);M.set(V,{cashTarget:O,accrualTarget:R,updatedAt:new Date().toISOString(),updatedBy:n?.name||"unknown"},{merge:!0}),q=!0}}),!q){i("","info"),T(!1);return}await M.commit(),i(`${u} `,"success"),s(t,n?.name,"",`${g} ${u}`)}catch(M){console.error("Save targets error:",M),i("","error")}finally{T(!1)}};return f.jsx(Yr,{children:f.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 pb-20",children:[f.jsx(Pt,{children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-xl",children:f.jsx(Gu,{size:24})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-stone-800",children:""}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-500",children:[f.jsx("p",{children:"Annual Budget Planning"}),t==="store"&&f.jsxs("span",{className:"flex items-center gap-1 text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full",children:[f.jsx(Df,{size:10})," "]})]})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[f.jsxs("div",{className:"relative min-w-[100px] flex-1 md:flex-none",children:[f.jsxs("select",{value:u,onChange:M=>d(Number(M.target.value)),className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none",children:[f.jsxs("option",{value:l-1,children:[l-1," "]}),f.jsxs("option",{value:l,children:[l," "]}),f.jsxs("option",{value:l+1,children:[l+1," "]})]}),f.jsx(Ws,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]}),f.jsx("div",{className:"relative min-w-[120px] flex-1 md:flex-none",children:f.jsxs("select",{value:m,onChange:M=>{p(M.target.value),b("")},disabled:t!=="director",className:"w-full pl-3 pr-8 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(e).map(M=>f.jsxs("option",{value:M,children:[M,""]},M))]})}),f.jsxs("div",{className:"relative min-w-[140px] flex-1 md:flex-none",children:[f.jsxs("select",{value:g,onChange:M=>b(M.target.value),disabled:!m,className:"w-full pl-9 pr-4 py-3 md:py-2 bg-stone-50 border border-stone-200 rounded-xl font-bold text-stone-700 outline-none focus:border-indigo-400 appearance-none disabled:opacity-50",children:[f.jsx("option",{value:"",children:"..."}),I.map(M=>f.jsx("option",{value:M,children:M},M))]}),f.jsx(ki,{className:"absolute left-3 top-3.5 md:top-2.5 text-stone-400 pointer-events-none",size:16})]})]})]})}),g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block",children:f.jsx(Pt,{title:`${g} - ${u} `,children:f.jsx("div",{className:"overflow-hidden rounded-xl border border-stone-200",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"bg-stone-50 text-stone-500 font-bold border-b border-stone-200",children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-3 pl-4",children:""}),f.jsx("th",{className:"py-3 px-2",children:" (Cash)"}),f.jsx("th",{className:"py-3 px-2",children:" (Accrual)"}),f.jsx("th",{className:"py-3 px-2 w-[80px]",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-stone-100",children:S.map((M,q)=>{const j=L(q);return f.jsxs("tr",{className:`transition-colors ${j?"bg-stone-50/50":"hover:bg-stone-50"}`,children:[f.jsxs("td",{className:"py-2 pl-4 font-bold text-stone-600 w-[80px]",children:[M.month," "]}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(il,{size:14,className:`absolute left-3 top-3 ${j?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:j?"-":"0",value:M.cashTarget,onChange:E=>k(q,"cashTarget",E.target.value),disabled:j,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${j?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-amber-400 focus:ring-2 focus:ring-amber-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2",children:f.jsxs("div",{className:"relative",children:[f.jsx(pw,{size:14,className:`absolute left-3 top-3 ${j?"text-stone-300":"text-stone-400"}`}),f.jsx("input",{type:"text",placeholder:j?"-":"0",value:M.accrualTarget,onChange:E=>k(q,"accrualTarget",E.target.value),disabled:j,className:`w-full pl-8 pr-3 py-2 border rounded-lg font-mono font-bold outline-none transition-colors
                                    ${j?"bg-transparent text-stone-400 border-transparent cursor-not-allowed":"bg-white text-stone-700 border-stone-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100"}
                                  `})]})}),f.jsx("td",{className:"py-2 px-2 text-center",children:j?f.jsx("div",{className:"flex items-center justify-center text-stone-300",title:"",children:f.jsx(Df,{size:16})}):M.cashTarget?f.jsx("div",{className:"flex items-center justify-center text-emerald-500",children:f.jsx(zs,{size:16,className:"opacity-0 group-hover:opacity-50"})}):f.jsx("div",{className:"flex items-center justify-center text-stone-200",children:f.jsx(Gu,{size:16})})})]},M.month)})})]})})})}),f.jsxs("div",{className:"md:hidden space-y-4",children:[f.jsx("div",{className:"flex items-center justify-between px-2",children:f.jsxs("h3",{className:"font-bold text-stone-700 text-lg flex items-center gap-2",children:[f.jsx(ki,{size:18,className:"text-amber-500"}),g,f.jsx("span",{className:"text-xs font-normal text-stone-400 bg-white px-2 py-1 rounded-full border",children:u})]})}),S.map((M,q)=>{const j=L(q);return f.jsxs("div",{className:`p-4 rounded-2xl border shadow-sm transition-all
                      ${j?"bg-stone-100 border-stone-200 opacity-80":"bg-white border-stone-100"}
                    `,children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-stone-100 pb-2",children:[f.jsxs("h4",{className:"font-bold text-lg text-stone-700 flex items-center gap-2",children:[f.jsxs("span",{className:"bg-stone-800 text-white text-xs px-2 py-1 rounded-md",children:[M.month," "]}),M.cashTarget&&!j&&f.jsx(zs,{size:16,className:"text-emerald-500"})]}),j&&f.jsxs("div",{className:"flex items-center gap-1 text-xs font-bold text-stone-400 bg-stone-200 px-2 py-1 rounded-lg",children:[f.jsx(Df,{size:12})," "]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(il,{size:12}),"  (Cash)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:j?"":"...",value:M.cashTarget,onChange:E=>k(q,"cashTarget",E.target.value),disabled:j,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${j?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-amber-400 focus:shadow-lg"}
                          `})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"text-xs font-bold text-stone-400 mb-1 block flex items-center gap-1",children:[f.jsx(pw,{size:12}),"  (Accrual)"]}),f.jsx("input",{type:"text",inputMode:"numeric",placeholder:j?"":"...",value:M.accrualTarget,onChange:E=>k(q,"accrualTarget",E.target.value),disabled:j,className:`w-full p-3 border-2 rounded-xl text-lg font-bold outline-none transition-all
                            ${j?"bg-transparent border-transparent text-stone-400":"bg-stone-50 border-stone-100 text-stone-800 focus:bg-white focus:border-indigo-400 focus:shadow-lg"}
                          `})]})]})]},M.month)})]}),f.jsx("div",{className:"fixed bottom-6 left-0 right-0 px-4 md:static md:px-0 z-50 md:mt-6 md:flex md:justify-end",children:f.jsx("button",{onClick:B,disabled:w,className:"w-full md:w-auto px-8 py-4 md:py-3 bg-stone-800 text-white rounded-2xl md:rounded-xl font-bold shadow-2xl md:shadow-lg hover:bg-stone-700 hover:shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:w?"...":f.jsxs(f.Fragment,{children:[f.jsx(_c,{size:20})," "]})})}),f.jsx("div",{className:"h-24 md:hidden"})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 bg-stone-50 rounded-2xl border-2 border-dashed border-stone-200",children:[f.jsx(ki,{size:48,className:"mx-auto mb-2 opacity-20"}),f.jsx("p",{children:""})]})]})})},ufe=()=>{const{showToast:t,therapists:e,therapistTargets:n,userRole:r,currentUser:i,managers:s}=_.useContext(Mr),[l,u]=_.useState(new Date().getFullYear().toString()),[d,m]=_.useState(""),[p,g]=_.useState(""),[b,w]=_.useState(""),[T,S]=_.useState({});_.useEffect(()=>{if(r==="therapist"&&i){const k=Object.keys(s).find(B=>s[B].includes(i.storeName?.replace("CYJ","").replace("","")));k&&m(k),g(i.store||""),w(i.id)}else if(r==="store"&&i){const k=i.stores||[i.storeName];if(k.length>0){const B=k[0].replace("CYJ","").replace("",""),M=Object.keys(s).find(q=>s[q].includes(B));M&&m(M),k.length===1&&g(B)}}else r==="manager"&&i&&m(i.name)},[r,i,s]);const A=_.useMemo(()=>{if(!d)return[];const k=s[d]||[];if(r==="store"&&i){const B=(i.stores||[i.storeName]).map(M=>M.replace("CYJ","").replace("",""));return k.filter(M=>B.includes(M))}return k},[d,s,r,i]),I=_.useMemo(()=>p?e.filter(k=>k.status==="active"&&k.store===p).sort((k,B)=>k.name.localeCompare(B.name)):[],[p,e]);_.useEffect(()=>{if(b&&l){const k=`${b}_${l}`,B=n[k]||{};S(B.monthlyTargets||{})}else S({})},[b,l,n]);const L=async()=>{if(!b)return t("","error");try{const k=`${b}_${l}`;await Rn(lt(Be,"artifacts",ze,"public","data","therapist_targets",k),{therapistId:b,year:l,monthlyTargets:T,updatedAt:rd()},{merge:!0}),t("","success")}catch{t("","error")}};return f.jsx(Yr,{children:f.jsx(Pt,{title:"",subtitle:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(bA,{size:12}),"  ()"]}),f.jsxs("select",{value:d,onChange:k=>{m(k.target.value),g(""),w("")},disabled:r==="manager"||r==="therapist"||r==="store"&&d!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(k=>f.jsxs("option",{value:k,children:[k,""]},k))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(ki,{size:12})," "]}),f.jsxs("select",{value:p,onChange:k=>{g(k.target.value),w("")},disabled:!d||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),A.map(k=>f.jsxs("option",{value:k,children:[k,""]},k))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(wc,{size:12})," "]}),f.jsxs("select",{value:b,onChange:k=>w(k.target.value),disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),I.map(k=>f.jsx("option",{value:k.id,children:k.name},k.id))]})]}),f.jsxs("div",{className:"w-full md:w-32",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:l,onChange:k=>u(k.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white",children:[2024,2025,2026].map(k=>f.jsxs("option",{value:k,children:[k,""]},k))})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:L,disabled:!b,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(_c,{size:18})," "]})}),b?f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 animate-in slide-in-from-top-2",children:Array.from({length:12},(k,B)=>B+1).map(k=>f.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"text-xs font-bold text-stone-400 mb-2 uppercase",children:[k," "]}),f.jsxs("div",{className:"relative",children:[f.jsx(il,{size:14,className:"absolute left-3 top-3 text-stone-400"}),f.jsx("input",{type:"number",value:T[k]||"",onChange:B=>S({...T,[k]:B.target.value}),placeholder:"0",className:"w-full pl-8 pr-3 py-2 border border-stone-200 rounded-lg font-mono font-bold text-stone-700 focus:border-amber-400 outline-none transition-colors focus:bg-white"})]})]},k))}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(Qh,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})},dfe=()=>{const{showToast:t,therapists:e,therapistSchedules:n,userRole:r,currentUser:i,managers:s}=_.useContext(Mr),[l,u]=_.useState(new Date().getFullYear().toString()),[d,m]=_.useState((new Date().getMonth()+1).toString()),[p,g]=_.useState(""),[b,w]=_.useState(""),[T,S]=_.useState(""),[A,I]=_.useState([]);_.useEffect(()=>{if(r==="therapist"&&i){const j=Object.keys(s).find(E=>s[E].includes(i.storeName?.replace("CYJ","").replace("","")));j&&g(j),w(i.store||""),S(i.id)}else if(r==="store"&&i){const j=i.stores||[i.storeName];if(j.length>0){const E=j[0].replace("CYJ","").replace("",""),O=Object.keys(s).find(R=>s[R].includes(E));O&&g(O),j.length===1&&w(E)}}else r==="manager"&&i&&g(i.name)},[r,i,s]);const L=_.useMemo(()=>{if(!p)return[];const j=s[p]||[];if(r==="store"&&i){const E=(i.stores||[i.storeName]).map(O=>O.replace("CYJ","").replace("",""));return j.filter(O=>E.includes(O))}return j},[p,s,r,i]),k=_.useMemo(()=>b?e.filter(j=>j.status==="active"&&j.store===b).sort((j,E)=>j.name.localeCompare(E.name)):[],[b,e]);_.useEffect(()=>{if(T&&l&&d){const j=`${T}_${l}_${parseInt(d)}`,E=n[j]||{};I(E.daysOff||[])}else I([])},[T,l,d,n]);const B=j=>{I(E=>E.includes(j)?E.filter(O=>O!==j):[...E,j].sort((O,R)=>O-R))},M=async()=>{if(!T)return t("","error");try{const j=`${T}_${l}_${parseInt(d)}`;await Rn(lt(Be,"artifacts",ze,"public","data","therapist_schedules",j),{therapistId:T,year:l,month:parseInt(d),daysOff:A,updatedAt:rd()},{merge:!0}),t("","success")}catch{t("","error")}},q=(j,E)=>new Date(j,E,0).getDate();return f.jsx(Yr,{children:f.jsx(Pt,{title:"",subtitle:" ()",children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-stone-50 p-4 rounded-xl border border-stone-200",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(bA,{size:12}),"  ()"]}),f.jsxs("select",{value:p,onChange:j=>{g(j.target.value),w(""),S("")},disabled:r==="manager"||r==="therapist"||r==="store"&&p!=="",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),Object.keys(s).map(j=>f.jsxs("option",{value:j,children:[j,""]},j))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(ki,{size:12})," "]}),f.jsxs("select",{value:b,onChange:j=>{w(j.target.value),S("")},disabled:!p||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),L.map(j=>f.jsxs("option",{value:j,children:[j,""]},j))]})]}),f.jsxs("div",{className:"flex-1 w-full",children:[f.jsxs("label",{className:"block text-xs font-bold text-stone-400 mb-1 flex items-center gap-1",children:[f.jsx(wc,{size:12})," "]}),f.jsxs("select",{value:T,onChange:j=>S(j.target.value),disabled:!b||r==="therapist",className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl outline-none focus:border-amber-400 font-bold bg-white disabled:bg-stone-100 disabled:text-stone-500",children:[f.jsx("option",{value:"",children:"..."}),k.map(j=>f.jsx("option",{value:j.id,children:j.name},j.id))]})]}),f.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsxs("select",{value:l,onChange:j=>u(j.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:[f.jsx("option",{value:"2024",children:"2024"}),f.jsx("option",{value:"2025",children:"2025"}),f.jsx("option",{value:"2026",children:"2026"})]})]}),f.jsxs("div",{className:"w-1/2 md:w-24",children:[f.jsx("label",{className:"block text-xs font-bold text-stone-400 mb-1",children:""}),f.jsx("select",{value:d,onChange:j=>m(j.target.value),className:"w-full px-4 py-2 border-2 border-stone-200 rounded-xl font-bold bg-white",children:Array.from({length:12},(j,E)=>E+1).map(j=>f.jsxs("option",{value:j,children:[j,""]},j))})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsxs("button",{onClick:M,disabled:!T,className:"w-full md:w-auto bg-stone-800 text-white px-8 py-3 rounded-xl font-bold hover:bg-stone-700 shadow-sm flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95",children:[f.jsx(_c,{size:18})," "]})}),T?f.jsxs("div",{className:"bg-stone-50 p-6 rounded-2xl border border-stone-200 animate-in fade-in",children:[f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2 text-center",children:["","","","","","",""].map(j=>f.jsx("div",{className:"text-xs font-bold text-stone-400",children:j},j))}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Array.from({length:new Date(l,d-1,1).getDay()}).map((j,E)=>f.jsx("div",{},`empty-${E}`)),Array.from({length:q(l,d)}).map((j,E)=>{const O=E+1,R=A.includes(O);return f.jsxs("button",{onClick:()=>B(O),className:`aspect-square rounded-xl font-bold text-sm flex items-center justify-center transition-all ${R?"bg-rose-500 text-white shadow-md shadow-rose-200 scale-95":"bg-white text-stone-700 border border-stone-200 hover:border-amber-400"}`,children:[O,R&&f.jsx("span",{className:"absolute bottom-1 text-[8px] opacity-80",children:""})]},O)})]}),f.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs font-bold text-stone-500",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-white border border-stone-300 rounded"})," "]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 bg-rose-500 rounded"})," "]})]})]}):f.jsxs("div",{className:"py-20 text-center text-stone-400 border-2 border-dashed border-stone-100 rounded-2xl flex flex-col items-center justify-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 bg-stone-50 rounded-full flex items-center justify-center",children:f.jsx(Ws,{size:32,className:"opacity-20"})}),f.jsx("p",{children:"  >  >  "})]})]})})})};function ffe(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,s]=_.useState(null),[l,u]=_.useState(!0),[d,m]=_.useState("dashboard"),[p,g]=_.useState(!0),[b,w]=_.useState(null),[T,S]=_.useState({isOpen:!1,title:"",message:"",onConfirm:null}),[A,I]=_.useState(""),[L,k]=_.useState([]),[B,M]=_.useState({}),[q,j]=_.useState({newASP:3500,trafficASP:1200}),[E,O]=_.useState(Bde),[R,D]=_.useState([]),[V,z]=_.useState({}),[X,ce]=_.useState(wz),[K,Z]=_.useState([]),[he,me]=_.useState({password:"0000"}),[ee,$]=_.useState([]),[Y,Q]=_.useState({}),[ne,_e]=_.useState({}),[oe,we]=_.useState([]),[je,le]=_.useState(!1),[Te,Ve]=_.useState(15),xe=_.useRef(Date.now()),[bt,qe]=_.useState(new Date().getFullYear().toString()),[zt,$t]=_.useState((new Date().getMonth()+1).toString()),[Bn,Sr]=_.useState(()=>Sz(new Date)),Qe=H=>(H||"").replace(/CYJ|/g,"").trim(),Rt=_.useCallback(async(H,fe,Se,He)=>{let xt="PC";if(typeof navigator<"u"){const Tt=navigator.userAgent.toLowerCase();Tt.includes("android")?xt="Android":Tt.includes("iphone")||Tt.includes("ipad")?xt="iOS":Tt.includes("mobile")&&(xt="Mobile")}try{await hS(oi(Be,"artifacts",ze,"public","data","system_logs"),{timestamp:rd(),role:H,user:fe,action:Se,details:He,device:xt})}catch(Tt){console.error("Failed to log activity",Tt)}},[]),Er=_.useCallback(async(H="")=>{const fe=i?.name||(n==="director"?"":n==="trainer"?"":"");n&&Rt(n,fe,"",H),le(!1),Ve(15),xe.current=Date.now(),localStorage.removeItem("cyj_input_draft"),localStorage.removeItem("cyj_input_draft_v2"),localStorage.removeItem("cyj_input_draft_v3"),localStorage.removeItem("cyj_therapist_draft"),localStorage.removeItem("cyj_therapist_draft_v2"),r(null),s(null),m("dashboard")},[i,n,Rt]),Ha=_.useCallback(()=>{n&&(xe.current=Date.now(),je&&(le(!1),Ve(15)))},[n,je]);_.useEffect(()=>{let H=null;return n&&(H=setInterval(()=>{const Se=Date.now()-xe.current,He=165*1e3,xt=180*1e3;if(Se>xt)clearInterval(H),Er(" 3 ");else if(Se>He){je||le(!0);const Tt=Math.ceil((xt-Se)/1e3);Ve(Tt>0?Tt:0)}else je&&le(!1)},1e3)),()=>{H&&clearInterval(H)}},[n,je,Er]),_.useEffect(()=>{if(n){const H=["mousemove","mousedown","keypress","scroll","touchstart","click"];let fe;const Se=()=>{fe||(Ha(),fe=setTimeout(()=>{fe=null},500))};return H.forEach(He=>window.addEventListener(He,Se)),xe.current=Date.now(),()=>{H.forEach(He=>window.removeEventListener(He,Se))}}},[n,Ha]),_.useEffect(()=>((async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await LU(sx,__initial_auth_token):await PU(sx)}catch(fe){console.warn("Auth Error:",fe)}})(),UU(sx,fe=>{e(fe),u(!1)})),[]),_.useEffect(()=>{if(!t)return;const H=Fr(Lu(oi(Be,"artifacts",ze,"public","data","daily_reports"),Tg("date","desc")),Ze=>k(Ze.docs.map(_t=>({id:_t.id,..._t.data()})))),fe=Fr(oi(Be,"artifacts",ze,"public","data","monthly_targets"),Ze=>{const _t={};Ze.docs.forEach(yn=>_t[yn.id]=yn.data()),M(_t)}),Se=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","kpi_targets"),Ze=>Ze.exists()&&j(Ze.data())),He=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","org_structure"),Ze=>Ze.exists()&&O(Ze.data().managers)),xt=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","store_account_data"),Ze=>Ze.exists()&&D(Ze.data().accounts)),Tt=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","manager_auth"),Ze=>Ze.exists()&&z(Ze.data())),tr=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","permissions"),Ze=>Ze.exists()&&ce(Ze.data())),dl=Fr(oi(Be,"artifacts",ze,"public","data","therapists"),Ze=>Z(Ze.docs.map(_t=>({id:_t.id,..._t.data()})))),Ar=Fr(Lu(oi(Be,"artifacts",ze,"public","data","therapist_daily_reports"),Tg("date","desc"),HD(1e3)),Ze=>$(Ze.docs.map(_t=>({id:_t.id,..._t.data()})))),fl=Fr(oi(Be,"artifacts",ze,"public","data","therapist_schedules"),Ze=>{const _t={};Ze.docs.forEach(yn=>_t[yn.id]=yn.data()),Q(_t)}),hl=Fr(oi(Be,"artifacts",ze,"public","data","therapist_targets"),Ze=>{const _t={};Ze.docs.forEach(yn=>_t[yn.id]=yn.data()),_e(_t)}),Wa=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","trainer_auth"),Ze=>{Ze.exists()?me(Ze.data()):me({password:"0000"})}),Bi=Fr(lt(Be,"artifacts",ze,"public","data","global_settings","audit_exclusions"),Ze=>{Ze.exists()?we(Ze.data().stores||[]):we([])});return()=>{H(),fe(),Se(),He(),xt(),Tt(),tr(),dl(),Ar(),fl(),hl(),Wa(),Bi()}},[t]);const Xs=(H,fe=null)=>{let Se=fe;if(H==="therapist"&&fe?.name){const xt=K.find(Tt=>Tt.name===fe.name);xt&&(Se={...fe,...xt,id:xt.id||fe.id})}r(H),Se&&s(Se);const He=Se?.name||(H==="director"?"":H==="trainer"?"":"");Rt(H,He,"",""),m("dashboard")},un=async(H,fe)=>{try{const Se=R.map(He=>He.id===H?{...He,password:fe}:He);return await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","store_account_data"),{accounts:Se}),!0}catch{return!1}},Xr=async(H,fe)=>{try{return await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","manager_auth"),{[H]:fe},{merge:!0}),!0}catch{return!1}},Vi=async(H,fe)=>{try{return await Ng(lt(Be,"artifacts",ze,"public","data","therapists",H),{password:fe}),!0}catch(Se){return console.error(Se),!1}},Ui=async H=>{try{return await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","trainer_auth"),{password:H}),!0}catch(fe){return console.error(fe),!1}},Qr=async H=>{try{return await Rn(lt(Be,"artifacts",ze,"public","data","global_settings","audit_exclusions"),{stores:H}),!0}catch(fe){return console.error(fe),!1}},Ka=_.useCallback(H=>{m("store-analysis"),window.dispatchEvent(new CustomEvent("navigate-to-store",{detail:H}))},[]),aa=_.useMemo(()=>{if(n===Yn.TRAINER.id)return[];if(n===Yn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(fe=>fe&&fe.startsWith("CYJ")?fe:`CYJ${fe}`);return L.filter(fe=>H.includes(fe.storeName))}if(n===Yn.MANAGER.id&&i){const H=(E[i.name]||[]).map(fe=>`CYJ${fe}`);return L.filter(fe=>H.includes(fe.storeName))}return L},[L,n,i,E]),Ga=_.useMemo(()=>{if(n===Yn.DIRECTOR.id||n===Yn.TRAINER.id||n===Yn.THERAPIST.id)return ee;if(n===Yn.MANAGER.id&&i){const H=E[i.name]||[];return ee.filter(fe=>H.includes(Qe(fe.storeName)))}if(n===Yn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(Qe);return ee.filter(fe=>H.includes(Qe(fe.storeName)))}return[]},[ee,n,i,E]),Ya=_.useMemo(()=>{if(n===Yn.DIRECTOR.id||n===Yn.TRAINER.id)return K;if(n===Yn.MANAGER.id&&i){const H=E[i.name]||[];return K.filter(fe=>H.includes(Qe(fe.store)))}if(n===Yn.STORE.id&&i){const H=(i.stores||[i.storeName]).map(Qe);return K.filter(fe=>H.includes(Qe(fe.store)))}return n===Yn.THERAPIST.id&&i?K.filter(H=>H.id===i.id):[]},[K,n,i,E]),er=_.useMemo(()=>{let H=E;if(n===Yn.MANAGER.id&&i){const fe=E[i.name]||[];H={[i.name]:fe}}else if(n===Yn.STORE.id&&i){const fe=i.stores||(i.storeName?[i.storeName]:[]),Se={};Object.entries(E).forEach(([He,xt])=>{const Tt=xt.filter(tr=>fe.includes(tr));Tt.length>0&&(Se[He]=Tt)}),H=Se}if(d!=="settings"){const fe={};return Object.entries(H).forEach(([Se,He])=>{!Se.includes("")&&!Se.includes("")&&(fe[Se]=He)}),fe}return H},[E,n,i,d]),dn=_.useMemo(()=>{const H={};return Object.entries(E).forEach(([fe,Se])=>{!fe.includes("")&&!fe.includes("")&&(H[fe]=Se)}),H},[E]),$n=sfe(aa,er,B,bt,zt),qt=(H,fe="info")=>w({message:H,type:fe}),Qs=_.useCallback((H,fe,Se)=>S({isOpen:!0,title:H,message:fe,onConfirm:()=>{Se(),S(He=>({...He,isOpen:!1}))}}),[]),sa=()=>S(H=>({...H,isOpen:!1})),Zs=H=>`$${(H||0).toLocaleString()}`,Dr=H=>(H||0).toLocaleString(),mi=_.useMemo(()=>Object.values(E).flat().map(H=>`CYJ${H}`),[E]),Yt=_.useMemo(()=>({user:t,loading:l,analytics:$n,managers:er,budgets:B,targets:q,rawData:aa,allReports:L,showToast:qt,openConfirm:Qs,fmtMoney:Zs,fmtNum:Dr,inputDate:Bn,setInputDate:Sr,storeList:$n?.storeList||[],setTargets:j,selectedYear:bt,selectedMonth:zt,permissions:X,storeAccounts:R,managerAuth:V,currentUser:i,userRole:n,logActivity:Rt,handleUpdateStorePassword:un,handleUpdateManagerPassword:Xr,handleUpdateTherapistPassword:Vi,navigateToStore:Ka,activeView:d,appId:ze,therapists:Ya,therapistReports:Ga,therapistSchedules:Y,therapistTargets:ne,trainerAuth:he,handleUpdateTrainerAuth:Ui,auditExclusions:oe,handleUpdateAuditExclusions:Qr}),[t,l,$n,er,B,q,aa,L,Bn,bt,zt,X,R,V,i,n,Rt,un,Xr,Vi,Ka,d,ze,Ya,Ga,Y,ne,he,Ui,oe,Qr]);return l?f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-[#F9F8F6]",children:[f.jsx(Vo,{className:"w-16 h-16 animate-spin text-stone-400 mb-4"}),f.jsx("p",{className:"animate-pulse text-stone-500 font-bold tracking-wider",children:"Loading DRCYJ Cloud..."})]}):n?f.jsx(Mr.Provider,{value:Yt,children:f.jsxs("div",{className:"flex min-h-screen bg-[#F9F8F6] text-stone-600 font-sans selection:bg-stone-200 selection:text-stone-800 overflow-x-hidden",children:[f.jsx(Hde,{activeView:d,setActiveView:m,isSidebarOpen:p,setSidebarOpen:g,user:t,userRole:n,onLogout:()=>Er(),permissions:X,currentUser:i}),f.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 w-full max-w-full ${p?"md:ml-64":"md:ml-20"} ml-0`,children:[f.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-md border-b border-stone-200 sticky top-0 z-40 px-4 md:px-8 flex items-center justify-between shadow-sm shadow-stone-200/50 shrink-0 transition-all",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>g(!p),className:"p-2.5 hover:bg-stone-100 rounded-xl text-stone-400 hidden md:block transition-colors",children:f.jsx(nde,{size:24})}),f.jsxs("h1",{className:"text-xl md:text-2xl font-extrabold text-stone-800 tracking-tight truncate hidden sm:block flex items-center gap-2",children:[f.jsx("span",{className:"text-amber-600",children:""})," ",gc.find(H=>H.id===d)?.label||(d==="targets"?"":"DRCYJ System")]}),f.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight truncate md:hidden flex items-center gap-2",children:[f.jsx(uz,{size:20,className:"text-amber-600"})," DRCYJ Cloud"]})]}),f.jsxs("div",{className:"flex items-center gap-3 md:gap-5 flex-1 justify-end",children:[f.jsxs("div",{className:"relative hidden md:block w-56 lg:w-72 group",children:[f.jsx(xA,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:18}),f.jsx("input",{type:"text",placeholder:"...",value:A,onChange:H=>I(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-stone-200 rounded-full text-sm focus:ring-4 focus:ring-stone-100 focus:border-stone-300 transition-all outline-none shadow-sm text-stone-600 placeholder-stone-300"}),A&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-stone-200 rounded-2xl shadow-xl z-50 max-h-60 overflow-y-auto animate-in fade-in slide-in-from-top-2",children:mi.filter(H=>H.includes(A)).length>0?mi.filter(H=>H.includes(A)).map(H=>f.jsxs("button",{onClick:()=>{Ka(H),I("")},className:"w-full text-left px-4 py-3 hover:bg-stone-50 text-sm font-medium text-stone-600 flex items-center gap-2 transition-colors",children:[f.jsx(ki,{size:16,className:"text-stone-400"})," ",H]},H)):f.jsx("div",{className:"px-4 py-3 text-xs text-stone-400 text-center",children:""})})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-stone-100 px-2 py-1 md:px-3 md:py-1.5 rounded-lg border border-stone-200",children:[f.jsx(hz,{size:16,className:"text-stone-400 hidden sm:block"}),f.jsx("select",{value:bt,onChange:H=>qe(H.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none border-r border-stone-200 pr-2 mr-2 cursor-pointer hover:text-stone-800 transition-colors",children:[2024,2025,2026].map(H=>f.jsx("option",{value:H,children:H},H))}),f.jsx("select",{value:zt,onChange:H=>$t(H.target.value),className:"bg-transparent text-sm font-bold text-stone-600 outline-none cursor-pointer hover:text-stone-800 transition-colors",children:Array.from({length:12},(H,fe)=>fe+1).map(H=>f.jsxs("option",{value:H,children:[H,""]},H))})]})]})]}),f.jsx(Kde,{activeView:d,setActiveView:m,permissions:X,userRole:n,onLogout:()=>Er()}),f.jsxs("main",{className:"flex-1 p-4 md:p-8 overflow-y-auto overflow-x-hidden min-w-0 w-full",children:[d==="dashboard"&&f.jsx(Yde,{}),d==="regional"&&f.jsx(efe,{}),d==="ranking"&&f.jsx(tfe,{}),d==="audit"&&f.jsx(afe,{}),d==="history"&&f.jsx(Jde,{}),d==="input"&&f.jsx(Zde,{}),d==="logs"&&f.jsx(rfe,{}),d==="settings"&&f.jsx(ife,{}),d==="annual"&&f.jsx(lfe,{}),d==="store-analysis"&&f.jsx(nfe,{}),d==="targets"&&f.jsx(cfe,{}),d==="t-targets"&&f.jsx(ufe,{}),d==="t-schedule"&&f.jsx(dfe,{})]})]}),b&&f.jsx(qde,{message:b.message,type:b.type,onClose:()=>w(null)}),f.jsx(Fde,{isOpen:T.isOpen,title:T.title,message:T.message,onConfirm:T.onConfirm,onCancel:sa}),je&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:f.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center space-y-6 animate-in zoom-in-95 duration-300 border border-stone-200",children:[f.jsxs("div",{className:"w-20 h-20 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mx-auto shadow-inner",children:[f.jsx(jue,{size:40,className:"animate-pulse"})," "]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-stone-800 mb-2",children:""}),f.jsxs("p",{className:"text-stone-500 font-medium",children:["",f.jsx("br",{})," ",f.jsx("span",{className:"text-rose-500 text-2xl font-black font-mono inline-block min-w-[2ch]",children:Te})," "]})]}),f.jsx("button",{onClick:Ha,className:"w-full py-4 bg-stone-800 text-white rounded-2xl font-bold hover:bg-stone-700 transition-all active:scale-95 shadow-lg",children:""})]})})]})}):f.jsx(Gde,{onLogin:Xs,storeAccounts:R,managers:dn,managerAuth:V,therapists:K,onUpdatePassword:un,onUpdateManagerPassword:Xr,onUpdateTherapistPassword:Vi,trainerAuth:he,handleUpdateTrainerAuth:Ui})}d9.createRoot(document.getElementById("root")).render(f.jsx(_.StrictMode,{children:f.jsx(ffe,{})}));
